name: "Preproduction CI for Azure Rest API specifications"

trigger: none

variables:
  TRAVIS: 'true'
  TRAVIS_BRANCH: $(System.PullRequest.TargetBranch)
  TRAVIS_PULL_REQUEST: $(System.PullRequest.PullRequestNumber)
  TRAVIS_REPO_SLUG: $(Build.Repository.Name)
  TRAVIS_PULL_REQUEST_SLUG: $(Build.Repository.Name)
  TRAVIS_PULL_REQUEST_SHA: $(Build.SourceVersion)
  PR_ONLY: 'true'

jobs:


- job: "jsonfmt"
  pool:
    vmImage: 'Ubuntu 16.04'
  steps:
  - task: Docker@2
    displayName: jsonfmt
    inputs:
      command: run
      tags: caarlos0/jsonfmt
      arguments: -v $(System.DefaultWorkingDirectory)/specification/:/specification/ --workdir /specification/ --failfast
