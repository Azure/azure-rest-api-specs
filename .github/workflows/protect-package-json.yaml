name: Protect package.json

on:
  pull_request:
    branches:
      - main
    paths:
      - package-lock.json
      - package.json

jobs:
  protect-package-json:
    name: Protect package.json

    runs-on: ubuntu-latest

    steps:
    - name: Fail
      run: |
        echo "::error ::Files 'package.json' and 'package-lock.json' should only be updated by the Azure SDK team.  If the changes are intentional, the PR may be merged via bypassing the branch protections."
        exit 1
