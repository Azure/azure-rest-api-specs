name: package.json Protection

on:
  pull_request:
    branches:
      - main
      - package-json-protection
    paths:
      - package-lock.json
      - package.json

jobs:
  package-json-protection:
    name: package.json Protection

    runs-on: ubuntu-latest

    steps:
    - name: Fail
      uses: actions/github-script@v7
      with:
        script: core.setFailed("'package.json' and 'package-lock.json' should only be updated by the Azure SDK team.  If the changes are intentional, the PR may be merged via bypassing the branch protections.")
