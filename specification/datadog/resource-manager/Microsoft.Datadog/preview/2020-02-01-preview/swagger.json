{
    "swagger": "2.0",
    "info": {
        "title": "Microsoft.Datadog",
        "version": "2020-02-01-preview"
    },
    "paths": {
        "/providers/Microsoft.Datadog/operations": {
            "get": {
                "tags": [
                    "MonitorsResource"
                ],
                "summary": "List all operations provided by Microsoft.Datadog for the 2020-02-01-preview api version.",
                "operationId": "Operations_List",
                "x-ms-examples": {
                    "Operations_List": {
                        "$ref": "./examples/Operations_List.json"
                    }
                },
                "produces": [
                    "application/json"
                ],
                "responses": {
                    "200": {
                        "description": "Success",
                        "schema": {
                            "$ref": "#/definitions/OperationListResult"
                        }
                    },
                    "default": {
                        "description": "Default error response.",
                        "schema": {
                            "$ref": "#/definitions/ResourceProviderDefaultErrorResponse"
                        }
                    }
                },
                "x-ms-pageable": {
                    "nextLinkName": "nextLink"
                }
            }
        },
        "/subscriptions/{subscriptionId}/providers/Microsoft.Datadog/monitors": {
            "get": {
                "tags": [
                    "MonitorsResource"
                ],
                "summary": "List all monitors under the specified subscription.",
                "operationId": "Monitors_List",
                "x-ms-examples": {
                    "Monitors_List": {
                        "$ref": "./examples/Monitors_List.json"
                    }
                },
                "produces": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "in": "path",
                        "name": "subscriptionId",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success",
                        "schema": {
                            "$ref": "#/definitions/DatadogMonitorResourceListResponse"
                        }
                    },
                    "default": {
                        "description": "Default error response.",
                        "schema": {
                            "$ref": "#/definitions/ResourceProviderDefaultErrorResponse"
                        }
                    }
                },
                "x-ms-pageable": {
                    "nextLinkName": "nextLink"
                }
            }
        },
        "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Datadog/monitors": {
            "get": {
                "tags": [
                    "MonitorsResource"
                ],
                "summary": "List all monitors under the specified resource group.",
                "operationId": "Monitors_ListByResourceGroup",
                "x-ms-examples": {
                    "Monitors_ListByResourceGroup": {
                        "$ref": "./examples/Monitors_ListByResourceGroup.json"
                    }
                },
                "produces": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "in": "path",
                        "name": "subscriptionId",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "path",
                        "name": "resourceGroupName",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success",
                        "schema": {
                            "$ref": "#/definitions/DatadogMonitorResourceListResponse"
                        }
                    },
                    "default": {
                        "description": "Default error response.",
                        "schema": {
                            "$ref": "#/definitions/ResourceProviderDefaultErrorResponse"
                        }
                    }
                },
                "x-ms-pageable": {
                    "nextLinkName": "nextLink"
                }
            }
        },
        "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Datadog/monitors/{monitorName}": {
            "get": {
                "tags": [
                    "MonitorsResource"
                ],
                "summary": "Get the properties of a specific monitor resource.",
                "operationId": "Monitors_Get",
                "x-ms-examples": {
                    "Monitors_Get": {
                        "$ref": "./examples/Monitors_Get.json"
                    }
                },
                "produces": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "in": "path",
                        "name": "subscriptionId",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "path",
                        "name": "resourceGroupName",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "path",
                        "name": "monitorName",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success",
                        "schema": {
                            "$ref": "#/definitions/DatadogMonitorResource"
                        }
                    },
                    "default": {
                        "description": "Default error response.",
                        "schema": {
                            "$ref": "#/definitions/ResourceProviderDefaultErrorResponse"
                        }
                    }
                }
            },
            "put": {
                "tags": [
                    "MonitorsResource"
                ],
                "summary": "Create a monitor resource.",
                "operationId": "Monitors_Create",
                "x-ms-examples": {
                    "Monitors_Create": {
                        "$ref": "./examples/Monitors_Create.json"
                    }
                },
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "in": "path",
                        "name": "subscriptionId",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "path",
                        "name": "resourceGroupName",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "path",
                        "name": "monitorName",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "body",
                        "name": "body",
                        "schema": {
                            "$ref": "#/definitions/DatadogMonitorResource"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success",
                        "schema": {
                            "$ref": "#/definitions/DatadogMonitorResource"
                        }
                    },
                    "201": {
                        "description": "Success",
                        "schema": {
                            "$ref": "#/definitions/DatadogMonitorResource"
                        }
                    },
                    "default": {
                        "description": "Default error response.",
                        "schema": {
                            "$ref": "#/definitions/ResourceProviderDefaultErrorResponse"
                        }
                    }
                },
                "x-ms-long-running-operation": true
            },
            "patch": {
                "tags": [
                    "MonitorsResource"
                ],
                "summary": "Update a monitor resource.",
                "operationId": "Monitors_Update",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "in": "path",
                        "name": "subscriptionId",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "path",
                        "name": "resourceGroupName",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "path",
                        "name": "monitorName",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "body",
                        "name": "body",
                        "schema": {
                            "$ref": "#/definitions/DatadogMonitorResourceUpdateParameters"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success",
                        "schema": {
                            "$ref": "#/definitions/DatadogMonitorResource"
                        }
                    },
                    "default": {
                        "description": "Default error response.",
                        "schema": {
                            "$ref": "#/definitions/ResourceProviderDefaultErrorResponse"
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "MonitorsResource"
                ],
                "summary": "Delete a monitor resource.",
                "operationId": "Monitors_Delete",
                "produces": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "in": "path",
                        "name": "subscriptionId",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "path",
                        "name": "resourceGroupName",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "path",
                        "name": "monitorName",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success"
                    },
                    "202": {
                        "description": "Success"
                    },
                    "204": {
                        "description": "Success"
                    },
                    "default": {
                        "description": "Default error response.",
                        "schema": {
                            "$ref": "#/definitions/ResourceProviderDefaultErrorResponse"
                        }
                    }
                },
                "x-ms-long-running-operation": true
            }
        },
        "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Datadog/monitors/{monitorName}/tagRules": {
            "get": {
                "tags": [
                    "Rules"
                ],
                "summary": "List the tag rules for a given monitor resource.",
                "operationId": "TagRules_List",
                "x-ms-examples": {
                    "TagRules_List": {
                        "$ref": "./examples/TagRules_List.json"
                    }
                },
                "produces": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "in": "path",
                        "name": "subscriptionId",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "path",
                        "name": "resourceGroupName",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "path",
                        "name": "monitorName",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success",
                        "schema": {
                            "$ref": "#/definitions/MonitoringTagRulesListResponse"
                        }
                    },
                    "default": {
                        "description": "Default error response.",
                        "schema": {
                            "$ref": "#/definitions/ResourceProviderDefaultErrorResponse"
                        }
                    }
                },
                "x-ms-pageable": {
                    "nextLinkName": "nextLink"
                }
            }
        },
        "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Datadog/monitors/{monitorName}/tagRules/{ruleSetName}": {
            "put": {
                "tags": [
                    "Rules"
                ],
                "summary": "Create or update a tag rule set for a given monitor resource.",
                "operationId": "TagRules_CreateOrUpdate",
                "x-ms-examples": {
                    "TagRules_CreateOrUpdate": {
                        "$ref": "./examples/TagRules_CreateOrUpdate.json"
                    }
                },
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "in": "path",
                        "name": "subscriptionId",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "path",
                        "name": "resourceGroupName",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "path",
                        "name": "monitorName",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "path",
                        "name": "ruleSetName",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "body",
                        "name": "body",
                        "schema": {
                            "$ref": "#/definitions/MonitoringTagRules"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success",
                        "schema": {
                            "$ref": "#/definitions/MonitoringTagRules"
                        }
                    },
                    "default": {
                        "description": "Default error response.",
                        "schema": {
                            "$ref": "#/definitions/ResourceProviderDefaultErrorResponse"
                        }
                    }
                }
            },
            "get": {
                "tags": [
                    "Rules"
                ],
                "summary": "Get a tag rule set for a given monitor resource.",
                "operationId": "TagRules_Get",
                "x-ms-examples": {
                    "TagRules_Get": {
                        "$ref": "./examples/TagRules_Get.json"
                    }
                },
                "produces": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "in": "path",
                        "name": "subscriptionId",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "path",
                        "name": "resourceGroupName",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "path",
                        "name": "monitorName",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "path",
                        "name": "ruleSetName",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success",
                        "schema": {
                            "$ref": "#/definitions/MonitoringTagRules"
                        }
                    },
                    "default": {
                        "description": "Default error response.",
                        "schema": {
                            "$ref": "#/definitions/ResourceProviderDefaultErrorResponse"
                        }
                    }
                }
            }
        },
        "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Datadog/monitors/{monitorName}/resourceRules": {
            "get": {
                "tags": [
                    "Rules"
                ],
                "summary": "List the resource rules for a given monitor resource.",
                "operationId": "ResourceRules_List",
                "x-ms-examples": {
                    "ResourceRules_List": {
                        "$ref": "./examples/ResourceRules_List.json"
                    }
                },
                "produces": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "in": "path",
                        "name": "subscriptionId",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "path",
                        "name": "resourceGroupName",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "path",
                        "name": "monitorName",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success",
                        "schema": {
                            "$ref": "#/definitions/MonitoringResourceRulesListResponse"
                        }
                    },
                    "default": {
                        "description": "Default error response.",
                        "schema": {
                            "$ref": "#/definitions/ResourceProviderDefaultErrorResponse"
                        }
                    }
                },
                "x-ms-pageable": {
                    "nextLinkName": "nextLink"
                }
            }
        },
        "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Datadog/monitors/{monitorName}/resourceRules/{ruleSetName}": {
            "put": {
                "tags": [
                    "Rules"
                ],
                "summary": "Create or update a resource rule set for a given monitor resource.",
                "operationId": "ResourceRules_CreateOrUpdate",
                "x-ms-examples": {
                    "ResourceRules_CreateOrUpdate": {
                        "$ref": "./examples/ResourceRules_CreateOrUpdate.json"
                    }
                },
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "in": "path",
                        "name": "subscriptionId",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "path",
                        "name": "resourceGroupName",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "path",
                        "name": "monitorName",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "path",
                        "name": "ruleSetName",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "body",
                        "name": "body",
                        "schema": {
                            "$ref": "#/definitions/MonitoringResourceRules"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success",
                        "schema": {
                            "$ref": "#/definitions/MonitoringResourceRules"
                        }
                    },
                    "default": {
                        "description": "Default error response.",
                        "schema": {
                            "$ref": "#/definitions/ResourceProviderDefaultErrorResponse"
                        }
                    }
                }
            },
            "get": {
                "tags": [
                    "Rules"
                ],
                "summary": "Get the resource rules for a given monitor resource.",
                "operationId": "ResourceRules_Get",
                "x-ms-examples": {
                    "ResourceRules_Get": {
                        "$ref": "./examples/ResourceRules_Get.json"
                    }
                },
                "produces": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "in": "path",
                        "name": "subscriptionId",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "path",
                        "name": "resourceGroupName",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "path",
                        "name": "monitorName",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "path",
                        "name": "ruleSetName",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success",
                        "schema": {
                            "$ref": "#/definitions/MonitoringResourceRules"
                        }
                    },
                    "default": {
                        "description": "Default error response.",
                        "schema": {
                            "$ref": "#/definitions/ResourceProviderDefaultErrorResponse"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "OperationDisplay": {
            "description": "The object that represents the operation.",
            "type": "object",
            "properties": {
                "provider": {
                    "description": "Service provider, i.e., Microsoft.Datadog.",
                    "type": "string"
                },
                "resource": {
                    "description": "Type on which the operation is performed, e.g., 'monitors'.",
                    "type": "string"
                },
                "operation": {
                    "description": "Operation type, e.g., read, write, delete, etc.",
                    "type": "string"
                },
                "description": {
                    "description": "Description of the operation, e.g., 'Write monitors'.",
                    "type": "string"
                }
            }
        },
        "OperationResult": {
            "description": "A Microsoft.Datadog REST API operation.",
            "type": "object",
            "properties": {
                "name": {
                    "description": "Operation name, i.e., {provider}/{resource}/{operation}.",
                    "type": "string"
                },
                "display": {
                    "$ref": "#/definitions/OperationDisplay"
                }
            }
        },
        "OperationListResult": {
            "description": "Result of GET request to list the Microsoft.Datadog operations.",
            "type": "object",
            "properties": {
                "value": {
                    "description": "List of operations supported by the Microsoft.Datadog provider.",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/OperationResult"
                    }
                },
                "nextLink": {
                    "description": "URL to get the next set of operation list results if there are any.",
                    "type": "string"
                }
            }
        },
        "ErrorResponseBody": {
            "type": "object",
            "properties": {
                "code": {
                    "type": "string"
                },
                "message": {
                    "type": "string"
                },
                "target": {
                    "type": "string"
                },
                "details": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/ErrorResponseBody"
                    }
                }
            }
        },
        "ResourceProviderDefaultErrorResponse": {
            "type": "object",
            "properties": {
                "error": {
                    "$ref": "#/definitions/ErrorResponseBody"
                }
            }
        },
        "ProvisioningState": {
            "enum": [
                "Accepted",
                "Creating",
                "Updating",
                "Deleting",
                "Succeeded",
                "Failed",
                "Canceled"
            ],
            "type": "string",
            "x-ms-enum": {
                "modelAsString": true
            }
        },
        "DatadogSubscriptionTypes": {
            "enum": [
                "trial",
                "free",
                "pro"
            ],
            "type": "string",
            "x-ms-enum": {
                "modelAsString": true
            }
        },
        "DatadogOrganizationProperties": {
            "type": "object",
            "properties": {
                "name": {
                    "description": "Name of the Datadog organization.",
                    "type": "string",
                    "readOnly": true
                },
                "id": {
                    "description": "Id of the Datadog organization.",
                    "type": "string",
                    "readOnly": true
                },
                "datadogSubscriptionType": {
                    "$ref": "#/definitions/DatadogSubscriptionTypes"
                },
                "apiKey": {
                    "description": "Api key associated to the Datadog organization.",
                    "type": "string",
                    "readOnly": true
                },
                "applicationKey": {
                    "description": "Application key associated to the Datadog organization.",
                    "type": "string",
                    "readOnly": true
                }
            }
        },
        "MonitorProperties": {
            "description": "Properties specific to the monitor resource.",
            "type": "object",
            "properties": {
                "provisioningState": {
                    "$ref": "#/definitions/ProvisioningState"
                },
                "datadogOrganizationProperties": {
                    "$ref": "#/definitions/DatadogOrganizationProperties"
                }
            }
        },
        "DatadogMonitorResource": {
            "required": [
                "location"
            ],
            "type": "object",
            "properties": {
                "id": {
                    "description": "ARM id of the monitor resource.",
                    "type": "string",
                    "readOnly": true
                },
                "name": {
                    "description": "Name of the monitor resource.",
                    "type": "string",
                    "readOnly": true
                },
                "type": {
                    "description": "The type of the monitor resource.",
                    "type": "string",
                    "readOnly": true
                },
                "properties": {
                    "$ref": "#/definitions/MonitorProperties"
                },
                "tags": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "string"
                    }
                },
                "location": {
                    "type": "string"
                }
            }
        },
        "DatadogMonitorResourceListResponse": {
            "description": "Response of a list operation.",
            "type": "object",
            "properties": {
                "value": {
                    "description": "Results of a list operation.",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/DatadogMonitorResource"
                    }
                },
                "nextLink": {
                    "description": "Link to the next set of results, if any.",
                    "type": "string"
                }
            }
        },
        "DatadogMonitorResourceUpdateParameters": {
            "type": "object",
            "properties": {
                "tags": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "string"
                    }
                }
            }
        },
        "MonitoringTagRuleProperties": {
            "description": "The properties of a tag rule set.",
            "type": "object",
            "properties": {
                "logTags": {
                    "description": "Capture logs of resources containing one of these tags. If no tags are specified, logs will be disabled.",
                    "type": "object",
                    "additionalProperties": {
                        "type": "string"
                    }
                },
                "metricTags": {
                    "description": "Capture metrics of resources containing one of these tags. If no tags are specified, metrics will be disabled.",
                    "type": "object",
                    "additionalProperties": {
                        "type": "string"
                    }
                }
            }
        },
        "MonitoringTagRules": {
            "description": "Capture logs and metrics of Azure resources based on ARM tags.",
            "type": "object",
            "properties": {
                "name": {
                    "description": "Name of the rule set.",
                    "type": "string"
                },
                "id": {
                    "description": "The id of the rule set.",
                    "type": "string"
                },
                "type": {
                    "description": "The type of the rule set.",
                    "type": "string"
                },
                "properties": {
                    "$ref": "#/definitions/MonitoringTagRuleProperties"
                }
            }
        },
        "MonitoringTagRulesListResponse": {
            "description": "Response of a list operation.",
            "type": "object",
            "properties": {
                "value": {
                    "description": "Results of a list operation.",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/MonitoringTagRules"
                    }
                },
                "nextLink": {
                    "description": "Link to the next set of results, if any.",
                    "type": "string"
                }
            }
        },
        "ResourceRule": {
            "description": "Rule specific to a resource, overriding the tag rules.",
            "type": "object",
            "properties": {
                "resourceId": {
                    "description": "The id of the resource targeted by the rule.",
                    "type": "string"
                },
                "enableLogs": {
                    "description": "Capture logs for the target resource.",
                    "type": "boolean"
                },
                "enableMetrics": {
                    "description": "Capture metrics for the target resource.",
                    "type": "boolean"
                }
            }
        },
        "MonitoringResourceRuleProperties": {
            "description": "The properties of a resource rule set.",
            "type": "object",
            "properties": {
                "resourceRules": {
                    "description": "The list of rules specific to resources, overriding the tag rules.",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/ResourceRule"
                    }
                }
            }
        },
        "MonitoringResourceRules": {
            "description": "Capture logs and metrics based on ARM resource identifiers.",
            "type": "object",
            "properties": {
                "name": {
                    "description": "Name of the rule set.",
                    "type": "string"
                },
                "id": {
                    "description": "The id of the rule set.",
                    "type": "string"
                },
                "type": {
                    "description": "The type of the rule set.",
                    "type": "string"
                },
                "properties": {
                    "$ref": "#/definitions/MonitoringResourceRuleProperties"
                }
            }
        },
        "MonitoringResourceRulesListResponse": {
            "description": "Response of a list operation.",
            "type": "object",
            "properties": {
                "value": {
                    "description": "Results of a list operation.",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/MonitoringResourceRules"
                    }
                },
                "nextLink": {
                    "description": "Link to the next set of results, if any.",
                    "type": "string"
                }
            }
        }
    }
}