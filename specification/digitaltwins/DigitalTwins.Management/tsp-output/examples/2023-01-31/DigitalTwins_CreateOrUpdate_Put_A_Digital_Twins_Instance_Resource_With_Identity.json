{
  "parameters": {
    "api-version": "2023-01-31",
    "digitalTwinsCreate": {
      "identity": {
        "type": "SystemAssigned,UserAssigned",
        "userAssignedIdentities": {
          "/subscriptions/50016170-c839-41ba-a724-51e9df440b9e/resourceGroups/testrg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/testidentity": {}
        }
      },
      "location": "WestUS2"
    },
    "resourceGroupName": "resRg",
    "resourceName": "myDigitalTwinsService",
    "subscriptionId": "50016170-c839-41ba-a724-51e9df440b9e"
  },
  "responses": {
    "200": {
      "body": {
        "name": "myDigitalTwinsService",
        "type": "Microsoft.DigitalTwins/digitalTwinsInstances",
        "id": "/subscriptions/50016170-c839-41ba-a724-51e9df440b9e/resourcegroups/resRg/providers/Microsoft.DigitalTwins/digitalTwinsInstances/myDigitalTwinsService",
        "identity": {
          "type": "SystemAssigned,UserAssigned",
          "principalId": "544215a9-21d8-4fb5-8094-8efbcc311dd0",
          "tenantId": "544215a9-21d8-4fb5-8094-8efbcc311dd0",
          "userAssignedIdentities": {
            "/subscriptions/50016170-c839-41ba-a724-51e9df440b9e/resourceGroups/testrg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/testidentity": {
              "clientId": "544215a9-21d8-4fb5-8094-8efbcc311dd0",
              "principalId": "50016170-c839-41ba-a724-51e9df440b9e"
            }
          }
        },
        "location": "westus2",
        "properties": {
          "createdTime": "2019-11-19T12:55:05.229Z",
          "hostName": "https://myDigitalTwinsService.api.wus2.ss.azuredigitaltwins-test.net",
          "lastUpdatedTime": "2019-12-06T12:21:58.610Z",
          "provisioningState": "Succeeded",
          "publicNetworkAccess": "Enabled"
        },
        "systemData": {
          "createdAt": "2021-03-11T17:14:59.4037715Z",
          "createdBy": "user@example.com",
          "createdByType": "User",
          "lastModifiedAt": "2021-03-11T17:15:02.5281409Z",
          "lastModifiedBy": "user@example.com",
          "lastModifiedByType": "User"
        },
        "tags": {
          "purpose": "dev"
        }
      }
    },
    "201": {
      "body": {
        "name": "myDigitalTwinsService",
        "type": "Microsoft.DigitalTwins/digitalTwinsInstances",
        "id": "/subscriptions/50016170-c839-41ba-a724-51e9df440b9e/resourcegroups/resRg/providers/Microsoft.DigitalTwins/digitalTwinsInstances/myDigitalTwinsService",
        "identity": {
          "type": "SystemAssigned,UserAssigned",
          "userAssignedIdentities": {
            "/subscriptions/50016170-c839-41ba-a724-51e9df440b9e/resourceGroups/testrg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/testidentity": {}
          }
        },
        "location": "westus2",
        "properties": {
          "createdTime": "2019-11-19T12:55:05.229Z",
          "hostName": null,
          "lastUpdatedTime": "2019-11-19T12:55:05.229Z",
          "provisioningState": "Provisioning",
          "publicNetworkAccess": "Enabled"
        },
        "systemData": {
          "createdAt": "2021-03-11T17:14:59.4037715Z",
          "createdBy": "user@example.com",
          "createdByType": "User",
          "lastModifiedAt": "2021-03-11T17:14:59.4037715Z",
          "lastModifiedBy": "user@example.com",
          "lastModifiedByType": "User"
        }
      },
      "headers": {
        "azure-asyncoperation": "https://management.azure.com/subscriptions/50016170-c839-41ba-a724-51e9df440b9e/providers/Microsoft.DigitalTwins/locations/westus2/operationStatuses/12345678-1234-1234-123456789012",
        "location": "https://management.azure.com/subscriptions/50016170-c839-41ba-a724-51e9df440b9e/providers/Microsoft.DigitalTwins/locations/westus2/operationResults/12345678-1234-1234-123456789012",
        "retry-after": "10"
      }
    }
  },
  "operationId": "DigitalTwins_CreateOrUpdate",
  "title": "Put a DigitalTwinsInstance resource with identity"
}