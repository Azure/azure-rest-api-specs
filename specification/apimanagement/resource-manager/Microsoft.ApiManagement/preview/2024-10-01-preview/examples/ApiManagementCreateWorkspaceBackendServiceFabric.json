{
  "parameters": {
    "api-version": "2024-10-01-preview",
    "backendId": "sfbackend",
    "parameters": {
      "properties": {
        "description": "Service Fabric Test App 1",
        "properties": {
          "serviceFabricCluster": {
            "clientCertificateId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg1/providers/Microsoft.ApiManagement/service/apimService1/workspaces/wks1/certificates/cert1",
            "managementEndpoints": [
              "https://somecluster.com"
            ],
            "maxPartitionResolutionRetries": 5,
            "serverX509Names": [
              {
                "name": "ServerCommonName1",
                "issuerCertificateThumbprint": "IssuerCertificateThumbprint1"
              }
            ]
          }
        },
        "url": "fabric:/mytestapp/mytestservice",
        "protocol": "http"
      }
    },
    "resourceGroupName": "rg1",
    "serviceName": "apimService1",
    "subscriptionId": "00000000-0000-0000-0000-000000000000",
    "workspaceId": "wks1"
  },
  "responses": {
    "200": {
      "body": {
        "name": "sfbackend",
        "type": "Microsoft.ApiManagement/service/workspaces/backends",
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg1/providers/Microsoft.ApiManagement/service/apimService1/workspaces/wks1/backends/sfbackend",
        "properties": {
          "description": "Service Fabric Test App 1",
          "properties": {
            "serviceFabricCluster": {
              "clientCertificateId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg1/providers/Microsoft.ApiManagement/service/apimService1/workspaces/wks1/certificates/cert1",
              "managementEndpoints": [
                "https://somecluster.com"
              ],
              "maxPartitionResolutionRetries": 5,
              "serverX509Names": [
                {
                  "name": "ServerCommonName1",
                  "issuerCertificateThumbprint": "IssuerCertificateThumbprint1"
                }
              ]
            }
          },
          "url": "fabric:/mytestapp/mytestservice",
          "protocol": "http"
        }
      }
    },
    "201": {
      "body": {
        "name": "sfbackend",
        "type": "Microsoft.ApiManagement/service/workspaces/backends",
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg1/providers/Microsoft.ApiManagement/service/apimService1/workspaces/wks1/backends/sfbackend",
        "properties": {
          "description": "Service Fabric Test App 1",
          "properties": {
            "serviceFabricCluster": {
              "clientCertificateId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg1/providers/Microsoft.ApiManagement/service/apimService1/workspaces/wks1/certificates/cert1",
              "managementEndpoints": [
                "https://somecluster.com"
              ],
              "maxPartitionResolutionRetries": 5,
              "serverX509Names": [
                {
                  "name": "ServerCommonName1",
                  "issuerCertificateThumbprint": "IssuerCertificateThumbprint1"
                }
              ]
            }
          },
          "url": "fabric:/mytestapp/mytestservice",
          "protocol": "http"
        }
      }
    }
  },
  "operationId": "WorkspaceBackend_CreateOrUpdate",
  "title": "ApiManagementCreateWorkspaceBackendServiceFabric"
}
