{
  "parameters": {
    "serviceName": "apimService1",
    "resourceGroupName": "rg1",
    "api-version": "2021-01-01-preview",
    "subscriptionId": "subid",
    "parameters": {
      "properties": {
        "publisherEmail": "apim@autorestsdk.com",
        "publisherName": "autorestsdk"
      },
      "sku": {
        "name": "Consumption",
        "capacity": 0
      },
      "identity": {
        "type": "UserAssigned",
        "userAssignedIdentities": {
          "/subscriptions/subid/resourcegroups/rg1/providers/Microsoft.ManagedIdentity/userAssignedIdentities/apimService1": {}
        }
      },
      "location": "West US",
      "tags": {
        "tag1": "value1",
        "tag2": "value2",
        "tag3": "value3"
      }
    }
  },
  "responses": {
    "201": {
      "headers": {
        "location": "https://management.azure.com/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.ApiManagement/service/apimService1/operationresults/dGVjaGVkX01hbmFnZVJvbGVfNWRiNGI3Ng==?api-version=2021-01-01-preview"
      },
      "body": {
        "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.ApiManagement/service/apimService1",
        "name": "apimService1",
        "type": "Microsoft.ApiManagement/service",
        "tags": {
          "tag1": "value1",
          "tag2": "value2",
          "tag3": "value3"
        },
        "location": "West US",
        "etag": "AAAAAAAFzyQ=",
        "properties": {
          "publisherEmail": "apim@autorestsdk.com",
          "publisherName": "autorestsdk",
          "notificationSenderEmail": "apimgmt-noreply@mail.windowsazure.com",
          "provisioningState": "Created",
          "targetProvisioningState": "Activating",
          "createdAtUtc": "2020-03-12T01:05:33.4573398Z",
          "hostnameConfigurations": [
            {
              "type": "Proxy",
              "hostName": "apimService1.azure-api.net",
              "negotiateClientCertificate": false,
              "defaultSslBinding": true,
              "certificateSource": "BuiltIn"
            }
          ],
          "virtualNetworkType": "None"
        },
        "sku": {
          "name": "Consumption",
          "capacity": 0
        },
        "identity": {
          "type": "UserAssigned",
          "userAssignedIdentities": {
            "/subscriptions/subid/resourcegroups/rg1/providers/Microsoft.ManagedIdentity/userAssignedIdentities/apimService1": {}
          }
        }
      }
    },
    "200": {
      "body": {
        "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.ApiManagement/service/apimService1",
        "name": "apimService1",
        "type": "Microsoft.ApiManagement/service",
        "tags": {
          "tag1": "value1",
          "tag2": "value2",
          "tag3": "value3"
        },
        "location": "West US",
        "etag": "AAAAAAAFzyk=",
        "properties": {
          "publisherEmail": "apim@autorestsdk.com",
          "publisherName": "autorestsdk",
          "notificationSenderEmail": "apimgmt-noreply@mail.windowsazure.com",
          "provisioningState": "Succeeded",
          "targetProvisioningState": "",
          "createdAtUtc": "2020-03-12T01:05:33.4573398Z",
          "gatewayUrl": "https://apimService1.azure-api.net",
          "hostnameConfigurations": [
            {
              "type": "Proxy",
              "hostName": "apimService1.azure-api.net",
              "negotiateClientCertificate": false,
              "defaultSslBinding": true,
              "certificateSource": "BuiltIn"
            }
          ],
          "customProperties": {
            "Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Protocols.Tls10": "False",
            "Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Protocols.Tls11": "False",
            "Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Backend.Protocols.Tls10": "False",
            "Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Backend.Protocols.Tls11": "False",
            "Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Backend.Protocols.Ssl30": "False",
            "Microsoft.WindowsAzure.ApiManagement.Gateway.Protocols.Server.Http2": "False"
          },
          "virtualNetworkType": "None",
          "disableGateway": false
        },
        "sku": {
          "name": "Consumption",
          "capacity": 0
        },
        "identity": {
          "type": "UserAssigned",
          "tenantId": "XXXXX-86f1-41af-XXXX-2d7cd011db47",
          "userAssignedIdentities": {
            "/subscriptions/subid/resourcegroups/rg1/providers/Microsoft.ManagedIdentity/userAssignedIdentities/apimService1": {
              "principalId": "XXXXX-6e62-4649-9f54-a119fc1ba85e",
              "clientId": "5a2c6b8e-0905-XXXX-a772-993c9418137f"
            }
          }
        }
      }
    },
    "202": {
      "headers": {
        "location": "https://management.azure.com/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.ApiManagement/service/apimService1/operationresults/dGVjaGVkX01hbmFnZVJvbGVfNWRiNGI3Ng==?api-version=2021-01-01-preview"
      }
    }
  }
}
