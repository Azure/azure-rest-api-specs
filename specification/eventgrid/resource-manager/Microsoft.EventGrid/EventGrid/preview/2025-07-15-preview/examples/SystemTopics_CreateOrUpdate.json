{
  "parameters": {
    "api-version": "2025-07-15-preview",
    "resourceGroupName": "examplerg",
    "subscriptionId": "8f6b6269-84f2-4d09-9e31-1127efcd1e40",
    "systemTopicInfo": {
      "identity": {
        "type": "UserAssigned",
        "userAssignedIdentities": {
          "/subscriptions/8f6b6269-84f2-4d09-9e31-1127efcd1e40/resourceGroups/azureeventgridrunnerrgcentraluseuap/providers/Microsoft.ManagedIdentity/userAssignedIdentities/user-assigned-id": {}
        }
      },
      "location": "centraluseuap",
      "properties": {
        "encryption": {
          "customerManagedKeyEncryption": [
            {
              "keyEncryptionKeyIdentity": {
                "type": "UserAssigned",
                "userAssignedIdentityResourceId": "/subscriptions/8f6b6269-84f2-4d09-9e31-1127efcd1e40/resourceGroups/azureeventgridrunnerrgcentraluseuap/providers/Microsoft.ManagedIdentity/userAssignedIdentities/user-assigned-id"
              },
              "keyEncryptionKeyUrl": "https://ege2ekeyvault.vault.azure.net/keys/ValidKey1"
            }
          ]
        },
        "platformCapabilities": {
          "confidentialCompute": {
            "mode": "Enabled"
          }
        },
        "source": "/subscriptions/8f6b6269-84f2-4d09-9e31-1127efcd1e40/resourceGroups/azureeventgridrunnerrgcentraluseuap/providers/microsoft.storage/storageaccounts/pubstgrunnerb71cd29e",
        "topicType": "microsoft.storage.storageaccounts"
      },
      "tags": {
        "tag1": "value1",
        "tag2": "value2"
      }
    },
    "systemTopicName": "exampleSystemTopic1"
  },
  "responses": {
    "200": {
      "body": {
        "name": "exampleSystemTopic1",
        "type": "Microsoft.EventGrid/systemTopics",
        "id": "/subscriptions/8f6b6269-84f2-4d09-9e31-1127efcd1e40/resourceGroups/examplerg/providers/Microsoft.EventGrid/systemTopics/exampleSystemTopic1",
        "identity": {
          "type": "UserAssigned",
          "userAssignedIdentities": {
            "/subscriptions/8f6b6269-84f2-4d09-9e31-1127efcd1e40/resourceGroups/azureeventgridrunnerrgcentraluseuap/providers/Microsoft.ManagedIdentity/userAssignedIdentities/user-assigned-id": {
              "clientId": "11af827c-d951-4766-9c41-15565fa13157",
              "principalId": "a5435982-c82d-453b-b244-3115b7c8789c"
            }
          }
        },
        "location": "centraluseuap",
        "properties": {
          "encryption": {
            "customerManagedKeyEncryption": [
              {
                "keyEncryptionKeyIdentity": {
                  "type": "UserAssigned",
                  "userAssignedIdentityResourceId": "/subscriptions/8f6b6269-84f2-4d09-9e31-1127efcd1e40/resourceGroups/azureeventgridrunnerrgcentraluseuap/providers/Microsoft.ManagedIdentity/userAssignedIdentities/user-assigned-id"
                },
                "keyEncryptionKeyStatus": "Active",
                "keyEncryptionKeyStatusFriendlyDescription": "Customer Managed Key (CMK) Encryption is 'Active' and running normally.",
                "keyEncryptionKeyUrl": "https://ege2ekeyvault.vault.azure.net/keys/ValidKey1"
              }
            ]
          },
          "metricResourceId": "183c0fb1-17ff-47b6-ac77-5a47420ab01e",
          "platformCapabilities": {
            "confidentialCompute": {
              "mode": "Enabled"
            }
          },
          "provisioningState": "Succeeded",
          "source": "/subscriptions/8f6b6269-84f2-4d09-9e31-1127efcd1e40/resourceGroups/azureeventgridrunnerrgcentraluseuap/providers/microsoft.storage/storageaccounts/pubstgrunnerb71cd29e",
          "topicType": "microsoft.storage.storageaccounts"
        }
      }
    },
    "201": {
      "body": {
        "name": "exampleSystemTopic1",
        "type": "Microsoft.EventGrid/systemTopics",
        "id": "/subscriptions/8f6b6269-84f2-4d09-9e31-1127efcd1e40/resourceGroups/examplerg/providers/Microsoft.EventGrid/systemTopics/exampleSystemTopic1",
        "identity": {
          "type": "UserAssigned",
          "userAssignedIdentities": {
            "/subscriptions/8f6b6269-84f2-4d09-9e31-1127efcd1e40/resourceGroups/azureeventgridrunnerrgcentraluseuap/providers/Microsoft.ManagedIdentity/userAssignedIdentities/user-assigned-id": {
              "clientId": "11af827c-d951-4766-9c41-15565fa13157",
              "principalId": "a5435982-c82d-453b-b244-3115b7c8789c"
            }
          }
        },
        "location": "centraluseuap",
        "properties": {
          "encryption": {
            "customerManagedKeyEncryption": [
              {
                "keyEncryptionKeyIdentity": {
                  "type": "UserAssigned",
                  "userAssignedIdentityResourceId": "/subscriptions/8f6b6269-84f2-4d09-9e31-1127efcd1e40/resourceGroups/azureeventgridrunnerrgcentraluseuap/providers/Microsoft.ManagedIdentity/userAssignedIdentities/user-assigned-id"
                },
                "keyEncryptionKeyStatus": "Active",
                "keyEncryptionKeyStatusFriendlyDescription": "Customer Managed Key (CMK) Encryption is 'Active' and running normally.",
                "keyEncryptionKeyUrl": "https://ege2ekeyvault.vault.azure.net/keys/ValidKey1"
              }
            ]
          },
          "metricResourceId": "183c0fb1-17ff-47b6-ac77-5a47420ab01e",
          "platformCapabilities": {
            "confidentialCompute": {
              "mode": "Enabled"
            }
          },
          "provisioningState": "Succeeded",
          "source": "/subscriptions/8f6b6269-84f2-4d09-9e31-1127efcd1e40/resourceGroups/azureeventgridrunnerrgcentraluseuap/providers/microsoft.storage/storageaccounts/pubstgrunnerb71cd29e",
          "topicType": "microsoft.storage.storageaccounts"
        }
      }
    }
  },
  "operationId": "SystemTopics_CreateOrUpdate",
  "title": "SystemTopics_CreateOrUpdate"
}