{
"swagger": "2.0",
"info": {
"version": "2024-01-01",
"title": "Schema of MediaServices events published to Azure Event Grid",
"description": "Describes the schema of the MediaServices events published to Azure Event Grid. This corresponds to the Data property of an EventGridEvent."
},
"paths": {},
"definitions": {
"MediaJobCanceledEventData" : {"type": "object", "description": "Job canceled event data. Schema of the data property of an EventGridEvent for a\nMicrosoft.Media.JobCanceled event.", "properties": {"outputs": {"type": "array", "description": "Gets the Job outputs.", "items": {"$ref": "#/definitions/MediaServices.MediaJobOutput"}, "x-ms-identifiers": []}}, "required": ["outputs"], "allOf": [{"$ref": "#/definitions/MediaJobStateChangeEventData"}]},"MediaJobCancelingEventData" : {"type": "object", "description": "Job canceling event data. Schema of the data property of an EventGridEvent for\na Microsoft.Media.JobCanceling event.", "allOf": [{"$ref": "#/definitions/MediaJobStateChangeEventData"}]},"MediaJobError" : {"type": "object", "description": "Details of JobOutput errors.", "properties": {"code": {"$ref": "#/definitions/MediaServices.MediaJobErrorCode", "description": "Error code describing the error."}, "message": {"type": "string", "description": "A human-readable language-dependent representation of the error."}, "category": {"$ref": "#/definitions/MediaServices.MediaJobErrorCategory", "description": "Helps with categorization of errors."}, "retry": {"$ref": "#/definitions/MediaServices.MediaJobRetry", "description": "Indicates that it may be possible to retry the Job. If retry is unsuccessful, please contact Azure support via Azure Portal."}, "details": {"type": "array", "description": "An array of details about specific errors that led to this reported error.", "items": {"$ref": "#/definitions/MediaServices.MediaJobErrorDetail"}, "x-ms-identifiers": []}}, "required": ["code", "category", "retry", "details"]},"MediaJobErrorCategory" : {"type": "string", "description": "Error categories for Media Job Errors.", "enum": ["Service", "Download", "Upload", "Configuration", "Content", "Account"], "x-ms-enum": {"name": "MediaJobErrorCategory", "modelAsString": true, "values": [{"name": "Service", "value": "Service", "description": "The error is service related."}, {"name": "Download", "value": "Download", "description": "The error is download related."}, {"name": "Upload", "value": "Upload", "description": "The error is upload related."}, {"name": "Configuration", "value": "Configuration", "description": "The error is configuration related."}, {"name": "Content", "value": "Content", "description": "The error is related to data in the input files."}, {"name": "Account", "value": "Account", "description": "The error is related to account information."}]}},"MediaJobErrorCode" : {"type": "string", "description": "Media Job Error Codes.", "enum": ["ServiceError", "ServiceTransientError", "DownloadNotAccessible", "DownloadTransientError", "UploadNotAccessible", "UploadTransientError", "ConfigurationUnsupported", "ContentMalformed", "ContentUnsupported", "IdentityUnsupported"], "x-ms-enum": {"name": "MediaJobErrorCode", "modelAsString": true, "values": [{"name": "ServiceError", "value": "ServiceError", "description": "Fatal service error, please contact support."}, {"name": "ServiceTransientError", "value": "ServiceTransientError", "description": "Transient error, please retry, if retry is unsuccessful, please contact support."}, {"name": "DownloadNotAccessible", "value": "DownloadNotAccessible", "description": "While trying to download the input files, the files were not accessible, please check the availability of the source."}, {"name": "DownloadTransientError", "value": "DownloadTransientError", "description": "While trying to download the input files, there was an issue during transfer (storage service, network errors), see details and check your source."}, {"name": "UploadNotAccessible", "value": "UploadNotAccessible", "description": "While trying to upload the output files, the destination was not reachable, please check the availability of the destination."}, {"name": "UploadTransientError", "value": "UploadTransientError", "description": "While trying to upload the output files, there was an issue during transfer (storage service, network errors), see details and check your destination."}, {"name": "ConfigurationUnsupported", "value": "ConfigurationUnsupported", "description": "There was a problem with the combination of input files and the configuration settings applied, fix the configuration settings and retry with the same input, or change input to match the configuration."}, {"name": "ContentMalformed", "value": "ContentMalformed", "description": "There was a problem with the input content (for example: zero byte files, or corrupt/non-decodable files), check the input files."}, {"name": "ContentUnsupported", "value": "ContentUnsupported", "description": "There was a problem with the format of the input (not valid media file, or an unsupported file/codec), check the validity of the input files."}, {"name": "IdentityUnsupported", "value": "IdentityUnsupported", "description": "There is an error verifying to the account identity. Check and fix the identity configurations and retry. If unsuccessful, please contact support."}]}},"MediaJobErrorDetail" : {"type": "object", "description": "Details of JobOutput errors.", "properties": {"code": {"type": "string", "description": "Code describing the error detail."}, "message": {"type": "string", "description": "A human-readable representation of the error."}}},"MediaJobErroredEventData" : {"type": "object", "description": "Job error state event data. Schema of the data property of an EventGridEvent\nfor a Microsoft.Media.JobErrored event.", "properties": {"outputs": {"type": "array", "description": "Gets the Job outputs.", "items": {"$ref": "#/definitions/MediaServices.MediaJobOutput"}, "x-ms-identifiers": []}}, "required": ["outputs"], "allOf": [{"$ref": "#/definitions/MediaJobStateChangeEventData"}]},"MediaJobFinishedEventData" : {"type": "object", "description": "Job finished event data. Schema of the data property of an EventGridEvent for a\nMicrosoft.Media.JobFinished event.", "properties": {"outputs": {"type": "array", "description": "Gets the Job outputs.", "items": {"$ref": "#/definitions/MediaServices.MediaJobOutput"}, "x-ms-identifiers": []}}, "required": ["outputs"], "allOf": [{"$ref": "#/definitions/MediaJobStateChangeEventData"}]},"MediaJobOutput" : {"type": "object", "description": "The event data for a Job output.", "properties": {"@odata.type": {"type": "string", "description": "The discriminator for derived types."}, "error": {"$ref": "#/definitions/MediaServices.MediaJobError", "description": "Gets the Job output error."}, "label": {"type": "string", "description": "Gets the Job output label."}, "progress": {"type": "integer", "format": "int64", "description": "Gets the Job output progress."}, "state": {"$ref": "#/definitions/MediaServices.MediaJobState", "description": "Gets the Job output state."}}, "discriminator": "@odata.type", "required": ["@odata.type", "error", "progress", "state"]},"MediaJobOutputAsset" : {"type": "object", "description": "The event data for a Job output asset.", "properties": {"assetName": {"type": "string", "description": "Gets the Job output asset name."}}, "allOf": [{"$ref": "#/definitions/MediaJobOutput"}], "x-ms-discriminator-value": "#Microsoft.Media.JobOutputAsset"},"MediaJobOutputCanceledEventData" : {"type": "object", "description": "Job output canceled event data. Schema of the data property of an\nEventGridEvent for a Microsoft.Media.JobOutputCanceled event.", "allOf": [{"$ref": "#/definitions/MediaJobOutputStateChangeEventData"}]},"MediaJobOutputCancelingEventData" : {"type": "object", "description": "Job output canceling event data. Schema of the data property of an\nEventGridEvent for a Microsoft.Media.JobOutputCanceling event.", "allOf": [{"$ref": "#/definitions/MediaJobOutputStateChangeEventData"}]},"MediaJobOutputErroredEventData" : {"type": "object", "description": "Job output error event data. Schema of the data property of an EventGridEvent\nfor a Microsoft.Media.JobOutputErrored event.", "allOf": [{"$ref": "#/definitions/MediaJobOutputStateChangeEventData"}]},"MediaJobOutputFinishedEventData" : {"type": "object", "description": "Job output finished event data. Schema of the data property of an\nEventGridEvent for a Microsoft.Media.JobOutputFinished event.", "allOf": [{"$ref": "#/definitions/MediaJobOutputStateChangeEventData"}]},"MediaJobOutputProcessingEventData" : {"type": "object", "description": "Job output processing event data. Schema of the data property of an\nEventGridEvent for a Microsoft.Media.JobOutputProcessing event.", "allOf": [{"$ref": "#/definitions/MediaJobOutputStateChangeEventData"}]},"MediaJobOutputProgressEventData" : {"type": "object", "description": "Job Output Progress Event Data. Schema of the Data property of an\n  EventGridEvent for a Microsoft.Media.JobOutputProgress event.", "properties": {"label": {"type": "string", "description": "Gets the Job output label."}, "progress": {"type": "integer", "format": "int64", "description": "Gets the Job output progress."}, "jobCorrelationData": {"type": "object", "description": "Gets the Job correlation data.", "additionalProperties": {"type": "string"}}}, "required": ["jobCorrelationData"]},"MediaJobOutputScheduledEventData" : {"type": "object", "description": "Job output scheduled event data. Schema of the data property of an\nEventGridEvent for a Microsoft.Media.JobOutputScheduled event.", "allOf": [{"$ref": "#/definitions/MediaJobOutputStateChangeEventData"}]},"MediaJobOutputStateChangeEventData" : {"type": "object", "description": "Schema of the Data property of an EventGridEvent for a\n  Microsoft.Media.JobOutputStateChange event.", "properties": {"previousState": {"$ref": "#/definitions/MediaServices.MediaJobState", "description": "The previous state of the Job."}, "output": {"$ref": "#/definitions/MediaServices.MediaJobOutput", "description": "Gets the output."}, "jobCorrelationData": {"type": "object", "description": "Gets the Job correlation data.", "additionalProperties": {"type": "string"}}}, "required": ["previousState", "output", "jobCorrelationData"]},"MediaJobProcessingEventData" : {"type": "object", "description": "Job processing event data. Schema of the data property of an EventGridEvent for\na Microsoft.Media.JobProcessing event.", "allOf": [{"$ref": "#/definitions/MediaJobStateChangeEventData"}]},"MediaJobRetry" : {"type": "string", "description": "Media Job Retry Options.", "enum": ["DoNotRetry", "MayRetry"], "x-ms-enum": {"name": "MediaJobRetry", "modelAsString": true, "values": [{"name": "DoNotRetry", "value": "DoNotRetry", "description": "Issue needs to be investigated and then the job resubmitted with corrections or retried once the underlying issue has been corrected."}, {"name": "MayRetry", "value": "MayRetry", "description": "Issue may be resolved after waiting for a period of time and resubmitting the same Job."}]}},"MediaJobScheduledEventData" : {"type": "object", "description": "Job scheduled event data. Schema of the data property of an EventGridEvent for\na Microsoft.Media.JobScheduled event.", "allOf": [{"$ref": "#/definitions/MediaJobStateChangeEventData"}]},"MediaJobState" : {"type": "string", "description": "State of a Media Job.", "enum": ["Canceled", "Canceling", "Error", "Finished", "Processing", "Queued", "Scheduled"], "x-ms-enum": {"name": "MediaJobState", "modelAsString": true, "values": [{"name": "Canceled", "value": "Canceled", "description": "The job was canceled. This is a final state for the job."}, {"name": "Canceling", "value": "Canceling", "description": "The job is in the process of being canceled. This is a transient state for the job."}, {"name": "Error", "value": "Error", "description": "The job has encountered an error. This is a final state for the job."}, {"name": "Finished", "value": "Finished", "description": "The job is finished. This is a final state for the job."}, {"name": "Processing", "value": "Processing", "description": "The job is processing. This is a transient state for the job."}, {"name": "Queued", "value": "Queued", "description": "The job is in a queued state, waiting for resources to become available. This is a transient state."}, {"name": "Scheduled", "value": "Scheduled", "description": "The job is being scheduled to run on an available resource. This is a transient state, between queued and processing states."}]}},"MediaJobStateChangeEventData" : {"type": "object", "description": "Schema of the Data property of an EventGridEvent for a\n  Microsoft.Media.JobStateChange event.", "properties": {"previousState": {"$ref": "#/definitions/MediaServices.MediaJobState", "description": "The previous state of the Job."}, "state": {"$ref": "#/definitions/MediaServices.MediaJobState", "description": "The new state of the Job."}, "correlationData": {"type": "object", "description": "Gets the Job correlation data.", "additionalProperties": {"type": "string"}}}, "required": ["previousState", "state", "correlationData"]},"MediaLiveEventChannelArchiveHeartbeatEventData" : {"type": "object", "description": "Channel Archive heartbeat event data. Schema of the data property of an EventGridEvent for a Microsoft.Media.LiveEventChannelArchiveHeartbeat event.", "properties": {"channelLatencyMs": {"type": "string", "description": "Gets the channel latency in ms."}, "latencyResultCode": {"type": "string", "description": "Gets the latency result code."}}, "required": ["channelLatencyMs", "latencyResultCode"]},"MediaLiveEventConnectionRejectedEventData" : {"type": "object", "description": "Encoder connection rejected event data. Schema of the data property of an EventGridEvent for a Microsoft.Media.LiveEventConnectionRejected event.", "properties": {"ingestUrl": {"type": "string", "description": "Gets the ingest URL provided by the live event."}, "streamId": {"type": "string", "description": "Gets the stream Id."}, "encoderIp": {"type": "string", "description": "Gets the remote IP."}, "encoderPort": {"type": "string", "description": "Gets the remote port."}, "resultCode": {"type": "string", "description": "Gets the result code."}}},"MediaLiveEventEncoderConnectedEventData" : {"type": "object", "description": "Encoder connect event data. Schema of the data property of an EventGridEvent for a Microsoft.Media.LiveEventEncoderConnected event.", "properties": {"ingestUrl": {"type": "string", "description": "Gets the ingest URL provided by the live event."}, "streamId": {"type": "string", "description": "Gets the stream Id."}, "encoderIp": {"type": "string", "description": "Gets the remote IP."}, "encoderPort": {"type": "string", "description": "Gets the remote port."}}},"MediaLiveEventEncoderDisconnectedEventData" : {"type": "object", "description": "Encoder disconnected event data. Schema of the Data property of an EventGridEvent for a Microsoft.Media.LiveEventEncoderDisconnected event.", "properties": {"ingestUrl": {"type": "string", "description": "Gets the ingest URL provided by the live event."}, "streamId": {"type": "string", "description": "Gets the stream Id."}, "encoderIp": {"type": "string", "description": "Gets the remote IP."}, "encoderPort": {"type": "string", "description": "Gets the remote port."}, "resultCode": {"type": "string", "description": "Gets the result code."}}},"MediaLiveEventIncomingDataChunkDroppedEventData" : {"type": "object", "description": "Ingest fragment dropped event data. Schema of the data property of an EventGridEvent for a Microsoft.Media.LiveEventIncomingDataChunkDropped event.", "properties": {"timestamp": {"type": "string", "description": "Gets the timestamp of the data chunk dropped."}, "trackType": {"type": "string", "description": "Gets the type of the track (Audio / Video)."}, "bitrate": {"type": "integer", "format": "int64", "description": "Gets the bitrate of the track."}, "timescale": {"type": "string", "description": "Gets the timescale of the Timestamp."}, "resultCode": {"type": "string", "description": "Gets the result code for fragment drop operation."}, "trackName": {"type": "string", "description": "Gets the name of the track for which fragment is dropped."}}},"MediaLiveEventIncomingStreamReceivedEventData" : {"type": "object", "description": "Encoder connect event data. Schema of the data property of an EventGridEvent for a Microsoft.Media.LiveEventIncomingStreamReceived event.", "properties": {"ingestUrl": {"type": "string", "description": "Gets the ingest URL provided by the live event."}, "trackType": {"type": "string", "description": "Gets the type of the track (Audio / Video)."}, "trackName": {"type": "string", "description": "Gets the track name."}, "bitrate": {"type": "integer", "format": "int64", "description": "Gets the bitrate of the track."}, "encoderIp": {"type": "string", "description": "Gets the remote IP."}, "encoderPort": {"type": "string", "description": "Gets the remote port."}, "timestamp": {"type": "string", "description": "Gets the first timestamp of the data chunk received."}, "duration": {"type": "string", "description": "Gets the duration of the first data chunk."}, "timescale": {"type": "string", "description": "Gets the timescale in which timestamp is represented."}}},"MediaLiveEventIncomingStreamsOutOfSyncEventData" : {"type": "object", "description": "Incoming streams out of sync event data. Schema of the data property of an EventGridEvent for a Microsoft.Media.LiveEventIncomingStreamsOutOfSync event.", "properties": {"minLastTimestamp": {"type": "string", "description": "Gets the minimum last timestamp received."}, "typeOfStreamWithMinLastTimestamp": {"type": "string", "description": "Gets the type of stream with minimum last timestamp."}, "maxLastTimestamp": {"type": "string", "description": "Gets the maximum timestamp among all the tracks (audio or video)."}, "typeOfStreamWithMaxLastTimestamp": {"type": "string", "description": "Gets the type of stream with maximum last timestamp."}, "timescaleOfMinLastTimestamp": {"type": "string", "description": "Gets the timescale in which \\\"MinLastTimestamp\\\" is represented."}, "timescaleOfMaxLastTimestamp": {"type": "string", "description": "Gets the timescale in which \\\"MaxLastTimestamp\\\" is represented."}}},"MediaLiveEventIncomingVideoStreamsOutOfSyncEventData" : {"type": "object", "description": "Incoming video stream out of sync event data. Schema of the data property of an EventGridEvent for a Microsoft.Media.LiveEventIncomingVideoStreamsOutOfSync event.", "properties": {"firstTimestamp": {"type": "string", "description": "Gets the first timestamp received for one of the quality levels."}, "firstDuration": {"type": "string", "description": "Gets the duration of the data chunk with first timestamp."}, "secondTimestamp": {"type": "string", "description": "Gets the timestamp received for some other quality levels."}, "secondDuration": {"type": "string", "description": "Gets the duration of the data chunk with second timestamp."}, "timescale": {"type": "string", "description": "Gets the timescale in which both the timestamps and durations are represented."}}},"MediaLiveEventIngestHeartbeatEventData" : {"type": "object", "description": "Ingest heartbeat event data. Schema of the data property of an EventGridEvent for a Microsoft.Media.LiveEventIngestHeartbeat event.", "properties": {"trackType": {"type": "string", "description": "Gets the type of the track (Audio / Video)."}, "trackName": {"type": "string", "description": "Gets the track name."}, "transcriptionLanguage": {"type": "string", "description": "Gets the Live Transcription language."}, "transcriptionState": {"type": "string", "description": "Gets the Live Transcription state."}, "bitrate": {"type": "integer", "format": "int64", "description": "Gets the bitrate of the track."}, "incomingBitrate": {"type": "integer", "format": "int64", "description": "Gets the incoming bitrate."}, "ingestDriftValue": {"type": "string", "description": "Gets the track ingest drift value."}, "lastFragmentArrivalTime": {"type": "string", "description": "Gets the arrival UTC time of the last fragment."}, "lastTimestamp": {"type": "string", "description": "Gets the last timestamp."}, "timescale": {"type": "string", "description": "Gets the timescale of the last timestamp."}, "overlapCount": {"type": "integer", "format": "int64", "description": "Gets the fragment Overlap count."}, "discontinuityCount": {"type": "integer", "format": "int64", "description": "Gets the fragment Discontinuity count."}, "nonincreasingCount": {"type": "integer", "format": "int64", "description": "Gets Non increasing count."}, "unexpectedBitrate": {"type": "boolean", "description": "Gets a value indicating whether unexpected bitrate is present or not."}, "state": {"type": "string", "description": "Gets the state of the live event."}, "healthy": {"type": "boolean", "description": "Gets a value indicating whether preview is healthy or not."}}},"MediaLiveEventTrackDiscontinuityDetectedEventData" : {"type": "object", "description": "Ingest track discontinuity detected event data. Schema of the data property of an EventGridEvent for a Microsoft.Media.LiveEventTrackDiscontinuityDetected event.", "properties": {"trackType": {"type": "string", "description": "Gets the type of the track (Audio / Video)."}, "trackName": {"type": "string", "description": "Gets the track name."}, "bitrate": {"type": "integer", "format": "int64", "description": "Gets the bitrate."}, "previousTimestamp": {"type": "string", "description": "Gets the timestamp of the previous fragment."}, "newTimestamp": {"type": "string", "description": "Gets the timestamp of the current fragment."}, "timescale": {"type": "string", "description": "Gets the timescale in which both timestamps and discontinuity gap are represented."}, "discontinuityGap": {"type": "string", "description": "Gets the discontinuity gap between PreviousTimestamp and NewTimestamp."}}}}
}