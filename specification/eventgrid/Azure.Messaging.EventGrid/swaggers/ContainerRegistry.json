{
  "swagger": "2.0",
  "info": {
    "version": "2018-01-01",
    "title": "Schema of ContainerRegistry events published to Azure Event Grid",
    "description": "Describes the schema of the ContainerRegistry events published to Azure Event Grid. This corresponds to the Data property of an EventGridEvent."
  },
  "paths": {},
  "definitions": {
    "ContainerRegistryArtifactEventData": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "description": "The event ID."
        },
        "timestamp": {
          "type": "string",
          "format": "date-time",
          "description": "The time at which the event occurred."
        },
        "action": {
          "type": "string",
          "description": "The action that encompasses the provided event."
        },
        "location": {
          "type": "string",
          "description": "The location of the event."
        },
        "target": {
          "$ref": "#/definitions/ContainerRegistry.ContainerRegistryArtifactEventTarget",
          "description": "The target of the event."
        },
        "connectedRegistry": {
          "$ref": "#/definitions/ContainerRegistry.ContainerRegistryEventConnectedRegistry",
          "description": "The connected registry information if the event is generated by a connected registry."
        }
      },
      "description": "The content of the event request message."
    },
    "ContainerRegistryArtifactEventTarget": {
      "type": "object",
      "properties": {
        "mediaType": {
          "type": "string",
          "description": "The MIME type of the artifact."
        },
        "size": {
          "type": "integer",
          "format": "int64",
          "description": "The size in bytes of the artifact."
        },
        "digest": {
          "type": "string",
          "description": "The digest of the artifact."
        },
        "repository": {
          "type": "string",
          "description": "The repository name of the artifact."
        },
        "tag": {
          "type": "string",
          "description": "The tag of the artifact."
        },
        "name": {
          "type": "string",
          "description": "The name of the artifact."
        },
        "version": {
          "type": "string",
          "description": "The version of the artifact."
        }
      },
      "description": "The target of the event."
    },
    "ContainerRegistryChartDeletedEventData": {
      "type": "object",
      "properties": {},
      "description": "Schema of the Data property of an EventGridEvent for a Microsoft.ContainerRegistry.ChartDeleted event.",
      "allOf": [
        {
          "$ref": "#/definitions/ContainerRegistryArtifactEventData"
        }
      ]
    },
    "ContainerRegistryChartPushedEventData": {
      "type": "object",
      "properties": {},
      "description": "Schema of the Data property of an EventGridEvent for a Microsoft.ContainerRegistry.ChartPushed event.",
      "allOf": [
        {
          "$ref": "#/definitions/ContainerRegistryArtifactEventData"
        }
      ]
    },
    "ContainerRegistryEventActor": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "The subject or username associated with the request context that generated the event."
        }
      },
      "description": "The agent that initiated the event. For most situations, this could be from the authorization context of the request."
    },
    "ContainerRegistryEventConnectedRegistry": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "The name of the connected registry that generated this event."
        }
      },
      "description": "The connected registry information if the event is generated by a connected registry."
    },
    "ContainerRegistryEventData": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "description": "The event ID."
        },
        "timestamp": {
          "type": "string",
          "format": "date-time",
          "description": "The time at which the event occurred."
        },
        "action": {
          "type": "string",
          "description": "The action that encompasses the provided event."
        },
        "location": {
          "type": "string",
          "description": "The location of the event."
        },
        "target": {
          "$ref": "#/definitions/ContainerRegistry.ContainerRegistryEventTarget",
          "description": "The target of the event."
        },
        "request": {
          "$ref": "#/definitions/ContainerRegistry.ContainerRegistryEventRequest",
          "description": "The request that generated the event."
        },
        "actor": {
          "$ref": "#/definitions/ContainerRegistry.ContainerRegistryEventActor",
          "description": "The agent that initiated the event. For most situations, this could be from the authorization context of the request."
        },
        "source": {
          "$ref": "#/definitions/ContainerRegistry.ContainerRegistryEventSource",
          "description": "The registry node that generated the event. Put differently, while the actor initiates the event, the source generates it."
        },
        "connectedRegistry": {
          "$ref": "#/definitions/ContainerRegistry.ContainerRegistryEventConnectedRegistry",
          "description": "The connected registry information if the event is generated by a connected registry."
        }
      },
      "description": "The content of the event request message."
    },
    "ContainerRegistryEventRequest": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "description": "The ID of the request that initiated the event."
        },
        "addr": {
          "type": "string",
          "description": "The IP or hostname and possibly port of the client connection that initiated the event. This is the RemoteAddr from the standard http request."
        },
        "host": {
          "type": "string",
          "description": "The externally accessible hostname of the registry instance, as specified by the http host header on incoming requests."
        },
        "method": {
          "type": "string",
          "description": "The request method that generated the event."
        },
        "useragent": {
          "type": "string",
          "description": "The user agent header of the request."
        }
      },
      "description": "The request that generated the event."
    },
    "ContainerRegistryEventSource": {
      "type": "object",
      "properties": {
        "addr": {
          "type": "string",
          "description": "The IP or hostname and the port of the registry node that generated the event. Generally, this will be resolved by os.Hostname() along with the running port."
        },
        "instanceID": {
          "type": "string",
          "description": "The running instance of an application. Changes after each restart."
        }
      },
      "description": "The registry node that generated the event. Put differently, while the actor initiates the event, the source generates it."
    },
    "ContainerRegistryEventTarget": {
      "type": "object",
      "properties": {
        "mediaType": {
          "type": "string",
          "description": "The MIME type of the referenced object."
        },
        "size": {
          "type": "integer",
          "format": "int64",
          "description": "The number of bytes of the content. Same as Length field."
        },
        "digest": {
          "type": "string",
          "description": "The digest of the content, as defined by the Registry V2 HTTP API Specification."
        },
        "repository": {
          "type": "string",
          "description": "The repository name."
        },
        "tag": {
          "type": "string",
          "description": "The tag name."
        },
        "length": {
          "type": "integer",
          "format": "int64",
          "description": "The number of bytes of the content. Same as Size field."
        },
        "url": {
          "type": "string",
          "description": "The direct URL to the content."
        }
      },
      "description": "The target of the event."
    },
    "ContainerRegistryImageDeletedEventData": {
      "type": "object",
      "properties": {},
      "description": "Schema of the Data property of an EventGridEvent for a Microsoft.ContainerRegistry.ImageDeleted event.",
      "allOf": [
        {
          "$ref": "#/definitions/ContainerRegistryEventData"
        }
      ]
    },
    "ContainerRegistryImagePushedEventData": {
      "type": "object",
      "properties": {},
      "description": "Schema of the Data property of an EventGridEvent for a Microsoft.ContainerRegistry.ImagePushed event.",
      "allOf": [
        {
          "$ref": "#/definitions/ContainerRegistryEventData"
        }
      ]
    }
  }
}
