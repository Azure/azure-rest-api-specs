{
  "parameters": {
    "name": "hsm1",
    "api-version": "2025-05-01",
    "parameters": {
      "location": "westus",
      "properties": {
        "enablePurgeProtection": false,
        "enableSoftDelete": true,
        "initialAdminObjectIds": [
          "00000000-0000-0000-0000-000000000000"
        ],
        "softDeleteRetentionInDays": 90,
        "tenantId": "00000000-0000-0000-0000-000000000000"
      },
      "sku": {
        "name": "Standard_B1",
        "family": "B"
      },
      "tags": {
        "Dept": "hsm",
        "Environment": "dogfood"
      }
    },
    "resourceGroupName": "hsm-group",
    "subscriptionId": "00000000-0000-0000-0000-000000000000"
  },
  "responses": {
    "200": {
      "body": {
        "name": "hsm1",
        "type": "Microsoft.KeyVault/managedHSMs",
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/hsm-group/providers/Microsoft.KeyVault/managedHSMs/hsm1",
        "location": "westus",
        "properties": {
          "enablePurgeProtection": false,
          "enableSoftDelete": true,
          "hsmUri": "https://westus.hsm1.managedhsm.azure.net",
          "initialAdminObjectIds": [
            "00000000-0000-0000-0000-000000000000"
          ],
          "provisioningState": "Succeeded",
          "softDeleteRetentionInDays": 90,
          "statusMessage": "ManagedHsm is functional.",
          "tenantId": "00000000-0000-0000-0000-000000000000"
        },
        "sku": {
          "name": "Standard_B1",
          "family": "B"
        },
        "tags": {
          "Dept": "hsm",
          "Environment": "dogfood"
        }
      }
    },
    "202": {
      "body": {
        "name": "hsm1",
        "type": "Microsoft.KeyVault/managedHSMs",
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/hsm-group/providers/Microsoft.KeyVault/managedHSMs/hsm1",
        "location": "westus",
        "properties": {
          "enablePurgeProtection": false,
          "enableSoftDelete": true,
          "hsmUri": null,
          "initialAdminObjectIds": [
            "00000000-0000-0000-0000-000000000000"
          ],
          "provisioningState": "Provisioning",
          "softDeleteRetentionInDays": 90,
          "statusMessage": "Allocating hardware",
          "tenantId": "00000000-0000-0000-0000-000000000000"
        },
        "sku": {
          "name": "Standard_B1",
          "family": "B"
        },
        "tags": {
          "Dept": "hsm",
          "Environment": "dogfood"
        }
      },
      "headers": {
        "Location": "https://some.endpoint.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.KeyVault/locations/westus/managedHsmOperationResults/00000000-0000-0000-0000-000000000000"
      }
    }
  },
  "operationId": "ManagedHsms_CreateOrUpdate",
  "title": "Create a new managed HSM Pool or update an existing managed HSM Pool"
}
