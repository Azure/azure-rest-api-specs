{
  "parameters": {
    "api-version": "2023-11-01",
    "resourceGroupName": "rg1",
    "resourceName": "service1",
    "serviceDescription": {
      "identity": {
        "type": "SystemAssigned"
      },
      "kind": "fhir-R4",
      "location": "Southeast Asia",
      "properties": {
        "accessPolicies": [
          {
            "objectId": "c487e7d1-3210-41a3-8ccc-e9372b78da47"
          },
          {
            "objectId": "5b307da8-43d4-492b-8b66-b0294ade872f"
          }
        ],
        "authenticationConfiguration": {
          "audience": "https://azurehealthcareapis.com",
          "authority": "https://login.microsoftonline.com/abfde7b2-df0f-47e6-aabf-2462b07508dc",
          "smartProxyEnabled": true
        },
        "corsConfiguration": {
          "allowCredentials": false,
          "headers": [
            "*"
          ],
          "maxAge": 1440,
          "methods": [
            "DELETE",
            "GET",
            "OPTIONS",
            "PATCH",
            "POST",
            "PUT"
          ],
          "origins": [
            "*"
          ]
        },
        "cosmosDbConfiguration": {
          "crossTenantCmkApplicationId": "de3fbeef-8c3a-428e-8b9f-4d229c8a85f4",
          "keyVaultKeyUri": "https://my-vault.vault.azure.net/keys/my-key",
          "offerThroughput": 1000
        },
        "exportConfiguration": {
          "storageAccountName": "existingStorageAccount"
        },
        "privateEndpointConnections": [],
        "publicNetworkAccess": "Disabled"
      },
      "tags": {}
    },
    "subscriptionId": "subid"
  },
  "responses": {
    "200": {
      "body": {
        "name": "service1",
        "type": "Microsoft.HealthcareApis/services",
        "etag": "etagvalue",
        "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.HealthcareApis/services/service1",
        "identity": {
          "type": "SystemAssigned",
          "principalId": "03fe6ae0-952c-4e4b-954b-cc0364dd252e",
          "tenantId": "72f988bf-86f1-41af-91ab-2d8cd011db47"
        },
        "kind": "fhir-R4",
        "location": "West US 2",
        "properties": {
          "accessPolicies": [
            {
              "objectId": "c487e7d1-3210-41a3-8ccc-e9372b78da47"
            },
            {
              "objectId": "5b307da8-43d4-492b-8b66-b0294ade872f"
            }
          ],
          "authenticationConfiguration": {
            "audience": "https://azurehealthcareapis.com",
            "authority": "https://login.microsoftonline.com/abfde7b2-df0f-47e6-aabf-2462b07508dc",
            "smartProxyEnabled": true
          },
          "corsConfiguration": {
            "allowCredentials": false,
            "headers": [
              "*"
            ],
            "maxAge": 1440,
            "methods": [
              "DELETE",
              "GET",
              "OPTIONS",
              "PATCH",
              "POST",
              "PUT"
            ],
            "origins": [
              "*"
            ]
          },
          "cosmosDbConfiguration": {
            "crossTenantCmkApplicationId": "de3fbeef-8c3a-428e-8b9f-4d229c8a85f4",
            "keyVaultKeyUri": "https://my-vault.vault.azure.net/keys/my-key",
            "offerThroughput": 1000
          },
          "exportConfiguration": {
            "storageAccountName": "existingStorageAccount"
          },
          "privateEndpointConnections": [],
          "provisioningState": "Creating",
          "publicNetworkAccess": "Disabled"
        },
        "tags": {}
      }
    },
    "201": {
      "body": {
        "name": "service1",
        "type": "Microsoft.HealthcareApis/services",
        "etag": "etagvalue",
        "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.HealthcareApis/services/service1",
        "identity": {
          "type": "SystemAssigned",
          "principalId": "03fe6ae0-952c-4e4b-954b-cc0364dd252e",
          "tenantId": "72f988bf-86f1-41af-91ab-2d8cd011db47"
        },
        "kind": "fhir-R4",
        "location": "West US 2",
        "properties": {
          "accessPolicies": [
            {
              "objectId": "c487e7d1-3210-41a3-8ccc-e9372b78da47"
            },
            {
              "objectId": "5b307da8-43d4-492b-8b66-b0294ade872f"
            }
          ],
          "authenticationConfiguration": {
            "audience": "https://azurehealthcareapis.com",
            "authority": "https://login.microsoftonline.com/abfde7b2-df0f-47e6-aabf-2462b07508dc",
            "smartProxyEnabled": true
          },
          "corsConfiguration": {
            "allowCredentials": false,
            "headers": [
              "*"
            ],
            "maxAge": 1440,
            "methods": [
              "DELETE",
              "GET",
              "OPTIONS",
              "PATCH",
              "POST",
              "PUT"
            ],
            "origins": [
              "*"
            ]
          },
          "cosmosDbConfiguration": {
            "offerThroughput": 1000
          },
          "exportConfiguration": {
            "storageAccountName": "existingStorageAccount"
          },
          "privateEndpointConnections": [],
          "provisioningState": "Creating",
          "publicNetworkAccess": "Disabled"
        },
        "tags": {}
      }
    }
  },
  "operationId": "Services_CreateOrUpdate",
  "title": "Create or Update a service with all parameters and CMK enabled in a data sovereign region"
}