import "@azure-tools/typespec-azure-core";
import "@azure-tools/typespec-azure-resource-manager";
import "@typespec/rest";
import "./models.tsp";

using TypeSpec.Rest;
using Azure.ResourceManager;
using Azure.ResourceManager.Foundations;
using TypeSpec.Http;

namespace Azure.ResourceManager.PowerBIDedicated;
@doc("Represents an instance of an auto scale v-core resource.")
model AutoScaleVCore is ProxyResource<AutoScaleVCoreProperties> {
  @doc("The name of the auto scale v-core. It must be a minimum of 3 characters, and a maximum of 63.")
  @maxLength(63)
  @minLength(3)
  @pattern("^[-a-zA-Z0-9_]+$")
  @path
  @key("vcoreName")
  @segment("autoScaleVCores")
  name: string;

  ...Azure.ResourceManager.ResourceSku;
}

@armResourceOperations
interface AutoScaleVCores {
  @doc("Gets details about the specified auto scale v-core.")
  get is ArmResourceRead<AutoScaleVCore>;
  @doc("Provisions the specified auto scale v-core based on the configuration specified in the request.")
  create is ArmResourceCreateOrReplaceSync<AutoScaleVCore>;
  @doc("Updates the current state of the specified auto scale v-core.")
  update is ArmResourcePatchSync<AutoScaleVCore, AutoScaleVCoreProperties>;
  @doc("Deletes the specified auto scale v-core.")
  delete is ArmResourceDeleteSync<AutoScaleVCore>;
  @doc("Gets all the auto scale v-cores for the given resource group.")
  listByResourceGroup is ArmResourceListByParent<AutoScaleVCore>;
  @doc("Lists all the auto scale v-cores for the given subscription.")
  listBySubscription is ArmListBySubscription<AutoScaleVCore>;
}
