{
  "title": "ServerlessRuntimes_CreateOrUpdate",
  "operationId": "ServerlessRuntimes_CreateOrUpdate",
  "parameters": {
    "api-version": "2024-05-08",
    "subscriptionId": "00000000-0000-0000-0000-000000000000",
    "resourceGroupName": "rg-example",
    "organizationName": "myOrganization",
    "serverlessRuntimeName": "myServerlessRuntime",
    "resource": {
      "properties": {
        "description": "Production serverless runtime for data integration",
        "platform": "AZURE",
        "applicationType": "CDI",
        "computeUnits": "4",
        "executionTimeout": "3600",
        "serverlessAccountLocation": "westus",
        "serverlessRuntimeNetworkProfile": {
          "networkInterfaceConfiguration": {
            "vnetId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg-example/providers/Microsoft.Network/virtualNetworks/myVnet",
            "subnetId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg-example/providers/Microsoft.Network/virtualNetworks/myVnet/subnets/default",
            "vnetResourceGuid": "11111111-1111-1111-1111-111111111111"
          }
        },
        "advancedCustomProperties": [
          {
            "key": "maxConnections",
            "value": "100"
          }
        ],
        "supplementaryFileLocation": "/files/supplements",
        "serverlessRuntimeConfig": {
          "cdiConfigProps": [
            {
              "engineName": "CDI Engine",
              "engineVersion": "1.0",
              "applicationConfigs": [
                {
                  "type": "string",
                  "name": "connectionPoolSize",
                  "value": "10",
                  "platform": "AZURE",
                  "customized": "true",
                  "defaultValue": "5"
                }
              ]
            }
          ],
          "cdieConfigProps": [
            {
              "engineName": "CDIE Engine",
              "engineVersion": "1.0",
              "applicationConfigs": [
                {
                  "type": "string",
                  "name": "maxRetries",
                  "value": "3",
                  "platform": "AZURE",
                  "customized": "false",
                  "defaultValue": "3"
                }
              ]
            }
          ]
        },
        "serverlessRuntimeTags": [
          {
            "name": "environment",
            "value": "production"
          }
        ],
        "serverlessRuntimeUserContextProperties": {
          "userContextToken": "user-context-token-123"
        }
      },
      "identity": {
        "type": "UserAssigned",
        "userAssignedIdentities": {
          "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg-example/providers/Microsoft.ManagedIdentity/userAssignedIdentities/myIdentity": {}
        }
      }
    }
  },
  "responses": {
    "200": {
      "body": {
        "properties": {
          "provisioningState": "Succeeded",
          "description": "Production serverless runtime for data integration",
          "platform": "AZURE",
          "applicationType": "CDI",
          "computeUnits": "4",
          "executionTimeout": "3600",
          "serverlessAccountLocation": "westus",
          "serverlessRuntimeNetworkProfile": {
            "networkInterfaceConfiguration": {
              "vnetId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg-example/providers/Microsoft.Network/virtualNetworks/myVnet",
              "subnetId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg-example/providers/Microsoft.Network/virtualNetworks/myVnet/subnets/default",
              "vnetResourceGuid": "11111111-1111-1111-1111-111111111111"
            }
          },
          "advancedCustomProperties": [
            {
              "key": "maxConnections",
              "value": "100"
            }
          ],
          "supplementaryFileLocation": "/files/supplements",
          "serverlessRuntimeConfig": {
            "cdiConfigProps": [
              {
                "engineName": "CDI Engine",
                "engineVersion": "1.0",
                "applicationConfigs": [
                  {
                    "type": "string",
                    "name": "connectionPoolSize",
                    "value": "10",
                    "platform": "AZURE",
                    "customized": "true",
                    "defaultValue": "5"
                  }
                ]
              }
            ],
            "cdieConfigProps": [
              {
                "engineName": "CDIE Engine",
                "engineVersion": "1.0",
                "applicationConfigs": [
                  {
                    "type": "string",
                    "name": "maxRetries",
                    "value": "3",
                    "platform": "AZURE",
                    "customized": "false",
                    "defaultValue": "3"
                  }
                ]
              }
            ]
          },
          "serverlessRuntimeTags": [
            {
              "name": "environment",
              "value": "production"
            }
          ],
          "serverlessRuntimeUserContextProperties": {
            "userContextToken": "user-context-token-123"
          }
        },
        "identity": {
          "principalId": "22222222-2222-2222-2222-222222222222",
          "tenantId": "33333333-3333-3333-3333-333333333333",
          "type": "UserAssigned",
          "userAssignedIdentities": {
            "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg-example/providers/Microsoft.ManagedIdentity/userAssignedIdentities/myIdentity": {
              "principalId": "44444444-4444-4444-4444-444444444444",
              "clientId": "55555555-5555-5555-5555-555555555555"
            }
          }
        },
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg-example/providers/Informatica.DataManagement/organizations/myOrganization/serverlessRuntimes/myServerlessRuntime",
        "name": "myServerlessRuntime",
        "type": "Informatica.DataManagement/organizations/serverlessRuntimes",
        "systemData": {
          "createdBy": "user@example.com",
          "createdByType": "User",
          "createdAt": "2024-01-01T00:00:00.000Z",
          "lastModifiedBy": "user@example.com",
          "lastModifiedByType": "User",
          "lastModifiedAt": "2024-01-01T00:00:00.000Z"
        }
      }
    },
    "201": {
      "headers": {
        "Azure-AsyncOperation": "https://management.azure.com/providers/Informatica.DataManagement/operationstatus"
      },
      "body": {
        "properties": {
          "provisioningState": "Accepted",
          "description": "Production serverless runtime for data integration",
          "platform": "AZURE",
          "applicationType": "CDI",
          "computeUnits": "4",
          "executionTimeout": "3600",
          "serverlessAccountLocation": "westus",
          "serverlessRuntimeNetworkProfile": {
            "networkInterfaceConfiguration": {
              "vnetId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg-example/providers/Microsoft.Network/virtualNetworks/myVnet",
              "subnetId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg-example/providers/Microsoft.Network/virtualNetworks/myVnet/subnets/default",
              "vnetResourceGuid": "11111111-1111-1111-1111-111111111111"
            }
          },
          "advancedCustomProperties": [
            {
              "key": "maxConnections",
              "value": "100"
            }
          ],
          "supplementaryFileLocation": "/files/supplements",
          "serverlessRuntimeConfig": {
            "cdiConfigProps": [
              {
                "engineName": "CDI Engine",
                "engineVersion": "1.0",
                "applicationConfigs": [
                  {
                    "type": "string",
                    "name": "connectionPoolSize",
                    "value": "10",
                    "platform": "AZURE",
                    "customized": "true",
                    "defaultValue": "5"
                  }
                ]
              }
            ],
            "cdieConfigProps": [
              {
                "engineName": "CDIE Engine",
                "engineVersion": "1.0",
                "applicationConfigs": [
                  {
                    "type": "string",
                    "name": "maxRetries",
                    "value": "3",
                    "platform": "AZURE",
                    "customized": "false",
                    "defaultValue": "3"
                  }
                ]
              }
            ]
          },
          "serverlessRuntimeTags": [
            {
              "name": "environment",
              "value": "production"
            }
          ],
          "serverlessRuntimeUserContextProperties": {
            "userContextToken": "user-context-token-123"
          }
        },
        "identity": {
          "principalId": "22222222-2222-2222-2222-222222222222",
          "tenantId": "33333333-3333-3333-3333-333333333333",
          "type": "UserAssigned",
          "userAssignedIdentities": {
            "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg-example/providers/Microsoft.ManagedIdentity/userAssignedIdentities/myIdentity": {
              "principalId": "44444444-4444-4444-4444-444444444444",
              "clientId": "55555555-5555-5555-5555-555555555555"
            }
          }
        },
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg-example/providers/Informatica.DataManagement/organizations/myOrganization/serverlessRuntimes/myServerlessRuntime",
        "name": "myServerlessRuntime",
        "type": "Informatica.DataManagement/organizations/serverlessRuntimes",
        "systemData": {
          "createdBy": "user@example.com",
          "createdByType": "User",
          "createdAt": "2024-01-01T00:00:00.000Z",
          "lastModifiedBy": "user@example.com",
          "lastModifiedByType": "User",
          "lastModifiedAt": "2024-01-01T00:00:00.000Z"
        }
      }
    }
  }
}
