{
  "parameters": {
    "api-version": "2025-09-01-preview",
    "subscriptionId": "subid"
  },
  "responses": {
    "200": {
      "body": {
        "nextLink": null,
        "value": [
          {
            "name": "myWebAgent1",
            "type": "Microsoft.Cdn/webAgents",
            "id": "/subscriptions/subid/resourcegroups/RG1/providers/Microsoft.Cdn/webAgents/myWebAgent1",
            "location": "WestUs",
            "properties": {
              "description": "Primary web agent for content processing",
              "configuration": {
                "maxConcurrentRequests": 100,
                "retryPolicy": {
                  "maxRetries": 3,
                  "retryDelayInSeconds": 5
                },
                "timeoutInSeconds": 30
              },
              "paths": [
                {
                  "type": "Chat",
                  "path": "/chat"
                },
                {
                  "type": "McpServer",
                  "path": "/mcp"
                }
              ],
              "profileAgentLinks": [
                {
                  "id": "/subscriptions/subid/resourcegroups/RG1/providers/Microsoft.Cdn/profiles/profile1/agents/agent1",
                  "profileName": "profile1",
                  "resourceGroupName": "RG1"
                }
              ],
              "provisioningState": "Succeeded",
              "resourceState": "Running",
              "systemPrompt": "You are a helpful AI assistant for customer support. Please provide accurate and friendly responses."
            },
            "sku": {
              "name": "Standard_Microsoft"
            },
            "tags": {
              "key1": "value1"
            }
          },
          {
            "name": "myWebAgent2",
            "type": "Microsoft.Cdn/webAgents",
            "id": "/subscriptions/subid/resourcegroups/RG2/providers/Microsoft.Cdn/webAgents/myWebAgent2",
            "location": "EastUs",
            "properties": {
              "description": "Secondary web agent for backup processing",
              "configuration": {
                "maxConcurrentRequests": 200,
                "retryPolicy": {
                  "maxRetries": 5,
                  "retryDelayInSeconds": 10
                },
                "timeoutInSeconds": 60
              },
              "paths": [
                {
                  "type": "Chat",
                  "path": "/chat/backup"
                }
              ],
              "profileAgentLinks": [],
              "provisioningState": "Succeeded",
              "resourceState": "Running",
              "systemPrompt": "You are a backup AI assistant. Handle requests when the primary system is unavailable."
            },
            "sku": {
              "name": "Premium_Microsoft"
            },
            "tags": {
              "environment": "production"
            }
          }
        ]
      }
    }
  },
  "operationId": "WebAgents_ListBySubscription",
  "title": "List Web Agents in a Subscription"
}
