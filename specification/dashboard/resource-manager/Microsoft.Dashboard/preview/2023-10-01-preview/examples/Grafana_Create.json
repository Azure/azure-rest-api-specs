{
  "parameters": {
    "api-version": "2023-10-01-preview",
    "subscriptionId": "00000000-0000-0000-0000-000000000000",
    "resourceGroupName": "myResourceGroup",
    "workspaceName": "myWorkspace",
    "requestBodyParameters": {
      "sku": {
        "name": "Standard"
      },
      "properties": {
        "publicNetworkAccess": "Enabled",
        "zoneRedundancy": "Enabled",
        "apiKey": "Enabled",
        "deterministicOutboundIP": "Enabled",
        "grafanaConfigurations": {
          "smtp": {
            "enabled": true,
            "host": "smtp.sendemail.com:587",
            "user": "username",
            "password": "<password>",
            "fromAddress": "test@sendemail.com",
            "fromName": "emailsender",
            "startTLSPolicy": "OpportunisticStartTLS",
            "skipVerify": true
          },
          "snapshots": {
            "externalEnabled": true
          },
          "users": {
            "viewersCanEdit": true
          },
          "security": {
            "csrfAlwaysCheck": false
          }
        },
        "grafanaIntegrations": {
          "azureMonitorWorkspaceIntegrations": [
            {
              "azureMonitorWorkspaceResourceId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/myResourceGroup/providers/microsoft.monitor/accounts/myAzureMonitorWorkspace"
            }
          ]
        },
        "enterpriseConfigurations": {
          "marketplacePlanId": "myPlanId",
          "marketplaceAutoRenew": "Enabled"
        },
        "grafanaPlugins": {
          "sample-plugin-id": {}
        },
        "grafanaMajorVersion": "9"
      },
      "identity": {
        "type": "SystemAssigned"
      },
      "tags": {
        "Environment": "Dev"
      },
      "location": "West US"
    }
  },
  "responses": {
    "200": {
      "body": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myResourceGroup/grafana/myWorkspace",
        "name": "myWorkspace",
        "type": "Microsoft.Dashboard/grafana",
        "sku": {
          "name": "Standard"
        },
        "properties": {
          "provisioningState": "Succeeded",
          "grafanaVersion": "9.4.5",
          "endpoint": "https://myworkspace-abcdefghijklmnop.wus.grafana.azure.com",
          "zoneRedundancy": "Enabled",
          "apiKey": "Enabled",
          "deterministicOutboundIP": "Enabled",
          "outboundIPs": [
            "192.168.0.1",
            "192.168.0.2"
          ],
          "publicNetworkAccess": "Enabled",
          "autoGeneratedDomainNameLabelScope": "TenantReuse",
          "grafanaConfigurations": {
            "smtp": {
              "enabled": true,
              "host": "smtp.sendemail.com:587",
              "user": "username",
              "fromAddress": "test@sendemail.com",
              "fromName": "emailsender",
              "startTLSPolicy": "OpportunisticStartTLS",
              "skipVerify": true
            },
            "snapshots": {
              "externalEnabled": true
            },
            "users": {
              "viewersCanEdit": true
            },
            "security": {
              "csrfAlwaysCheck": false
            }
          },
          "grafanaIntegrations": {
            "azureMonitorWorkspaceIntegrations": [
              {
                "azureMonitorWorkspaceResourceId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/myResourceGroup/providers/microsoft.monitor/accounts/myAzureMonitorWorkspace"
              }
            ]
          },
          "enterpriseConfigurations": {
            "marketplacePlanId": "myPlanId",
            "marketplaceAutoRenew": "Enabled"
          },
          "grafanaPlugins": {
            "sample-plugin-id": {
              "pluginId": "sample-plugin-id"
            }
          },
          "grafanaMajorVersion": "9"
        },
        "identity": {
          "type": "SystemAssigned"
        },
        "tags": {
          "Environment": "Dev"
        },
        "location": "West US",
        "systemData": {
          "createdBy": "string",
          "createdByType": "User",
          "createdAt": "2020-02-03T01:01:01.1075056Z",
          "lastModifiedBy": "string",
          "lastModifiedByType": "User",
          "lastModifiedAt": "2020-02-04T02:03:01.1974346Z"
        }
      }
    },
    "201": {
      "headers": {
        "Azure-AsyncOperation": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Dashboard/locations/eastus2/operationStatuses/sample-op-status?api-version=2023-10-01-preview"
      },
      "body": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myResourceGroup/grafana/myWorkspace",
        "name": "myWorkspace",
        "type": "Microsoft.Dashboard/grafana",
        "sku": {
          "name": "Standard"
        },
        "properties": {
          "provisioningState": "Accepted",
          "grafanaVersion": "9.4.5",
          "endpoint": "https://myworkspace-abcdefghijklmnop.wus.grafana.azure.com",
          "zoneRedundancy": "Enabled",
          "apiKey": "Enabled",
          "deterministicOutboundIP": "Enabled",
          "publicNetworkAccess": "Enabled",
          "autoGeneratedDomainNameLabelScope": "TenantReuse",
          "grafanaConfigurations": {
            "smtp": {
              "enabled": true,
              "host": "smtp.sendemail.com:587",
              "user": "username",
              "fromAddress": "test@sendemail.com",
              "fromName": "emailsender",
              "startTLSPolicy": "OpportunisticStartTLS",
              "skipVerify": true
            },
            "snapshots": {
              "externalEnabled": true
            },
            "users": {
              "viewersCanEdit": true
            },
            "security": {
              "csrfAlwaysCheck": false
            }
          },
          "grafanaIntegrations": {
            "azureMonitorWorkspaceIntegrations": [
              {
                "azureMonitorWorkspaceResourceId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/myResourceGroup/providers/microsoft.monitor/accounts/myAzureMonitorWorkspace"
              }
            ]
          },
          "grafanaMajorVersion": "9"
        },
        "tags": {
          "Environment": "Dev"
        },
        "location": "West US",
        "systemData": {
          "createdBy": "string",
          "createdByType": "User",
          "createdAt": "2020-02-03T01:01:01.1075056Z",
          "lastModifiedBy": "string",
          "lastModifiedByType": "User",
          "lastModifiedAt": "2020-02-04T02:03:01.1974346Z"
        }
      }
    }
  }
}
