{
  "parameters": {
    "name": "cache1",
    "api-version": "2024-11-01",
    "parameters": {
      "location": "East US",
      "properties": {
        "enableNonSslPort": true,
        "minimumTlsVersion": "1.2",
        "redisConfiguration": {
          "maxmemory-policy": "allkeys-lru"
        },
        "redisVersion": "Latest",
        "replicasPerPrimary": 2,
        "shardCount": 2,
        "sku": {
          "name": "Premium",
          "capacity": 1,
          "family": "P"
        },
        "staticIP": "192.168.0.5",
        "subnetId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg2/providers/Microsoft.Network/virtualNetworks/network1/subnets/subnet1",
        "zonalAllocationPolicy": "UserDefined"
      },
      "zones": [
        "1"
      ]
    },
    "resourceGroupName": "rg1",
    "subscriptionId": "00000000-0000-0000-0000-000000000000"
  },
  "responses": {
    "200": {
      "body": {
        "name": "cache1",
        "type": "Microsoft.Cache/Redis",
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg1/providers/Microsoft.Cache/Redis/cache1",
        "location": "East US",
        "properties": {
          "accessKeys": {
            "primaryKey": "<primaryKey>",
            "secondaryKey": "<secondaryKey>"
          },
          "enableNonSslPort": false,
          "hostName": "cache1.redis.cache.windows.net",
          "instances": [
            {
              "isMaster": true,
              "isPrimary": true,
              "nonSslPort": 13000,
              "shardId": 0,
              "sslPort": 15000,
              "zone": "1"
            },
            {
              "isMaster": false,
              "isPrimary": false,
              "nonSslPort": 13001,
              "shardId": 0,
              "sslPort": 15001,
              "zone": "1"
            },
            {
              "isMaster": false,
              "isPrimary": false,
              "nonSslPort": 13002,
              "shardId": 0,
              "sslPort": 15002,
              "zone": "1"
            },
            {
              "isMaster": true,
              "isPrimary": true,
              "nonSslPort": 13003,
              "shardId": 1,
              "sslPort": 15003,
              "zone": "1"
            },
            {
              "isMaster": false,
              "isPrimary": false,
              "nonSslPort": 13004,
              "shardId": 1,
              "sslPort": 15004,
              "zone": "1"
            },
            {
              "isMaster": false,
              "isPrimary": false,
              "nonSslPort": 13005,
              "shardId": 1,
              "sslPort": 15005,
              "zone": "1"
            }
          ],
          "minimumTlsVersion": "1.2",
          "port": 6379,
          "provisioningState": "Succeeded",
          "redisConfiguration": {
            "maxclients": "1000",
            "maxmemory-delta": "50",
            "maxmemory-reserved": "50"
          },
          "redisVersion": "6.0.14",
          "replicasPerMaster": 2,
          "replicasPerPrimary": 2,
          "sku": {
            "name": "Premium",
            "capacity": 1,
            "family": "P"
          },
          "sslPort": 6380,
          "updateChannel": "Stable",
          "zonalAllocationPolicy": "UserDefined"
        },
        "tags": {},
        "zones": [
          "1"
        ]
      }
    },
    "201": {
      "body": {
        "name": "cache1",
        "type": "Microsoft.Cache/Redis",
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg1/providers/Microsoft.Cache/Redis/cache1",
        "location": "East US",
        "properties": {
          "accessKeys": {
            "primaryKey": "<primaryKey>",
            "secondaryKey": "<secondaryKey>"
          },
          "enableNonSslPort": false,
          "hostName": "cache1.redis.cache.windows.net",
          "instances": [
            {
              "isMaster": true,
              "isPrimary": true,
              "nonSslPort": 13000,
              "shardId": 0,
              "sslPort": 15000,
              "zone": "1"
            },
            {
              "isMaster": false,
              "isPrimary": false,
              "nonSslPort": 13001,
              "shardId": 0,
              "sslPort": 15001,
              "zone": "1"
            },
            {
              "isMaster": false,
              "isPrimary": false,
              "nonSslPort": 13002,
              "shardId": 0,
              "sslPort": 15002,
              "zone": "1"
            },
            {
              "isMaster": true,
              "isPrimary": true,
              "nonSslPort": 13003,
              "shardId": 1,
              "sslPort": 15003,
              "zone": "1"
            },
            {
              "isMaster": false,
              "isPrimary": false,
              "nonSslPort": 13004,
              "shardId": 1,
              "sslPort": 15004,
              "zone": "1"
            },
            {
              "isMaster": false,
              "isPrimary": false,
              "nonSslPort": 13005,
              "shardId": 1,
              "sslPort": 15005,
              "zone": "1"
            }
          ],
          "minimumTlsVersion": "1.2",
          "port": 6379,
          "provisioningState": "Succeeded",
          "redisConfiguration": {
            "maxmemory-policy": "allkeys-lru"
          },
          "redisVersion": "6.0.14",
          "replicasPerMaster": 2,
          "replicasPerPrimary": 2,
          "sku": {
            "name": "Premium",
            "capacity": 1,
            "family": "P"
          },
          "sslPort": 6380,
          "updateChannel": "Stable",
          "zonalAllocationPolicy": "UserDefined"
        },
        "tags": {},
        "zones": [
          "1"
        ]
      }
    }
  },
  "operationId": "Redis_Create",
  "title": "RedisCacheCreateUserDefinedZonalAllocationPolicy"
}
