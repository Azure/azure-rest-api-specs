{
  "parameters": {
    "subscriptionId": "00000000-1111-2222-3333-444444444444",
    "resourceGroupName": "resourceGroup-1234",
    "workspaceName": "testworkspace",
    "api-version": "2020-09-01-preview",
    "endpointName": "testEndpointName",
    "deploymentId": "testBatchDeployment",
    "body": {
      "location": "westus2euap",
      "tags": {},
      "properties": {
        "scaleSettings": {
            "nodeCount": 1
        },
        "batchSettings": {
            "computeId" : "cluster-name",
            "partitioningScheme": {
                "miniBatchSize": 20
            },
            "outputConfiguration": {
                "outputAction": "AppendRow"
            },
            "errorThreshold": 5,
            "retrySettings": {
                "timeoutInSeconds": 30
            }
        },
        "codeConfiguration": {
          "codeArtifactId": "some code artifact",
          "startupCommand": "batch_scoring.py"
        },
        "environmentId": "some environment",
        "properties": {
          "description": "string"
        },
      }
    }
  },
  "responses": {
    "200": {
      "body": {
        "id": "/subscriptions/00000000-1111-2222-3333-444444444444/resourceGroups/resourceGroup-1234/providers/Microsoft.MachineLearningServices/workspaces/testworkspace/batchEndpoints/testEndpointName/deployments/testBatchDeployment",
        "name": "testBatchDeployment",
        "type": "Microsoft.MachineLearningServices/workspaces/batchEndpoints/deployments",
        "location": "westus2euap",
        "tags": {},        
        "properties": {
          "scaleSettings": {
              "nodeCount": 1
          },
          "batchSettings": {
              "computeId": "some compute",
              "errorThreshold": 5,
              "retrySettings": {
                  "maximumRetries": 0,
                  "timeoutInSeconds": 30
              },
              "partitioningScheme": {
                  "partitioningKey": null,
                  "miniBatchSize": 20
              },
              "loggingLevel": "Info",
              "outputConfiguration": {
                  "outputAction": "AppendRow",
                  "appendRowFileName": null
              }
          },
          "description": "Testing deployment creation",
          "properties": {
            "description": "string"
          },
          "modelId": "some model",
          "codeConfiguration": {
              "commandType": "Command",
              "codeArtifactId": "some code artifact",
              "command": [
                  "batch_scoring.py"
              ]
          },
          "environmentId": "some environment",
          "provisioningState": "Succeeded",
        }
      },
    "201": {
      "body": {
        "id": "/subscriptions/00000000-1111-2222-3333-444444444444/resourceGroups/resourceGroup-1234/providers/Microsoft.MachineLearningServices/workspaces/testworkspace/batchEndpoints/testEndpointName/deployments/testBatchDeployment",
        "name": "testBatchDeployment",
        "type": "Microsoft.MachineLearningServices/workspaces/batchEndpoints/deployments",
        "location": "westus2euap",
        "tags": {},        
        "properties": {
          "scaleSettings": {
              "nodeCount": 1
          },
          "batchSettings": {
              "computeId": "some compute",
              "errorThreshold": 5,
              "retrySettings": {
                  "maximumRetries": 0,
                  "timeoutInSeconds": 30
              },
              "partitioningScheme": {
                  "partitioningKey": null,
                  "miniBatchSize": 20
              },
              "loggingLevel": "Info",
              "outputConfiguration": {
                  "outputAction": "AppendRow",
                  "appendRowFileName": null
              }
          },
          "description": "Testing deployment creation",
          "properties": {
            "description": "string"
          },
          "modelId": "some model",
          "codeConfiguration": {
              "commandType": "Command",
              "codeArtifactId": "some code artifact",
              "command": [
                  "batch_scoring.py"
              ]
          },
          "environmentId": "some environment",
          "provisioningState": "Succeeded",
        }
      }
    }
  }
}