{
  "parameters": {
    "operationId": "YWUzNDFkMzQtZmM5OS00MmUyLWEzNDMtZGJkMDIxZjlmZjgzOzdmYzBiMzhmLTc2NmItNDM5NS05OWQ1LTVmOGEzNzg4MWQzNA==",
    "api-version": "2025-07-01",
    "parameters": {
      "properties": {
        "monitoringSettings": {
          "azureMonitorAlertSettings": {
            "alertsForAllJobFailures": "Enabled"
          }
        },
        "securitySettings": {
          "encryptionSettings": {
            "infrastructureEncryption": "Enabled",
            "kekIdentity": {
              "identityType": "SystemAssigned"
            },
            "keyVaultProperties": {
              "keyUri": "https://cmk2xkv.vault.azure.net/keys/Key1/0767b348bb1a4c07baa6c4ec0055d2b3"
            },
            "state": "Enabled"
          },
          "immutabilitySettings": {
            "state": "Disabled"
          },
          "softDeleteSettings": {
            "retentionDurationInDays": 90,
            "state": "On"
          }
        }
      },
      "tags": {
        "newKey": "newVal"
      }
    },
    "resourceGroupName": "SampleResourceGroup",
    "subscriptionId": "0b352192-dcac-4cc7-992e-a96190ccc68c",
    "vaultName": "swaggerExample"
  },
  "responses": {
    "200": {
      "body": {
        "name": "swaggerExample",
        "type": "Microsoft.DataProtection/Backupvaults",
        "id": "/subscriptions/0b352192-dcac-4cc7-992e-a96190ccc68c/resourceGroups/SampleResourceGroup/providers/Microsoft.DataProtection/Backupvaults/swaggerExample",
        "location": "WestUS",
        "properties": {
          "monitoringSettings": {
            "azureMonitorAlertSettings": {
              "alertsForAllJobFailures": "Enabled"
            }
          },
          "provisioningState": "Succeeded",
          "securitySettings": {
            "encryptionSettings": {
              "infrastructureEncryption": "Enabled",
              "kekIdentity": {
                "identityType": "SystemAssigned"
              },
              "keyVaultProperties": {
                "keyUri": "https://cmk2xkv.vault.azure.net/keys/Key1/0767b348bb1a4c07baa6c4ec0055d2b3"
              }
            },
            "immutabilitySettings": {
              "state": "Disabled"
            },
            "softDeleteSettings": {
              "retentionDurationInDays": 90,
              "state": "On"
            }
          },
          "storageSettings": [
            {
              "type": "LocallyRedundant",
              "datastoreType": "VaultStore"
            }
          ]
        },
        "tags": {
          "newKey": "newVal"
        }
      }
    },
    "202": {
      "headers": {
        "Azure-AsyncOperation": "https://management.windowsazure.com/subscriptions/04cf684a-d41f-4550-9f70-7708a3a2283b/resourceGroups/SampleResourceGroup/providers/Microsoft.DataProtection/Backupvaults/swaggerExample/operationStatus/YWUzNDFkMzQtZmM5OS00MmUyLWEzNDMtZGJkMDIxZjlmZjgzOzdmYzBiMzhmLTc2NmItNDM5NS05OWQ1LTVmOGEzNzg4MWQzNA==?api-version=2023-04-01-privatepreview",
        "Location": "https://management.windowsazure.com/subscriptions/04cf684a-d41f-4550-9f70-7708a3a2283b/resourceGroups/SampleResourceGroup/providers/Microsoft.DataProtection/Backupvaults/swaggerExample/operationResults/YWUzNDFkMzQtZmM5OS00MmUyLWEzNDMtZGJkMDIxZjlmZjgzOzdmYzBiMzhmLTc2NmItNDM5NS05OWQ1LTVmOGEzNzg4MWQzNA==?api-version=2023-04-01-privatepreview",
        "Retry-After": "10"
      }
    }
  },
  "operationId": "BackupVaults_Update",
  "title": "Patch BackupVault with CMK"
}
