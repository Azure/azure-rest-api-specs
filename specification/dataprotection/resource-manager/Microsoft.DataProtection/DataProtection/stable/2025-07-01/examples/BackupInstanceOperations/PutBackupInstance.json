{
  "parameters": {
    "api-version": "2025-07-01",
    "backupInstanceName": "testInstance1",
    "parameters": {
      "properties": {
        "dataSourceInfo": {
          "datasourceType": "Microsoft.DBforPostgreSQL/servers/databases",
          "objectType": "Datasource",
          "resourceID": "/subscriptions/f75d8d8b-6735-4697-82e1-1a7a3ff0d5d4/resourceGroups/viveksipgtest/providers/Microsoft.DBforPostgreSQL/servers/viveksipgtest/databases/testdb",
          "resourceLocation": "",
          "resourceName": "testdb",
          "resourceType": "Microsoft.DBforPostgreSQL/servers/databases",
          "resourceUri": ""
        },
        "dataSourceSetInfo": {
          "datasourceType": "Microsoft.DBforPostgreSQL/servers/databases",
          "objectType": "DatasourceSet",
          "resourceID": "/subscriptions/f75d8d8b-6735-4697-82e1-1a7a3ff0d5d4/resourceGroups/viveksipgtest/providers/Microsoft.DBforPostgreSQL/servers/viveksipgtest",
          "resourceLocation": "",
          "resourceName": "viveksipgtest",
          "resourceType": "Microsoft.DBforPostgreSQL/servers",
          "resourceUri": ""
        },
        "datasourceAuthCredentials": {
          "objectType": "SecretStoreBasedAuthCredentials",
          "secretStoreResource": {
            "secretStoreType": "AzureKeyVault",
            "uri": "https://samplevault.vault.azure.net/secrets/credentials"
          }
        },
        "friendlyName": "harshitbi2",
        "identityDetails": {
          "useSystemAssignedIdentity": false,
          "userAssignedIdentityArmUrl": "/subscriptions/f75d8d8b-6735-4697-82e1-1a7a3ff0d5d4/resourcegroups/rg-name/providers/Microsoft.ManagedIdentity/userAssignedIdentities/testUami"
        },
        "objectType": "BackupInstance",
        "policyInfo": {
          "policyId": "/subscriptions/04cf684a-d41f-4550-9f70-7708a3a2283b/resourceGroups/000pikumar/providers/Microsoft.DataProtection/Backupvaults/PratikPrivatePreviewVault1/backupPolicies/PratikPolicy1",
          "policyParameters": {
            "dataStoreParametersList": [
              {
                "dataStoreType": "OperationalStore",
                "objectType": "AzureOperationalStoreParameters",
                "resourceGroupId": "/subscriptions/f75d8d8b-6735-4697-82e1-1a7a3ff0d5d4/resourceGroups/viveksipgtest"
              }
            ]
          }
        },
        "validationType": "ShallowValidation"
      }
    },
    "resourceGroupName": "000pikumar",
    "subscriptionId": "04cf684a-d41f-4550-9f70-7708a3a2283b",
    "vaultName": "PratikPrivatePreviewVault1"
  },
  "responses": {
    "200": {
      "body": {
        "name": "harshitbi2",
        "type": "Microsoft.DataProtection/backupVaults/backupInstances",
        "id": "/subscriptions/04cf684a-d41f-4550-9f70-7708a3a2283b/resourceGroups/000pikumar/providers/Microsoft.DataProtection/backupVaults/PratikPrivatePreviewVault1/backupInstances/harshitbi2",
        "properties": {
          "dataSourceInfo": {
            "datasourceType": "OssDB",
            "objectType": "Datasource",
            "resourceID": "/subscriptions/f75d8d8b-6735-4697-82e1-1a7a3ff0d5d4/resourceGroups/viveksipgtest/providers/Microsoft.DBforPostgreSQL/servers/viveksipgtest/databases/testdb",
            "resourceLocation": "",
            "resourceName": "testdb",
            "resourceType": "OssDB",
            "resourceUri": ""
          },
          "dataSourceSetInfo": {
            "datasourceType": "OssDB",
            "objectType": "DatasourceSet",
            "resourceID": "/subscriptions/f75d8d8b-6735-4697-82e1-1a7a3ff0d5d4/resourceGroups/viveksipgtest/providers/Microsoft.DBforPostgreSQL/servers/viveksipgtest",
            "resourceLocation": "",
            "resourceName": "viveksipgtest",
            "resourceType": "OssDB",
            "resourceUri": ""
          },
          "friendlyName": "harshitbi2",
          "objectType": "BackupInstance",
          "policyInfo": {
            "policyId": "/subscriptions/04cf684a-d41f-4550-9f70-7708a3a2283b/resourceGroups/000pikumar/providers/Microsoft.DataProtection/backupVaults/PratikPrivatePreviewVault1/backupPolicies/PratikPolicy1",
            "policyParameters": {
              "dataStoreParametersList": [
                {
                  "dataStoreType": "OperationalStore",
                  "objectType": "AzureOperationalStoreParameters",
                  "resourceGroupId": "/subscriptions/f75d8d8b-6735-4697-82e1-1a7a3ff0d5d4/resourceGroups/viveksipgtest"
                }
              ]
            },
            "policyVersion": "3.2"
          },
          "protectionStatus": {
            "status": "NotProtected"
          },
          "provisioningState": "Provisioned"
        }
      }
    },
    "201": {
      "body": {
        "name": "harshitbi2",
        "type": "Microsoft.DataProtection/backupVaults/backupInstances",
        "id": "/subscriptions/04cf684a-d41f-4550-9f70-7708a3a2283b/resourceGroups/000pikumar/providers/Microsoft.DataProtection/backupVaults/PratikPrivatePreviewVault1/backupInstances/harshitbi2",
        "properties": {
          "dataSourceInfo": {
            "datasourceType": "OssDB",
            "objectType": "Datasource",
            "resourceID": "/subscriptions/f75d8d8b-6735-4697-82e1-1a7a3ff0d5d4/resourceGroups/viveksipgtest/providers/Microsoft.DBforPostgreSQL/servers/viveksipgtest/databases/testdb",
            "resourceLocation": "",
            "resourceName": "testdb",
            "resourceType": "OssDB",
            "resourceUri": ""
          },
          "dataSourceSetInfo": {
            "datasourceType": "OssDB",
            "objectType": "DatasourceSet",
            "resourceID": "/subscriptions/f75d8d8b-6735-4697-82e1-1a7a3ff0d5d4/resourceGroups/viveksipgtest/providers/Microsoft.DBforPostgreSQL/servers/viveksipgtest",
            "resourceLocation": "",
            "resourceName": "viveksipgtest",
            "resourceType": "OssDB",
            "resourceUri": ""
          },
          "friendlyName": "harshitbi2",
          "objectType": "BackupInstance",
          "policyInfo": {
            "policyId": "/subscriptions/04cf684a-d41f-4550-9f70-7708a3a2283b/resourceGroups/000pikumar/providers/Microsoft.DataProtection/backupVaults/PratikPrivatePreviewVault1/backupPolicies/PratikPolicy1",
            "policyParameters": {
              "dataStoreParametersList": [
                {
                  "dataStoreType": "OperationalStore",
                  "objectType": "AzureOperationalStoreParameters",
                  "resourceGroupId": "/subscriptions/f75d8d8b-6735-4697-82e1-1a7a3ff0d5d4/resourceGroups/viveksipgtest"
                }
              ]
            },
            "policyVersion": "3.2"
          },
          "protectionStatus": {
            "status": "NotProtected"
          },
          "provisioningState": "Provisioning"
        }
      },
      "headers": {
        "Azure-AsyncOperation": "https://management.azure.com/subscriptions/04cf684a-d41f-4550-9f70-7708a3a2283b/resourceGroups/000pikumar/providers/Microsoft.DataProtection/backupVaults/PratikPrivatePreviewVault1/operationStatus/ZTA4YjQ0ZGYtYmNkNS00YTk1LWFjZTMtOTc1MjNmZWIxYWZlO2Y1ODg1MzA3LWJkNjItNDQ2OC05ZjZlLTJkMGM2NjNiNmJmNg==?api-version=2025-07-01",
        "Retry-After": "60"
      }
    },
    "202": {
      "headers": {
        "Azure-AsyncOperation": "https://management.windowsazure.com/subscriptions/04cf684a-d41f-4550-9f70-7708a3a2283b/resourceGroups/000pikumar/providers/Microsoft.DataProtection/backupVaults/PratikPrivatePreviewVault1/operationStatus/YWUzNDFkMzQtZmM5OS00MmUyLWEzNDMtZGJkMDIxZjlmZjgzOzdmYzBiMzhmLTc2NmItNDM5NS05OWQ1LTVmOGEzNzg4MWQzNA==?api-version=2025-07-01",
        "Location": "https://management.windowsazure.com/subscriptions/04cf684a-d41f-4550-9f70-7708a3a2283b/resourceGroups/000pikumar/providers/Microsoft.DataProtection/backupVaults/PratikPrivatePreviewVault1/backupInstances/testInstance1/operationResults/YWUzNDFkMzQtZmM5OS00MmUyLWEzNDMtZGJkMDIxZjlmZjgzOzdmYzBiMzhmLTc2NmItNDM5NS05OWQ1LTVmOGEzNzg4MWQzNA==?api-version=2025-07-01",
        "Retry-After": "60"
      }
    }
  },
  "operationId": "BackupInstances_CreateOrUpdate",
  "title": "Create BackupInstance"
}
