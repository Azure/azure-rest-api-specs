{
  "parameters": {
    "api-version": "2025-09-01",
    "backupPolicyName": "OSSDBPolicy",
    "parameters": {
      "properties": {
        "datasourceTypes": [
          "OssDB"
        ],
        "objectType": "BackupPolicy",
        "policyRules": [
          {
            "name": "BackupWeekly",
            "backupParameters": {
              "backupType": "Full",
              "objectType": "AzureBackupParams"
            },
            "dataStore": {
              "dataStoreType": "VaultStore",
              "objectType": "DataStoreInfoBase"
            },
            "objectType": "AzureBackupRule",
            "trigger": {
              "objectType": "ScheduleBasedTriggerContext",
              "schedule": {
                "repeatingTimeIntervals": [
                  "R/2019-11-20T08:00:00-08:00/P1W"
                ]
              },
              "taggingCriteria": [
                {
                  "isDefault": true,
                  "tagInfo": {
                    "tagName": "Default"
                  },
                  "taggingPriority": 99
                },
                {
                  "criteria": [
                    {
                      "daysOfTheWeek": [
                        "Sunday"
                      ],
                      "objectType": "ScheduleBasedBackupCriteria",
                      "scheduleTimes": [
                        "2019-03-01T13:00:00Z"
                      ]
                    }
                  ],
                  "isDefault": false,
                  "tagInfo": {
                    "tagName": "Weekly"
                  },
                  "taggingPriority": 20
                }
              ]
            }
          },
          {
            "name": "Default",
            "isDefault": true,
            "lifecycles": [
              {
                "deleteAfter": {
                  "duration": "P1W",
                  "objectType": "AbsoluteDeleteOption"
                },
                "sourceDataStore": {
                  "dataStoreType": "VaultStore",
                  "objectType": "DataStoreInfoBase"
                }
              }
            ],
            "objectType": "AzureRetentionRule"
          },
          {
            "name": "Weekly",
            "isDefault": false,
            "lifecycles": [
              {
                "deleteAfter": {
                  "duration": "P12W",
                  "objectType": "AbsoluteDeleteOption"
                },
                "sourceDataStore": {
                  "dataStoreType": "VaultStore",
                  "objectType": "DataStoreInfoBase"
                }
              }
            ],
            "objectType": "AzureRetentionRule"
          }
        ]
      }
    },
    "resourceGroupName": "000pikumar",
    "subscriptionId": "04cf684a-d41f-4550-9f70-7708a3a2283b",
    "vaultName": "PrivatePreviewVault"
  },
  "responses": {
    "200": {
      "body": {
        "name": "OSSDBPolicy",
        "type": "Microsoft.DataProtection/backupVaults/backupPolicies",
        "id": "/subscriptions/04cf684a-d41f-4550-9f70-7708a3a2283b/resourceGroups/000pikumar/providers/Microsoft.DataProtection/backupVaults/PrivatePreviewVault/backupPolicies/OSSDBPolicy",
        "properties": {
          "datasourceTypes": [
            "OssDB"
          ],
          "objectType": "BackupPolicy",
          "policyRules": [
            {
              "name": "BackupWeekly",
              "backupParameters": {
                "backupType": "Full",
                "objectType": "AzureBackupParams"
              },
              "dataStore": {
                "dataStoreType": "VaultStore",
                "objectType": "DataStoreInfoBase"
              },
              "objectType": "AzureBackupRule",
              "trigger": {
                "objectType": "ScheduleBasedTriggerContext",
                "schedule": {
                  "repeatingTimeIntervals": [
                    "R/2019-11-20T08:00:00-08:00/P1W"
                  ]
                },
                "taggingCriteria": [
                  {
                    "isDefault": true,
                    "tagInfo": {
                      "id": "Default_",
                      "tagName": "Default"
                    },
                    "taggingPriority": 99
                  },
                  {
                    "criteria": [
                      {
                        "daysOfTheWeek": [
                          "Sunday"
                        ],
                        "objectType": "ScheduleBasedBackupCriteria",
                        "scheduleTimes": [
                          "2019-03-01T13:00:00Z"
                        ]
                      }
                    ],
                    "isDefault": false,
                    "tagInfo": {
                      "id": "Weekly_",
                      "tagName": "Weekly"
                    },
                    "taggingPriority": 20
                  }
                ]
              }
            },
            {
              "name": "Default",
              "isDefault": true,
              "lifecycles": [
                {
                  "deleteAfter": {
                    "duration": "P1W",
                    "objectType": "AbsoluteDeleteOption"
                  },
                  "sourceDataStore": {
                    "dataStoreType": "VaultStore",
                    "objectType": "DataStoreInfoBase"
                  }
                }
              ],
              "objectType": "AzureRetentionRule"
            },
            {
              "name": "Weekly",
              "isDefault": false,
              "lifecycles": [
                {
                  "deleteAfter": {
                    "duration": "P12W",
                    "objectType": "AbsoluteDeleteOption"
                  },
                  "sourceDataStore": {
                    "dataStoreType": "VaultStore",
                    "objectType": "DataStoreInfoBase"
                  }
                }
              ],
              "objectType": "AzureRetentionRule"
            }
          ]
        }
      }
    }
  },
  "operationId": "BackupPolicies_CreateOrUpdate",
  "title": "CreateOrUpdate BackupPolicy"
}
