import "@typespec/rest";
import "@typespec/http";
import "@azure-tools/typespec-azure-resource-manager";


using TypeSpec.Rest;
using TypeSpec.Http;
using Azure.ResourceManager;
using Azure.ResourceManager.Foundations;


namespace Microsoft.VoiceServices;

interface Operations extends Azure.ResourceManager.Operations {} 

/**
* Provisioning state of the resource.
*/
    enum ProvisioningState {
        "Succeeded", "Failed", "Canceled"
    }

/**
* The status of the current CommunicationsGateway resource.
*/
    enum Status {
        /**
* The resource has been created or updated, but the CommunicationsGateway service has not yet been updated to reflect the changes.
*/"ChangePending", /**
* The CommunicationsGateway service is up and running with the parameters specified in the resource.
*/"Complete"
    }

/**
* How this deployment connects back to the operator network
*/
    enum Connectivity {
        /**
* This deployment connects to the operator network using a Public IP address, e.g. when using MAPS
*/"PublicAddress"
    }

/**
* The voice codecs expected for communication with Teams.
*/
    enum TeamsCodecs {
        "PCMA", "PCMU", "G722", "G722_2", "SILK_8", "SILK_16"
    }

/**
* The method for terminating emergency calls to the PSTN.
*/
    enum E911Type {
        /**
* Emergency calls are not handled different from other calls
*/"Standard", /**
* Emergency calls are routed directly to the ESRP
*/"DirectToEsrp"
    }

/**
* Available platform types.
*/
    enum CommunicationsPlatform {
        "OperatorConnect", "TeamsPhoneMobile"
    }

/**
* Available auto-generated domain name scopes.
*/
    enum AutoGeneratedDomainNameLabelScope {
        "TenantReuse", "SubscriptionReuse", "ResourceGroupReuse", "NoReuse"
    }

/**
* The purpose of the TestLine resource.
*/
    enum TestLinePurpose {
        "Manual", "Automated"
    }




/**
* Details of the CommunicationsGateway resource.
*/
model CommunicationsGatewayProperties {
/**
* Resource provisioning state.
*/
@visibility("read")
"provisioningState"?: ProvisioningState;
/**
* The current status of the deployment.
*/
@visibility("read")
"status"?: Status;
/**
* The regions in which to deploy the resources needed for Teams Calling
*/
@visibility("read", "create", "update")
"serviceLocations": ServiceRegionProperties[];
/**
* How to connect back to the operator network, e.g. MAPS
*/
@visibility("read", "create")
"connectivity": Connectivity;
/**
* Voice codecs to support
*/
@visibility("read", "create", "update")
"codecs": TeamsCodecs[];
/**
* How to handle 911 calls
*/
@visibility("read", "create", "update")
"e911Type": E911Type;
/**
* What platforms to support
*/
@visibility("read", "create", "update")
"platforms": CommunicationsPlatform[];
/**
* Details of API bridge functionality, if required
*/
@visibility("read", "create", "update")
"apiBridge"?: Record<unknown>;
/**
* The scope at which the auto-generated domain name can be re-used
*/
@visibility("read", "create")
"autoGeneratedDomainNameLabelScope"?: AutoGeneratedDomainNameLabelScope;
/**
* The autogenerated label used as part of the FQDNs for accessing the Communications Gateway
*/
@visibility("read")
"autoGeneratedDomainNameLabel"?: string;
/**
* This number is used in Teams Phone Mobile scenarios for access to the voicemail IVR from the native dialer.
*/
@visibility("read", "create", "update")
"teamsVoicemailPilotNumber"?: string;
/**
* Whether an on-premises Mobile Control Point is in use.
*/
@visibility("read", "create", "update")
"onPremMcpEnabled"?: boolean;
/**
* A list of dial strings used for emergency calling.
*/
@visibility("read", "create", "update")
"emergencyDialStrings"?: string[] = 911,933;
}

/**
* The service region configuration needed for Teams Callings.
*/
model ServiceRegionProperties {
/**
* The name of the region in which the resources needed for Teams Calling will be deployed.
*/
@visibility("read", "create")
"name": string;
/**
* The configuration used in this region as primary, and other regions as backup.
*/
@visibility("read", "create", "update")
"primaryRegionProperties": PrimaryRegionProperties;
}

/**
* The configuration used in this region as primary, and other regions as backup.
*/
model PrimaryRegionProperties {
/**
* IP address to use to contact the operator network from this region
*/
@visibility("read", "create", "update")
"operatorAddresses": string[];
/**
* IP address to use to contact the ESRP from this region
*/
@visibility("read", "create", "update")
"esrpAddresses"?: string[];
/**
* The allowed source IP address or CIDR ranges for signaling
*/
@visibility("read", "create", "update")
"allowedSignalingSourceAddressPrefixes"?: string[] = ;
/**
* The allowed source IP address or CIDR ranges for media
*/
@visibility("read", "create", "update")
"allowedMediaSourceAddressPrefixes"?: string[] = ;
}

/**
* Common fields that are returned in the response for all Azure Resource Manager resources
*/
model Resource {
/**
* Fully qualified resource ID for the resource. Ex - /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/{resourceProviderNamespace}/{resourceType}/{resourceName}
*/
@visibility("read")
"id"?: string;
/**
* The name of the resource
*/
@visibility("read")
"name"?: string;
/**
* The type of the resource. E.g. "Microsoft.Compute/virtualMachines" or "Microsoft.Storage/storageAccounts"
*/
@visibility("read")
"type"?: string;
/**
* Azure Resource Manager metadata containing createdBy and modifiedBy information.
*/
@visibility("read")
"systemData"?: SystemData;
}

/**
* The check availability request body.
*/
model CheckNameAvailabilityRequest {
/**
* The name of the resource for which availability needs to be checked.
*/
"name"?: string;
/**
* The resource type.
*/
"type"?: string;
}

/**
* The check availability result.
*/
model CheckNameAvailabilityResponse {
/**
* Indicates if the resource name is available.
*/
"nameAvailable"?: boolean;
/**
* The reason why the given name is not available.
*/
"reason"?: CheckNameAvailabilityReason;
/**
* Detailed reason why the given name is not available.
*/
"message"?: string;
}

/**
* The type used for update operations of the CommunicationsGateway.
*/
model CommunicationsGatewayUpdate {
/**
* Resource tags.
*/
"tags"?: Record<string>;
}

/**
* Details of the TestLine resource.
*/
model TestLineProperties {
/**
* Resource provisioning state.
*/
@visibility("read")
"provisioningState"?: ProvisioningState;
/**
* The phone number
*/
@visibility("read", "create", "update")
"phoneNumber": string;
/**
* Purpose of this test line, e.g. automated or manual testing
*/
@visibility("read", "create", "update")
"purpose": TestLinePurpose;
}

/**
* The type used for update operations of the TestLine.
*/
model TestLineUpdate {
/**
* Resource tags.
*/
"tags"?: Record<string>;
}