{
  "operationId": "StorageCollectionRules_CreateOrReplace",
  "title": "Create or update a StorageCollectionRule",
  "parameters": {
    "storageCollectionRuleName": "sample-storageCollectionRule",
    "resourceGroupName": "sample-rg",
    "api-version": "2023-08-01-preview",
    "subscriptionId": "sample-subscription-id",
    "resource": {
      "location": "westeurope",
      "properties": {
        "enabled": true,
        "filters": {
          "includeFilter": {
            "scopes": [
              "/subscriptions/sample-subscription-id/resourceGroups/sample-rg"
            ]
          }
        },
        "destinations": {
          "dataCollectionRuleResourceId": "/subscriptions/sample-subscription-id/resourceGroups/sample-rg/providers/Microsoft.Insights/dataCollectionRules/sample-data-collection-rule"
        },
        "configuration": {}
      }
    }
  },
  "responses": {
    "200": {
      "body": {
        "id": "/subscriptions/sample-subscription-id/resourceGroups/sample-rg/providers/Microsoft.StorageInsights/storageCollectionRules/sample-storageCollectionRule",
        "name": "sample-storageCollectionRule",
        "type": "Microsoft.StorageInsights/storageCollectionRules",
        "location": "westeurope",
        "properties": {
          "provisioningState": "Succeeded",
          "enabled": true,
          "filters": {
            "includeFilter": {
              "scopes": [
                "/subscriptions/sample-subscription-id/resourceGroups/sample-rg"
              ]
            }
          },
          "destinations": {
            "dataCollectionRuleResourceId": "/subscriptions/sample-subscription-id/resourceGroups/sample-rg/providers/Microsoft.Insights/dataCollectionRules/sample-data-collection-rule"
          },
          "configuration": {}
        }
      }
    },
    "201": {
      "body": {
        "id": "/subscriptions/sample-subscription-id/resourceGroups/sample-rg/providers/Microsoft.StorageInsights/storageCollectionRules/sample-storageCollectionRule",
        "name": "sample-storageCollectionRule",
        "type": "Microsoft.StorageInsights/storageCollectionRules",
        "location": "westeurope",
        "properties": {
          "provisioningState": "Succeeded",
          "enabled": true,
          "filters": {
            "includeFilter": {
              "scopes": [
                "/subscriptions/sample-subscription-id/resourceGroups/sample-rg"
              ]
            }
          },
          "destinations": {
            "dataCollectionRuleResourceId": "/subscriptions/sample-subscription-id/resourceGroups/sample-rg/providers/Microsoft.Insights/dataCollectionRules/sample-data-collection-rule"
          },
          "configuration": {}
        }
      }
    }
  }
}
