{
  "title": "Community_Update",
  "operationId": "Community_Update",
  "parameters": {
    "api-version": "2025-05-01-preview",
    "subscriptionId": "CA1CB369-DD26-4DB2-9D43-9AFEF0F22093",
    "resourceGroupName": "rgopenapi",
    "communityName": "TestMyCommunity",
    "identity": {
      "type": "SystemAssigned,UserAssigned",
      "principalId": "1a2e532b-9900-414c-8600-cfc6126628d7",
      "tenantId": "f686d426-8d16-42db-81b7-ab578e110ccd",
      "userAssignedIdentities": {
        "/subscriptions/subid/resourceGroups/default-azurebatch-japaneast/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id1": {}
      }
    },
    "location": "westcentralus",
    "properties": {
      "tags": {
        "sampletag": "samplevalue"
      },
      "properties": {
        "dnsServers": [
          "azure.net"
        ],
        "governedServiceList": [
          {
            "serviceId": "AKS",
            "option": "Allow",
            "enforcement": "Enabled",
            "policyAction": "None"
          },
          {
            "serviceId": "AppService",
            "option": "Allow",
            "enforcement": "Enabled",
            "policyAction": "None"
          },
          {
            "serviceId": "ContainerRegistry",
            "option": "Allow",
            "enforcement": "Enabled",
            "policyAction": "None"
          },
          {
            "serviceId": "CosmosDB",
            "option": "Allow",
            "enforcement": "Enabled",
            "policyAction": "None"
          },
          {
            "serviceId": "KeyVault",
            "option": "Allow",
            "enforcement": "Enabled",
            "policyAction": "None"
          },
          {
            "serviceId": "MicrosoftSQL",
            "option": "Allow",
            "enforcement": "Enabled",
            "policyAction": "None"
          },
          {
            "serviceId": "Monitoring",
            "option": "Not Applicable",
            "enforcement": "Enabled",
            "policyAction": "None"
          },
          {
            "serviceId": "PostgreSQL",
            "option": "Allow",
            "enforcement": "Enabled",
            "policyAction": "None"
          },
          {
            "serviceId": "ServiceBus",
            "option": "Allow",
            "enforcement": "Enabled",
            "policyAction": "None"
          },
          {
            "serviceId": "Storage",
            "option": "Allow",
            "enforcement": "Enabled",
            "policyAction": "None"
          },
          {
            "serviceId": "AzureFirewalls",
            "option": "Allow",
            "enforcement": "Enabled",
            "policyAction": "None"
          },
          {
            "serviceId": "Insights",
            "option": "Allow",
            "enforcement": "Enabled",
            "policyAction": "None"
          },
          {
            "serviceId": "Logic",
            "option": "Allow",
            "enforcement": "Enabled",
            "policyAction": "None"
          },
          {
            "serviceId": "PrivateDNSZones",
            "option": "Allow",
            "enforcement": "Enabled",
            "policyAction": "None"
          },
          {
            "serviceId": "DataConnectors",
            "option": "Allow",
            "enforcement": "Enabled",
            "policyAction": "None"
          }
        ],
        "communityRoleAssignments": [
          {
            "roleDefinitionId": "b24988ac-6180-42a0-ab88-20f7382dd24c",
            "principals": [
              {
                "id": "01234567-89ab-ef01-2345-0123456789ab",
                "type": "Group"
              },
              {
                "id": "355a6bb0-abc0-4cba-000d-12a345b678c0",
                "type": "User"
              }
            ]
          },
          {
            "roleDefinitionId": "18d7d88d-d35e-4fb5-a5c3-7773c20a72d9",
            "principals": [
              {
                "id": "355a6bb0-abc0-4cba-000d-12a345b678c9",
                "type": "User"
              }
            ]
          }
        ]
      }
    }
  },
  "responses": {
    "200": {
      "body": {
        "identity": {
          "type": "SystemAssigned,UserAssigned",
          "principalId": "1a2e532b-9900-414c-8600-cfc6126628d7",
          "tenantId": "f686d426-8d16-42db-81b7-ab578e110ccd",
          "userAssignedIdentities": {
            "/subscriptions/subid/resourceGroups/default-azurebatch-japaneast/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id1": {
              "principalId": "f4aa4954-a564-4933-a7e1-502019d807c2",
              "clientId": "b82bf757-ee7f-4632-9df1-5e52a720fdd2"
            }
          }
        },
        "properties": {
          "addressSpace": "10.0.0.0/24",
          "dnsServers": [
            "azure.net"
          ],
          "provisioningState": "Succeeded",
          "resourceCollection": [
            "/subscriptions/c64f6eca-bdc5-4bc2-88d6-f8f1dc23f86c/resourceGroups/TestMyRg"
          ],
          "governedServiceList": [
            {
              "serviceId": "AKS",
              "serviceName": "AKS",
              "option": "Allow",
              "enforcement": "Enabled",
              "policyAction": "None",
              "initiatives": [
                "d300338e-65d1-4be3-b18e-fb4ce5715a8f"
              ]
            },
            {
              "serviceId": "AppService",
              "serviceName": "App Service",
              "option": "Allow",
              "enforcement": "Enabled",
              "policyAction": "None",
              "initiatives": [
                "528d78c5-246c-4f26-ade6-d30798705411"
              ]
            },
            {
              "serviceId": "ContainerRegistry",
              "serviceName": "Container Registry",
              "option": "Allow",
              "enforcement": "Enabled",
              "policyAction": "None",
              "initiatives": [
                "b3fe25eb-cdc6-475f-96a5-04ac270f630d"
              ]
            },
            {
              "serviceId": "CosmosDB",
              "serviceName": "CosmosDB",
              "option": "Allow",
              "enforcement": "Enabled",
              "policyAction": "None",
              "initiatives": [
                "6bd484ca-ae8d-46cf-9b33-e1feef84bfba"
              ]
            },
            {
              "serviceId": "KeyVault",
              "serviceName": "Key Vault",
              "option": "Allow",
              "enforcement": "Enabled",
              "policyAction": "None",
              "initiatives": [
                "4f4dba0f-a5ee-494b-8df7-f9727dea6f37"
              ]
            },
            {
              "serviceId": "MicrosoftSQL",
              "serviceName": "Microsoft SQL",
              "option": "Allow",
              "enforcement": "Enabled",
              "policyAction": "None",
              "initiatives": [
                "0fbe78a5-1722-4f1b-83a5-89c14151fa60"
              ]
            },
            {
              "serviceId": "Monitoring",
              "serviceName": "Monitoring",
              "option": "Not Applicable",
              "enforcement": "Enabled",
              "policyAction": "None",
              "initiatives": [
                "0a9ea1cb-7925-47fc-b0fe-8bb0a8190423"
              ]
            },
            {
              "serviceId": "PostgreSQL",
              "serviceName": "PostgreSQL",
              "option": "Allow",
              "enforcement": "Enabled",
              "policyAction": "None",
              "initiatives": [
                "5eaa16b4-81f2-4354-aef3-2d77288e396e"
              ]
            },
            {
              "serviceId": "ServiceBus",
              "serviceName": "Service Bus",
              "option": "Allow",
              "enforcement": "Enabled",
              "policyAction": "None",
              "initiatives": [
                "8fcdb3f1-1369-426d-9917-81edfee903ab"
              ]
            },
            {
              "serviceId": "Storage",
              "serviceName": "Storage",
              "option": "Allow",
              "enforcement": "Enabled",
              "policyAction": "None",
              "initiatives": [
                "ca122c06-05f6-4423-9018-ccb523168eb2"
              ]
            },
            {
              "serviceId": "AzureFirewalls",
              "serviceName": "Azure Firewalls",
              "option": "Allow",
              "enforcement": "Enabled",
              "policyAction": "None",
              "initiatives": []
            },
            {
              "serviceId": "Insights",
              "serviceName": "Insights",
              "option": "Allow",
              "enforcement": "Enabled",
              "policyAction": "None",
              "initiatives": []
            },
            {
              "serviceId": "Logic",
              "serviceName": "Logic",
              "option": "Allow",
              "enforcement": "Enabled",
              "policyAction": "None",
              "initiatives": []
            },
            {
              "serviceId": "PrivateDNSZones",
              "serviceName": "Private DNS Zones",
              "option": "Allow",
              "enforcement": "Enabled",
              "policyAction": "None",
              "initiatives": []
            },
            {
              "serviceId": "DataConnectors",
              "serviceName": "Data Connectors",
              "option": "Allow",
              "enforcement": "Enabled",
              "policyAction": "None",
              "initiatives": []
            }
          ],
          "communityRoleAssignments": [
            {
              "roleDefinitionId": "b24988ac-6180-42a0-ab88-20f7382dd24c",
              "principals": [
                {
                  "id": "01234567-89ab-ef01-2345-0123456789ab",
                  "type": "Group"
                },
                {
                  "id": "355a6bb0-abc0-4cba-000d-12a345b678c0",
                  "type": "User"
                }
              ]
            },
            {
              "roleDefinitionId": "18d7d88d-d35e-4fb5-a5c3-7773c20a72d9",
              "principals": [
                {
                  "id": "355a6bb0-abc0-4cba-000d-12a345b678c9",
                  "type": "User"
                }
              ]
            }
          ]
        },
        "tags": {
          "sampletag": "samplevalue"
        },
        "location": "westcentralus",
        "id": "/subscriptions/c64f6eca-bdc5-4bc2-88d6-f8f1dc23f86c/resourceGroups/testrg/providers/Microsoft.Mission/communities/TestMyCommunity",
        "name": "TestMyCommunity",
        "type": "Microsoft.Mission/communities",
        "systemData": {
          "createdBy": "myAlias",
          "createdByType": "User",
          "createdAt": "2023-03-17T20:43:17.760Z",
          "lastModifiedBy": "myAlias",
          "lastModifiedByType": "User",
          "lastModifiedAt": "2023-03-17T20:43:17.760Z"
        }
      }
    },
    "202": {
      "headers": {
        "Azure-AsyncOperation": "https://contoso.com/operationstatus"
      }
    }
  }
}
