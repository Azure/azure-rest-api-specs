# Microsoft.Edge Resource Provider

> see https://aka.ms/autorest

This is the consolidated AutoRest configuration file for Microsoft.Edge Resource Provider, covering all resource types: edge operations, sites, configurations, and configuration manager.

## Getting Started

To build the SDKs for Microsoft.Edge API, simply install AutoRest via `npm` (`npm install -g autorest`) and then run:

> `autorest readme.md`

To see additional help and options, run:

> `autorest --help`

For other options on installation see [Installing AutoRest](https://aka.ms/autorest/install) on the AutoRest github page.

---

## Configuration

### Basic Information

These are the global settings for the Microsoft.Edge Resource Provider.

```yaml
openapi-type: arm
openapi-subtype: rpaas
tag: package-2025-06-01
```

### Tag: package-2025-06-01

These settings apply only when `--tag=package-2025-06-01` is specified on the command line.

```yaml $(tag) == 'package-2025-06-01'
input-file:
  - Microsoft.Edge/edge/stable/2025-06-01/operations.json
  - Microsoft.Edge/sites/stable/2025-06-01/sites.json
  - Microsoft.Edge/configurations/stable/2025-06-01/configurations.json
  - Microsoft.Edge/configurationmanager/stable/2025-06-01/configurationmanager.json
```

### Tag: package-2025-03-01-preview

These settings apply only when `--tag=package-2025-03-01-preview` is specified on the command line.

```yaml $(tag) == 'package-2025-03-01-preview'
input-file:
  - Microsoft.Edge/edge/preview/2025-03-01-preview/operations.json
  - Microsoft.Edge/sites/preview/2025-03-01-preview/sites.json
```

---

## Suppression

```yaml
directive:
  # Operations API Implementation suppression for service group architecture
  - suppress: OperationsAPIImplementation
    from: 
      - sites.json
      - configurations.json
      - configurationmanager.json
    reason: Microsoft.Edge RP consist of multiple resources which are owned/maintained by different teams, so we follow folder structure for Service Group (explained here https://github.com/Azure/azure-rest-api-specs-pr/tree/RPSaaSMaster?tab=readme-ov-file#folder-structure-for-service-group). We do have operations api exposed from common-location/folder (https://github.com/Azure/azure-rest-api-specs-pr/blob/RPSaaSMaster/specification/edge/resource-manager/Microsoft.Edge/edge/preview/2024-02-01-preview/operations.json#L46C5-L46C43) so every resource need not expose it separately. There has been open issue [Avocado] Support service group folder scenario azure-sdk-tools#6201 for the same.
  
  # Tenant level APIs for sites
  - suppress: TenantLevelAPIsNotAllowed
    where:
      - $.paths["/providers/Microsoft.Management/serviceGroups/{servicegroupName}/providers/Microsoft.Edge/sites/{siteName}"]
    from: sites.json
    reason: Adding tenant level API to enable site creation on service groups, have got the case reviewed from ARM and PAS team as per documentation
  
  # Additional properties for sites labels
  - suppress: AvoidAdditionalProperties
    where:
      - $.definitions.SiteProperties.properties.labels
      - $.definitions.SiteUpdateProperties.properties.labels
    from: sites.json
    reason: labels describe user defined tags to be used on Sites.
  
  # Extension resource path pattern for sites
  - suppress: ExtensionResourcePathPattern
    where:
      - $.paths["/providers/Microsoft.Management/serviceGroups/{servicegroupName}/providers/Microsoft.Edge/sites/{siteName}"]
      - $.paths["/providers/Microsoft.Management/serviceGroups/{servicegroupName}/providers/Microsoft.Edge/sites"]
    from: sites.json
    reason: This approach was necessitated by the current limitations in TypeSpec, which does not support defining parent resources at the tenant level for extension resource types.
  
  # Additional properties for configuration manager
  - suppress: AvoidAdditionalProperties
    from: configurationmanager.json
    reason: RP depends on another service called k8s bridge which is facing issues during serialization of data. The changes required in that service will not be implemented before our public preview, so we need to go ahead with using Record which adds this. Check https://msazure.visualstudio.com/One/_workitems/edit/31068512
```

---

# Code Generation

## Swagger to SDK

This section describes what SDK should be generated by the automatic system.
This is not used by Autorest itself.

```yaml $(swagger-to-sdk)
swagger-to-sdk:
  - repo: azure-sdk-for-python
  - repo: azure-sdk-for-java
  - repo: azure-sdk-for-go
  - repo: azure-sdk-for-js
  - repo: azure-resource-manager-schemas
  - repo: azure-cli-extensions
  - repo: azure-powershell
```

---

## Individual Resource Type Configurations

For individual resource type configurations, refer to:

- [Edge Operations](./Microsoft.Edge/edge/readme.md) - Core edge operations and resource provider operations
- [Sites](./Microsoft.Edge/sites/readme.md) - Edge site management resources
- [Configurations](./Microsoft.Edge/configurations/readme.md) - Configuration management resources
- [Configuration Manager](./Microsoft.Edge/configurationmanager/readme.md) - Configuration template and workflow management