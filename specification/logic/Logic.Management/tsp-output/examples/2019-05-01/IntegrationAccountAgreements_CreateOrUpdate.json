{
  "parameters": {
    "agreement": {
      "location": "westus",
      "properties": {
        "agreementType": "AS2",
        "content": {
          "aS2": {
            "receiveAgreement": {
              "protocolSettings": {
                "acknowledgementConnectionSettings": {
                  "ignoreCertificateNameMismatch": true,
                  "keepHttpConnectionAlive": true,
                  "supportHttpStatusCodeContinue": true,
                  "unfoldHttpHeaders": true
                },
                "envelopeSettings": {
                  "autogenerateFileName": true,
                  "fileNameTemplate": "Test",
                  "messageContentType": "text/plain",
                  "suspendMessageOnFileNameGenerationError": true,
                  "transmitFileNameInMimeHeader": true
                },
                "errorSettings": {
                  "resendIfMDNNotReceived": true,
                  "suspendDuplicateMessage": true
                },
                "mdnSettings": {
                  "dispositionNotificationTo": "http://tempuri.org",
                  "mdnText": "Sample",
                  "micHashingAlgorithm": "SHA1",
                  "needMDN": true,
                  "receiptDeliveryUrl": "http://tempuri.org",
                  "sendInboundMDNToMessageBox": true,
                  "sendMDNAsynchronously": true,
                  "signMDN": true,
                  "signOutboundMDNIfOptional": true
                },
                "messageConnectionSettings": {
                  "ignoreCertificateNameMismatch": true,
                  "keepHttpConnectionAlive": true,
                  "supportHttpStatusCodeContinue": true,
                  "unfoldHttpHeaders": true
                },
                "securitySettings": {
                  "enableNRRForInboundDecodedMessages": true,
                  "enableNRRForInboundEncodedMessages": true,
                  "enableNRRForInboundMDN": true,
                  "enableNRRForOutboundDecodedMessages": true,
                  "enableNRRForOutboundEncodedMessages": true,
                  "enableNRRForOutboundMDN": true,
                  "overrideGroupSigningCertificate": false
                },
                "validationSettings": {
                  "checkCertificateRevocationListOnReceive": true,
                  "checkCertificateRevocationListOnSend": true,
                  "checkDuplicateMessage": true,
                  "compressMessage": true,
                  "encryptMessage": false,
                  "encryptionAlgorithm": "AES128",
                  "interchangeDuplicatesValidityDays": 100,
                  "overrideMessageProperties": true,
                  "signMessage": false
                }
              },
              "receiverBusinessIdentity": {
                "qualifier": "ZZ",
                "value": "ZZ"
              },
              "senderBusinessIdentity": {
                "qualifier": "AA",
                "value": "AA"
              }
            },
            "sendAgreement": {
              "protocolSettings": {
                "acknowledgementConnectionSettings": {
                  "ignoreCertificateNameMismatch": true,
                  "keepHttpConnectionAlive": true,
                  "supportHttpStatusCodeContinue": true,
                  "unfoldHttpHeaders": true
                },
                "envelopeSettings": {
                  "autogenerateFileName": true,
                  "fileNameTemplate": "Test",
                  "messageContentType": "text/plain",
                  "suspendMessageOnFileNameGenerationError": true,
                  "transmitFileNameInMimeHeader": true
                },
                "errorSettings": {
                  "resendIfMDNNotReceived": true,
                  "suspendDuplicateMessage": true
                },
                "mdnSettings": {
                  "dispositionNotificationTo": "http://tempuri.org",
                  "mdnText": "Sample",
                  "micHashingAlgorithm": "SHA1",
                  "needMDN": true,
                  "receiptDeliveryUrl": "http://tempuri.org",
                  "sendInboundMDNToMessageBox": true,
                  "sendMDNAsynchronously": true,
                  "signMDN": true,
                  "signOutboundMDNIfOptional": true
                },
                "messageConnectionSettings": {
                  "ignoreCertificateNameMismatch": true,
                  "keepHttpConnectionAlive": true,
                  "supportHttpStatusCodeContinue": true,
                  "unfoldHttpHeaders": true
                },
                "securitySettings": {
                  "enableNRRForInboundDecodedMessages": true,
                  "enableNRRForInboundEncodedMessages": true,
                  "enableNRRForInboundMDN": true,
                  "enableNRRForOutboundDecodedMessages": true,
                  "enableNRRForOutboundEncodedMessages": true,
                  "enableNRRForOutboundMDN": true,
                  "overrideGroupSigningCertificate": false
                },
                "validationSettings": {
                  "checkCertificateRevocationListOnReceive": true,
                  "checkCertificateRevocationListOnSend": true,
                  "checkDuplicateMessage": true,
                  "compressMessage": true,
                  "encryptMessage": false,
                  "encryptionAlgorithm": "AES128",
                  "interchangeDuplicatesValidityDays": 100,
                  "overrideMessageProperties": true,
                  "signMessage": false
                }
              },
              "receiverBusinessIdentity": {
                "qualifier": "AA",
                "value": "AA"
              },
              "senderBusinessIdentity": {
                "qualifier": "ZZ",
                "value": "ZZ"
              }
            }
          }
        },
        "guestIdentity": {
          "qualifier": "AA",
          "value": "AA"
        },
        "guestPartner": "GuestPartner",
        "hostIdentity": {
          "qualifier": "ZZ",
          "value": "ZZ"
        },
        "hostPartner": "HostPartner",
        "metadata": {}
      },
      "tags": {
        "IntegrationAccountAgreement": "<IntegrationAccountAgreementName>"
      }
    },
    "agreementName": "testAgreement",
    "api-version": "2019-05-01",
    "integrationAccountName": "testIntegrationAccount",
    "resourceGroupName": "testResourceGroup",
    "subscriptionId": "34adfa4f-cedf-4dc0-ba29-b6d1a69ab345"
  },
  "responses": {
    "200": {
      "body": {
        "name": "<IntegrationAccountAgreementName>",
        "type": "Microsoft.Logic/integrationAccounts/agreements",
        "id": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testResourceGroup/providers/Microsoft.Logic/integrationAccounts/IntegrationAccount4533/agreements/<IntegrationAccountAgreementName>",
        "properties": {
          "agreementType": "AS2",
          "changedTime": "2017-03-06T22:32:54.2945291Z",
          "content": {
            "aS2": {
              "receiveAgreement": {
                "protocolSettings": {
                  "acknowledgementConnectionSettings": {
                    "ignoreCertificateNameMismatch": true,
                    "keepHttpConnectionAlive": true,
                    "supportHttpStatusCodeContinue": true,
                    "unfoldHttpHeaders": true
                  },
                  "envelopeSettings": {
                    "autogenerateFileName": true,
                    "fileNameTemplate": "Test",
                    "messageContentType": "text/plain",
                    "suspendMessageOnFileNameGenerationError": true,
                    "transmitFileNameInMimeHeader": true
                  },
                  "errorSettings": {
                    "resendIfMDNNotReceived": true,
                    "suspendDuplicateMessage": true
                  },
                  "mdnSettings": {
                    "dispositionNotificationTo": "http://tempuri.org",
                    "mdnText": "Sample",
                    "micHashingAlgorithm": "SHA1",
                    "needMDN": true,
                    "receiptDeliveryUrl": "http://tempuri.org",
                    "sendInboundMDNToMessageBox": true,
                    "sendMDNAsynchronously": true,
                    "signMDN": true,
                    "signOutboundMDNIfOptional": true
                  },
                  "messageConnectionSettings": {
                    "ignoreCertificateNameMismatch": true,
                    "keepHttpConnectionAlive": true,
                    "supportHttpStatusCodeContinue": true,
                    "unfoldHttpHeaders": true
                  },
                  "securitySettings": {
                    "enableNRRForInboundDecodedMessages": true,
                    "enableNRRForInboundEncodedMessages": true,
                    "enableNRRForInboundMDN": true,
                    "enableNRRForOutboundDecodedMessages": true,
                    "enableNRRForOutboundEncodedMessages": true,
                    "enableNRRForOutboundMDN": true,
                    "overrideGroupSigningCertificate": false
                  },
                  "validationSettings": {
                    "checkCertificateRevocationListOnReceive": true,
                    "checkCertificateRevocationListOnSend": true,
                    "checkDuplicateMessage": true,
                    "compressMessage": true,
                    "encryptMessage": false,
                    "encryptionAlgorithm": "AES128",
                    "interchangeDuplicatesValidityDays": 100,
                    "overrideMessageProperties": true,
                    "signMessage": false
                  }
                },
                "receiverBusinessIdentity": {
                  "qualifier": "ZZ",
                  "value": "ZZ"
                },
                "senderBusinessIdentity": {
                  "qualifier": "AA",
                  "value": "AA"
                }
              },
              "sendAgreement": {
                "protocolSettings": {
                  "acknowledgementConnectionSettings": {
                    "ignoreCertificateNameMismatch": true,
                    "keepHttpConnectionAlive": true,
                    "supportHttpStatusCodeContinue": true,
                    "unfoldHttpHeaders": true
                  },
                  "envelopeSettings": {
                    "autogenerateFileName": true,
                    "fileNameTemplate": "Test",
                    "messageContentType": "text/plain",
                    "suspendMessageOnFileNameGenerationError": true,
                    "transmitFileNameInMimeHeader": true
                  },
                  "errorSettings": {
                    "resendIfMDNNotReceived": true,
                    "suspendDuplicateMessage": true
                  },
                  "mdnSettings": {
                    "dispositionNotificationTo": "http://tempuri.org",
                    "mdnText": "Sample",
                    "micHashingAlgorithm": "SHA1",
                    "needMDN": true,
                    "receiptDeliveryUrl": "http://tempuri.org",
                    "sendInboundMDNToMessageBox": true,
                    "sendMDNAsynchronously": true,
                    "signMDN": true,
                    "signOutboundMDNIfOptional": true
                  },
                  "messageConnectionSettings": {
                    "ignoreCertificateNameMismatch": true,
                    "keepHttpConnectionAlive": true,
                    "supportHttpStatusCodeContinue": true,
                    "unfoldHttpHeaders": true
                  },
                  "securitySettings": {
                    "enableNRRForInboundDecodedMessages": true,
                    "enableNRRForInboundEncodedMessages": true,
                    "enableNRRForInboundMDN": true,
                    "enableNRRForOutboundDecodedMessages": true,
                    "enableNRRForOutboundEncodedMessages": true,
                    "enableNRRForOutboundMDN": true,
                    "overrideGroupSigningCertificate": false
                  },
                  "validationSettings": {
                    "checkCertificateRevocationListOnReceive": true,
                    "checkCertificateRevocationListOnSend": true,
                    "checkDuplicateMessage": true,
                    "compressMessage": true,
                    "encryptMessage": false,
                    "encryptionAlgorithm": "AES128",
                    "interchangeDuplicatesValidityDays": 100,
                    "overrideMessageProperties": true,
                    "signMessage": false
                  }
                },
                "receiverBusinessIdentity": {
                  "qualifier": "AA",
                  "value": "AA"
                },
                "senderBusinessIdentity": {
                  "qualifier": "ZZ",
                  "value": "ZZ"
                }
              }
            }
          },
          "createdTime": "2017-03-06T22:32:54.2938748Z",
          "guestIdentity": {
            "qualifier": "AA",
            "value": "AA"
          },
          "guestPartner": "GuestPartner",
          "hostIdentity": {
            "qualifier": "ZZ",
            "value": "ZZ"
          },
          "hostPartner": "HostPartner",
          "metadata": {}
        }
      }
    },
    "201": {
      "body": {
        "name": "<IntegrationAccountAgreementName>",
        "type": "Microsoft.Logic/integrationAccounts/agreements",
        "id": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testResourceGroup/providers/Microsoft.Logic/integrationAccounts/IntegrationAccount4533/agreements/<IntegrationAccountAgreementName>",
        "properties": {
          "agreementType": "AS2",
          "changedTime": "2017-03-06T22:32:54.2945291Z",
          "content": {
            "aS2": {
              "receiveAgreement": {
                "protocolSettings": {
                  "acknowledgementConnectionSettings": {
                    "ignoreCertificateNameMismatch": true,
                    "keepHttpConnectionAlive": true,
                    "supportHttpStatusCodeContinue": true,
                    "unfoldHttpHeaders": true
                  },
                  "envelopeSettings": {
                    "autogenerateFileName": true,
                    "fileNameTemplate": "Test",
                    "messageContentType": "text/plain",
                    "suspendMessageOnFileNameGenerationError": true,
                    "transmitFileNameInMimeHeader": true
                  },
                  "errorSettings": {
                    "resendIfMDNNotReceived": true,
                    "suspendDuplicateMessage": true
                  },
                  "mdnSettings": {
                    "dispositionNotificationTo": "http://tempuri.org",
                    "mdnText": "Sample",
                    "micHashingAlgorithm": "SHA1",
                    "needMDN": true,
                    "receiptDeliveryUrl": "http://tempuri.org",
                    "sendInboundMDNToMessageBox": true,
                    "sendMDNAsynchronously": true,
                    "signMDN": true,
                    "signOutboundMDNIfOptional": true
                  },
                  "messageConnectionSettings": {
                    "ignoreCertificateNameMismatch": true,
                    "keepHttpConnectionAlive": true,
                    "supportHttpStatusCodeContinue": true,
                    "unfoldHttpHeaders": true
                  },
                  "securitySettings": {
                    "enableNRRForInboundDecodedMessages": true,
                    "enableNRRForInboundEncodedMessages": true,
                    "enableNRRForInboundMDN": true,
                    "enableNRRForOutboundDecodedMessages": true,
                    "enableNRRForOutboundEncodedMessages": true,
                    "enableNRRForOutboundMDN": true,
                    "overrideGroupSigningCertificate": false
                  },
                  "validationSettings": {
                    "checkCertificateRevocationListOnReceive": true,
                    "checkCertificateRevocationListOnSend": true,
                    "checkDuplicateMessage": true,
                    "compressMessage": true,
                    "encryptMessage": false,
                    "encryptionAlgorithm": "AES128",
                    "interchangeDuplicatesValidityDays": 100,
                    "overrideMessageProperties": true,
                    "signMessage": false
                  }
                },
                "receiverBusinessIdentity": {
                  "qualifier": "ZZ",
                  "value": "ZZ"
                },
                "senderBusinessIdentity": {
                  "qualifier": "AA",
                  "value": "AA"
                }
              },
              "sendAgreement": {
                "protocolSettings": {
                  "acknowledgementConnectionSettings": {
                    "ignoreCertificateNameMismatch": true,
                    "keepHttpConnectionAlive": true,
                    "supportHttpStatusCodeContinue": true,
                    "unfoldHttpHeaders": true
                  },
                  "envelopeSettings": {
                    "autogenerateFileName": true,
                    "fileNameTemplate": "Test",
                    "messageContentType": "text/plain",
                    "suspendMessageOnFileNameGenerationError": true,
                    "transmitFileNameInMimeHeader": true
                  },
                  "errorSettings": {
                    "resendIfMDNNotReceived": true,
                    "suspendDuplicateMessage": true
                  },
                  "mdnSettings": {
                    "dispositionNotificationTo": "http://tempuri.org",
                    "mdnText": "Sample",
                    "micHashingAlgorithm": "SHA1",
                    "needMDN": true,
                    "receiptDeliveryUrl": "http://tempuri.org",
                    "sendInboundMDNToMessageBox": true,
                    "sendMDNAsynchronously": true,
                    "signMDN": true,
                    "signOutboundMDNIfOptional": true
                  },
                  "messageConnectionSettings": {
                    "ignoreCertificateNameMismatch": true,
                    "keepHttpConnectionAlive": true,
                    "supportHttpStatusCodeContinue": true,
                    "unfoldHttpHeaders": true
                  },
                  "securitySettings": {
                    "enableNRRForInboundDecodedMessages": true,
                    "enableNRRForInboundEncodedMessages": true,
                    "enableNRRForInboundMDN": true,
                    "enableNRRForOutboundDecodedMessages": true,
                    "enableNRRForOutboundEncodedMessages": true,
                    "enableNRRForOutboundMDN": true,
                    "overrideGroupSigningCertificate": false
                  },
                  "validationSettings": {
                    "checkCertificateRevocationListOnReceive": true,
                    "checkCertificateRevocationListOnSend": true,
                    "checkDuplicateMessage": true,
                    "compressMessage": true,
                    "encryptMessage": false,
                    "encryptionAlgorithm": "AES128",
                    "interchangeDuplicatesValidityDays": 100,
                    "overrideMessageProperties": true,
                    "signMessage": false
                  }
                },
                "receiverBusinessIdentity": {
                  "qualifier": "AA",
                  "value": "AA"
                },
                "senderBusinessIdentity": {
                  "qualifier": "ZZ",
                  "value": "ZZ"
                }
              }
            }
          },
          "createdTime": "2017-03-06T22:32:54.2938748Z",
          "guestIdentity": {
            "qualifier": "AA",
            "value": "AA"
          },
          "guestPartner": "GuestPartner",
          "hostIdentity": {
            "qualifier": "ZZ",
            "value": "ZZ"
          },
          "hostPartner": "HostPartner",
          "metadata": {}
        }
      }
    }
  },
  "operationId": "IntegrationAccountAgreements_CreateOrUpdate",
  "title": "Create or update an agreement"
}