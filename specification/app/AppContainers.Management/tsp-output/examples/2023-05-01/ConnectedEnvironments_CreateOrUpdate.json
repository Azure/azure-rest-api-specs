{
  "parameters": {
    "api-version": "2023-05-01",
    "connectedEnvironmentName": "testenv",
    "environmentEnvelope": {
      "location": "East US",
      "properties": {
        "customDomainConfiguration": {
          "certificatePassword": "private key password",
          "certificateValue": "Y2VydA==",
          "dnsSuffix": "www.my-name.com"
        },
        "daprAIConnectionString": "InstrumentationKey=00000000-0000-0000-0000-000000000000;IngestionEndpoint=https://northcentralus-0.in.applicationinsights.azure.com/",
        "staticIp": "1.2.3.4"
      }
    },
    "extendedLocation": {
      "name": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/examplerg/providers/Microsoft.ExtendedLocation/customLocations/testcustomlocation",
      "type": "CustomLocation"
    },
    "kind": "kubernetes",
    "location": "East US",
    "resourceGroupName": "examplerg",
    "subscriptionId": "34adfa4f-cedf-4dc0-ba29-b6d1a69ab345"
  },
  "responses": {
    "200": {
      "body": {
        "name": "testenv",
        "type": "Microsoft.App/connectedEnvironments",
        "extendedLocation": {
          "name": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/examplerg/providers/Microsoft.ExtendedLocation/customLocations/testcustomlocation",
          "type": "CustomLocation"
        },
        "id": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/examplerg/providers/Microsoft.App/connectedEnvironments/testenv",
        "location": "East US",
        "properties": {
          "customDomainConfiguration": {
            "customDomainVerificationId": "custom domain verification id",
            "dnsSuffix": "www.my-name.com",
            "expirationDate": "2022-11-06T04:00:00Z",
            "subjectName": "CN=www.my-name.com",
            "thumbprint": "CERTIFICATE_THUMBPRINT"
          },
          "defaultDomain": "testenv.k4apps.io",
          "deploymentErrors": null,
          "provisioningState": "Succeeded",
          "staticIp": "1.2.3.4"
        },
        "tags": {}
      }
    },
    "201": {
      "body": {
        "name": "testenv",
        "type": "Microsoft.App/connectedEnvironments",
        "extendedLocation": {
          "name": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/examplerg/providers/Microsoft.ExtendedLocation/customLocations/testcustomlocation",
          "type": "CustomLocation"
        },
        "id": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/examplerg/providers/Microsoft.App/connectedEnvironments/testenv",
        "location": "East US",
        "properties": {
          "defaultDomain": "testenv.k4apps.io",
          "deploymentErrors": null,
          "provisioningState": "Waiting",
          "staticIp": "1.2.3.4"
        },
        "tags": {}
      }
    }
  },
  "operationId": "ConnectedEnvironments_CreateOrUpdate",
  "title": "Create kube environments"
}