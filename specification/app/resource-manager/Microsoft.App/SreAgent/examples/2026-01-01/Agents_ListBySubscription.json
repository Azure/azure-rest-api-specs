{
  "title": "Agents_ListBySubscription",
  "operationId": "Agents_ListBySubscription",
  "parameters": {
    "subscriptionId": "8efdecc5-919e-44eb-b179-915dca89ebf9",
    "api-version": "2026-01-01"
  },
  "responses": {
    "200": {
      "body": {
        "value": [
          {
            "id": "/subscriptions/8efdecc5-919e-44eb-b179-915dca89ebf9/resourceGroups/examplerg/providers/Microsoft.App/agents/testAgent1",
            "name": "testAgent1",
            "type": "Microsoft.App/agents",
            "location": "East US",
            "tags": {
              "environment": "development"
            },
            "identity": {
              "type": "SystemAssigned",
              "principalId": "11111111-2222-3333-4444-555555555555",
              "tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47"
            },
            "properties": {
              "provisioningState": "Succeeded",
              "agentEndpoint": "https://testAgent1.eastus.agents.azurecontainerapps.io",
              "runningState": "Running",
              "powerState": "Running",
              "agentSpaceId": "/subscriptions/8efdecc5-919e-44eb-b179-915dca89ebf9/resourceGroups/examplerg/providers/Microsoft.App/agentSpaces/testAgentSpace",
              "upgradeChannel": "Stable"
            }
          },
          {
            "id": "/subscriptions/8efdecc5-919e-44eb-b179-915dca89ebf9/resourceGroups/examplerg2/providers/Microsoft.App/agents/testAgent2",
            "name": "testAgent2",
            "type": "Microsoft.App/agents",
            "location": "West US 2",
            "tags": {
              "environment": "production"
            },
            "identity": {
              "type": "UserAssigned",
              "userAssignedIdentities": {
                "/subscriptions/8efdecc5-919e-44eb-b179-915dca89ebf9/resourceGroups/examplerg2/providers/Microsoft.ManagedIdentity/userAssignedIdentities/testIdentity": {
                  "principalId": "22222222-3333-4444-5555-666666666666",
                  "clientId": "33333333-4444-5555-6666-777777777777"
                }
              }
            },
            "properties": {
              "provisioningState": "Succeeded",
              "agentEndpoint": "https://testAgent2.westus2.agents.azurecontainerapps.io",
              "runningState": "Running",
              "powerState": "Running",
              "agentSpaceId": "/subscriptions/8efdecc5-919e-44eb-b179-915dca89ebf9/resourceGroups/examplerg2/providers/Microsoft.App/agentSpaces/testAgentSpace2",
              "upgradeChannel": "Preview"
            }
          }
        ],
        "nextLink": null
      }
    }
  }
}
