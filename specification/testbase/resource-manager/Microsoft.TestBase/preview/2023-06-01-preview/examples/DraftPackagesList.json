{
  "parameters": {
    "subscriptionId": "subscription-id",
    "resourceGroupName": "contoso-rg",
    "testBaseAccountName": "contoso-testBaseAccount",
    "api-version": "2023-06-01-preview"
  },
  "responses": {
    "200": {
      "body": {
        "value": [
          {
            "name": "61d99543-14ff-47ae-bf03-8a8b8445502e",
            "id": "/subscriptions/subscription-id/resourceGroups/contoso-rg/providers/Microsoft.TestBase/testBaseAccounts/contoso-testBaseAccount/draftPackages/61d99543-14ff-47ae-bf03-8a8b8445502e",
            "type": "Microsoft.TestBase/testBaseAccounts/draftpackages",
            "properties": {
              "applicationName": "contoso-package",
              "version": "1.0",
              "draftPackagePath": "de0418a4-90a2-448f-b009-237803458cca/0c3e17c3-f6ce-4b22-b1be-6363e23a1857/draftPackagePath",
              "workingPath": "de0418a4-90a2-448f-b009-237803458cca/0c3e17c3-f6ce-4b22-b1be-6363e23a1857/workingPath",
              "appFileName": "TestBaseM365DigitalClock.msi",
              "useSample": false,
              "sourceType": "Native",
              "testTypes": [
                "OutOfBoxTest",
                "FunctionalTest"
              ],
              "tests": [
                {
                  "testType": "OutOfBoxTest",
                  "validationRunStatus": "Unknown",
                  "validationResultId": null,
                  "isActive": true,
                  "commands": [
                    {
                      "name": "install",
                      "action": "Install",
                      "contentType": "Path",
                      "content": "TestBaseM365DigitalClockApp/scripts/install/job.ps1",
                      "runElevated": false,
                      "restartAfter": false,
                      "maxRunTime": 0,
                      "runAsInteractive": false,
                      "alwaysRun": false,
                      "applyUpdateBefore": false
                    },
                    {
                      "name": "launch",
                      "action": "Launch",
                      "contentType": "Path",
                      "content": "TestBaseM365DigitalClockApp/scripts/launch/job.ps1",
                      "runElevated": false,
                      "restartAfter": false,
                      "maxRunTime": 0,
                      "runAsInteractive": false,
                      "alwaysRun": false,
                      "applyUpdateBefore": false
                    },
                    {
                      "name": "close",
                      "action": "Close",
                      "contentType": "Path",
                      "content": "TestBaseM365DigitalClockApp/scripts/close/job.ps1",
                      "runElevated": false,
                      "restartAfter": false,
                      "maxRunTime": 0,
                      "runAsInteractive": false,
                      "alwaysRun": false,
                      "applyUpdateBefore": false
                    },
                    {
                      "name": "uninstall",
                      "action": "Uninstall",
                      "contentType": "Path",
                      "content": "TestBaseM365DigitalClockApp/scripts/uninstall/job.ps1",
                      "runElevated": false,
                      "restartAfter": false,
                      "maxRunTime": 0,
                      "runAsInteractive": false,
                      "alwaysRun": false,
                      "applyUpdateBefore": false
                    }
                  ]
                },
                {
                  "testType": "FunctionalTest",
                  "validationRunStatus": "Unknown",
                  "validationResultId": null,
                  "isActive": true,
                  "commands": [
                    {
                      "name": "script1",
                      "action": "Custom",
                      "contentType": "Path",
                      "content": "TestBaseM365DigitalClockApp/scripts/script1/job.ps1",
                      "runElevated": false,
                      "restartAfter": false,
                      "maxRunTime": 0,
                      "runAsInteractive": false,
                      "alwaysRun": false,
                      "applyUpdateBefore": true
                    }
                  ]
                }
              ],
              "targetOSList": [
                {
                  "osUpdateType": "Security updates",
                  "targetOSs": [
                    "Windows 11 21H2",
                    "Windows 10 21H2",
                    "Windows 10 21H1"
                  ],
                  "baselineOSs": null
                },
                {
                  "osUpdateType": "Feature updates",
                  "targetOSs": [
                    "Windows 10 21H2"
                  ],
                  "baselineOSs": null
                }
              ],
              "flightingRing": "Insider Beta Channel",
              "packageTags": {},
              "lastModifiedTime": "2022-05-25T10:37:21.9576117Z"
            }
          },
          {
            "name": "34070901-fc0b-4459-b6de-4295b7c7bf19",
            "id": "/subscriptions/subscription-id/resourceGroups/contoso-rg/providers/Microsoft.TestBase/testBaseAccounts/contoso-testBaseAccount/draftPackages/34070901-fc0b-4459-b6de-4295b7c7bf19",
            "type": "Microsoft.TestBase/testBaseAccounts/draftpackages",
            "properties": {
              "applicationName": "contoso-package2",
              "version": "1.0",
              "draftPackagePath": "de0418a4-90a2-448f-b009-237803458cca/0671155c-45fc-4758-916e-bd13337ffb68/draftPackagePath",
              "workingPath": "de0418a4-90a2-448f-b009-237803458cca/0671155c-45fc-4758-916e-bd13337ffb68/workingPath",
              "appFileName": "contoso.intunewin",
              "useSample": true,
              "sourceType": "IntuneWin",
              "testTypes": [
                "OutOfBoxTest",
                "FunctionalTest"
              ],
              "intuneMetadata": {
                "intuneApp": {
                  "appName": "contoso",
                  "version": "1.0",
                  "appId": "4ae9a0c0-a7f5-4bd4-bf32-b61566eea954",
                  "createDate": "2022-03-16T07:12:19.8466431Z",
                  "dependentAppCount": 0,
                  "installCommand": "-exec install",
                  "uninstallCommand": "-exec uninstall",
                  "lastProcessed": 637890688335749600,
                  "dependencyIds": [],
                  "setupFile": "consoto.exe",
                  "status": "Ready"
                },
                "intuneAppDependencies": []
              },
              "tests": [
                {
                  "testType": "FunctionalTest",
                  "validationRunStatus": "Unknown",
                  "validationResultId": null,
                  "isActive": true,
                  "commands": [
                    {
                      "name": "script1",
                      "action": "Custom",
                      "contentType": "Path",
                      "content": "scripts/functional/script1.ps1",
                      "runElevated": false,
                      "restartAfter": true,
                      "maxRunTime": 0,
                      "runAsInteractive": false,
                      "alwaysRun": false,
                      "applyUpdateBefore": true
                    },
                    {
                      "name": "script2",
                      "action": "Custom",
                      "contentType": "Path",
                      "content": "scripts/functional/script2.ps1",
                      "runElevated": false,
                      "restartAfter": true,
                      "maxRunTime": 0,
                      "runAsInteractive": false,
                      "alwaysRun": false,
                      "applyUpdateBefore": false
                    }
                  ]
                },
                {
                  "testType": "OutOfBoxTest",
                  "validationRunStatus": "Unknown",
                  "validationResultId": null,
                  "isActive": true,
                  "commands": [
                    {
                      "name": "install",
                      "action": "Install",
                      "contentType": "Path",
                      "content": "scripts/outofbox/install.ps1",
                      "runElevated": false,
                      "restartAfter": true,
                      "maxRunTime": 0,
                      "runAsInteractive": false,
                      "alwaysRun": false,
                      "applyUpdateBefore": false
                    },
                    {
                      "name": "launch",
                      "action": "Launch",
                      "contentType": "Path",
                      "content": "scripts/outofbox/launch.ps1",
                      "runElevated": false,
                      "restartAfter": false,
                      "maxRunTime": 0,
                      "runAsInteractive": false,
                      "alwaysRun": false,
                      "applyUpdateBefore": false
                    },
                    {
                      "name": "close",
                      "action": "Close",
                      "contentType": "Path",
                      "content": "scripts/outofbox/close.ps1",
                      "runElevated": false,
                      "restartAfter": false,
                      "maxRunTime": 0,
                      "runAsInteractive": false,
                      "alwaysRun": false,
                      "applyUpdateBefore": false
                    },
                    {
                      "name": "uninstall",
                      "action": "Uninstall",
                      "contentType": "Path",
                      "content": "scripts/outofbox/uninstall.ps1",
                      "runElevated": false,
                      "restartAfter": false,
                      "maxRunTime": 0,
                      "runAsInteractive": false,
                      "alwaysRun": false,
                      "applyUpdateBefore": false
                    }
                  ]
                }
              ],
              "targetOSList": [
                {
                  "osUpdateType": "Security updates",
                  "targetOSs": [
                    "Windows 10 21H1",
                    "Windows Server 2022"
                  ],
                  "baselineOSs": null
                }
              ],
              "flightingRing": "",
              "packageTags": {},
              "lastModifiedTime": "2022-05-27T10:11:55.4300989Z"
            }
          }
        ]
      }
    }
  }
}
