{
  "parameters": {
    "subscriptionId": "10000000-0000-0000-0000-000000000000",
    "resourceGroupName": "resource_group_name_01",
    "conditionalCreditName": "conditionalCredit_multiple_milestones_20251027",
    "api-version": "2025-12-01-preview",
    "body": {
      "location": "global",
      "properties": {
        "entityType": "Primary",
        "displayName": "Conditional Credit Multiple Milestones Example",
        "productCode": "000187f7-0000-0260-ab43-b8473ce57f1d",
        "startAt": "2025-11-01T00:00:00Z",
        "allowContributors": "Enabled",
        "milestones": [
          {
            "name": "Milestone 1",
            "spendTarget": {
              "amount": 1000,
              "currencyCode": "USD"
            },
            "award": {
              "duration": "P1M",
              "credit": {
                "amount": 100,
                "currencyCode": "USD"
              }
            },
            "endAt": "2025-11-30T23:59:59Z"
          },
          {
            "name": "Milestone 2",
            "spendTarget": {
              "amount": 3000,
              "currencyCode": "USD"
            },
            "award": {
              "duration": "P2M",
              "credit": {
                "amount": 300,
                "currencyCode": "USD"
              }
            },
            "endAt": "2025-12-31T23:59:59Z"
          },
          {
            "name": "Milestone 3",
            "spendTarget": {
              "amount": 5000,
              "currencyCode": "USD"
            },
            "award": {
              "duration": "P3M",
              "credit": {
                "amount": 500,
                "currencyCode": "USD"
              }
            },
            "endAt": "2026-02-28T23:59:59Z"
          }
        ]
      }
    }
  },
  "responses": {
    "201": {
      "body": {
        "id": "/subscriptions/10000000-0000-0000-0000-000000000000/resourceGroups/resource_group_name_01/providers/Microsoft.BillingBenefits/conditionalCredits/conditionalCredit_multiple_milestones_20251027",
        "name": "conditionalCredit_multiple_milestones_20251027",
        "type": "Microsoft.BillingBenefits/conditionalCredits",
        "properties": {
          "entityType": "Primary",
          "displayName": "Conditional Credit Multiple Milestones Example",
          "systemId": "CACO-SYSTEM-MULTI-001",
          "productCode": "000187f7-0000-0260-ab43-b8473ce57f1d",
          "startAt": "2025-11-01T00:00:00Z",
          "endAt": "2026-02-28T23:59:59Z",
          "allowContributors": "Enabled",
          "billingAccountResourceId": "/providers/Microsoft.Billing/billingAccounts/00000000-0000-0000-0000-000000000000:11111111-1111-1111-1111-111111111111_2025-10-28",
          "provisioningState": "Succeeded",
          "status": "Scheduled",
          "milestones": [
            {
              "milestoneId": "550e8400-e29b-41d4-a716-446655440021",
              "name": "Milestone 1",
              "status": "Scheduled",
              "endAt": "2025-11-30T23:59:59Z",
              "spendTarget": {
                "amount": 1000,
                "currencyCode": "USD"
              },
              "award": {
                "duration": "P1M",
                "credit": {
                  "grain": "FullTerm",
                  "amount": 100,
                  "currencyCode": "USD"
                },
                "startAt": "2025-12-01T00:00:00Z",
                "endAt": "2025-12-31T23:59:59Z",
                "balanceVersion": 13,
                "systemId": "credit98765432"
              }
            },
            {
              "milestoneId": "550e8400-e29b-41d4-a716-446655440022",
              "name": "Milestone 2",
              "status": "Scheduled",
              "endAt": "2025-12-31T23:59:59Z",
              "spendTarget": {
                "amount": 3000,
                "currencyCode": "USD"
              },
              "award": {
                "duration": "P2M",
                "credit": {
                  "grain": "FullTerm",
                  "amount": 300,
                  "currencyCode": "USD"
                }
              }
            },
            {
              "milestoneId": "550e8400-e29b-41d4-a716-446655440023",
              "name": "Milestone 3",
              "status": "Scheduled",
              "endAt": "2026-02-28T23:59:59Z",
              "spendTarget": {
                "amount": 5000,
                "currencyCode": "USD"
              },
              "award": {
                "duration": "P3M",
                "credit": {
                  "grain": "FullTerm",
                  "amount": 500,
                  "currencyCode": "USD"
                }
              }
            }
          ]
        },
        "location": "global"
      }
    },
    "200": {
      "body": {
        "id": "/subscriptions/10000000-0000-0000-0000-000000000000/resourceGroups/resource_group_name_01/providers/Microsoft.BillingBenefits/conditionalCredits/conditionalCredit_multiple_milestones_20251027",
        "name": "conditionalCredit_multiple_milestones_20251027",
        "type": "Microsoft.BillingBenefits/conditionalCredits",
        "properties": {
          "entityType": "Primary",
          "displayName": "Conditional Credit Multiple Milestones Example",
          "systemId": "CACO-SYSTEM-MULTI-001",
          "productCode": "000187f7-0000-0260-ab43-b8473ce57f1d",
          "startAt": "2025-11-01T00:00:00Z",
          "endAt": "2026-02-28T23:59:59Z",
          "allowContributors": "Enabled",
          "billingAccountResourceId": "/providers/Microsoft.Billing/billingAccounts/00000000-0000-0000-0000-000000000000:11111111-1111-1111-1111-111111111111_2025-10-28",
          "provisioningState": "Succeeded",
          "status": "Active",
          "milestones": [
            {
              "milestoneId": "550e8400-e29b-41d4-a716-446655440021",
              "name": "Milestone 1",
              "status": "Active",
              "endAt": "2025-11-30T23:59:59Z",
              "spendTarget": {
                "amount": 1000,
                "currencyCode": "USD"
              },
              "award": {
                "duration": "P1M",
                "credit": {
                  "grain": "FullTerm",
                  "amount": 100,
                  "currencyCode": "USD"
                },
                "startAt": "2025-12-01T00:00:00Z",
                "endAt": "2025-12-31T23:59:59Z",
                "balanceVersion": 13,
                "systemId": "credit98765432"
              }
            },
            {
              "milestoneId": "550e8400-e29b-41d4-a716-446655440022",
              "name": "Milestone 2",
              "status": "Active",
              "endAt": "2025-12-31T23:59:59Z",
              "spendTarget": {
                "amount": 3000,
                "currencyCode": "USD"
              },
              "award": {
                "duration": "P2M",
                "credit": {
                  "grain": "FullTerm",
                  "amount": 300,
                  "currencyCode": "USD"
                }
              }
            },
            {
              "milestoneId": "550e8400-e29b-41d4-a716-446655440023",
              "name": "Milestone 3",
              "status": "Active",
              "endAt": "2026-02-28T23:59:59Z",
              "spendTarget": {
                "amount": 5000,
                "currencyCode": "USD"
              },
              "award": {
                "duration": "P3M",
                "credit": {
                  "grain": "FullTerm",
                  "amount": 500,
                  "currencyCode": "USD"
                }
              }
            }
          ]
        },
        "location": "global"
      }
    }
  }
}
