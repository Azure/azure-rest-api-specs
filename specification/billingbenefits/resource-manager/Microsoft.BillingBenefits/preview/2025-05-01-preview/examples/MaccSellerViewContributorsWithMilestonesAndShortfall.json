{
  "parameters": {
    "api-version": "2025-05-01-preview",
    "body": {
      "properties": {
        "billingAccountResourceId": "/providers/Microsoft.Billing/billingAccounts/{acctId:orgId}",
        "$filter": "properties/status ne 'Canceled'",
        "contributors": true,
        "milestones": true,
        "primaryResourceId": "/subscriptions/{primaryCloudSubId}/resourceGroups/resource_group_name_01/providers/Microsoft.BillingBenefits/maccs/macc_20230614"
      }
    }
  },
  "responses": {
    "200": {
      "body": {
        "value": [
          {
            "properties": {
              "provisioningState": "Succeeded",
              "displayName": "Macc 20230614",
              "entityType": "Primary",
              "productCode": "0001d726-0000-0160-330f-a0b98cdbbdc4",
              "commitment": {
                "grain": "FullTerm",
                "amount": 20000,
                "currencyCode": "USD"
              },
              "startAt": "2025-05-01T00:00:00Z",
              "endAt": "2028-05-01T23:59:59Z",
              "allowContributors": true,
              "systemId": "13810867107109237",
              "status": "ShortfallCharged",
              "automaticShortfall": "Enabled",
              "shortfall": {
                "productCode": "000278da-0000-0160-330f-a0b98cdbbdc4",
                "charge": {
                  "amount": 5000,
                  "currencyCode": "USD",
                  "grain": "FullTerm"
                },
                "startAt": "2028-07-01T00:00:00Z",
                "endAt": "2029-07-31T23:59:59Z",
                "resourceId": "/subscriptions/27507203-b094-420a-a716-b6fda046e1c2/resourceGroups/testcredit/providers/Microsoft.BillingBenefits/credits/taco0647052025",
                "balanceVersion": 5,
                "systemId": "shortfall76543210"
              },
              "milestones": [
                {
                  "milestoneId": "11111111-1111-1111-1111-111111111111",
                  "commitment": {
                    "amount": 10000,
                    "currencyCode": "USD"
                  },
                  "endAt": "2026-05-31T23:59:59Z",
                  "automaticShortfall": "Disabled",
                  "status": "Completed",
                  "shortfall": null
                },
                {
                  "milestoneId": "22222222-2222-2222-2222-222222222222",
                  "commitment": {
                    "amount": 15000,
                    "currencyCode": "USD"
                  },
                  "endAt": "2027-05-31T23:59:59Z",
                  "automaticShortfall": "Disabled",
                  "status": "Completed",
                  "shortfall": null
                }
              ],
              "resourceId": "/subscriptions/{primaryCloudSubId}/resourceGroups/resource_group_name_01/providers/Microsoft.BillingBenefits/maccs/macc_20230614"
            },
            "systemData": {
              "createdByType": "User",
              "createdAt": "2023-06-12T22:05:09Z",
              "lastModifiedByType": "User",
              "lastModifiedAt": "2023-06-12T22:05:09Z"
            }
          },
          {
            "properties": {
              "resourceId": "/subscriptions/{primaryCloudSubId}/resourceGroups/resource_group_name_01/providers/Microsoft.BillingBenefits/maccs/{leadMaccName}/contributor/{maccContributorName}",
              "primaryResourceId": "/subscriptions/{primaryCloudSubId}/resourceGroups/resource_group_name_01/providers/Microsoft.BillingBenefits/maccs/macc_20230614",
              "primaryBillingAccountResourceId": "/providers/Microsoft.Billing/billingAccounts/{acctId:orgId}",
              "productCode": "0001d726-0000-0160-330f-a0b98cdbbdc4",
              "entityType": "Contributor",
              "displayName": "Macc Contributor 1",
              "commitment": {
                "grain": "FullTerm",
                "amount": 20000,
                "currencyCode": "USD"
              },
              "startAt": "2025-05-01T00:00:00Z",
              "endAt": "2028-05-31T23:59:59Z",
              "provisioningState": "Succeeded",
              "status": "ShortfallCharged",
              "systemId": "13810867107109237",
              "shortfall": {
                "productCode": "000278da-0000-0160-330f-a0b98cdbbdc4",
                "charge": {
                  "amount": 5000,
                  "currencyCode": "USD",
                  "grain": "FullTerm"
                },
                "startAt": "2028-07-01T00:00:00Z",
                "endAt": "2029-07-31T23:59:59Z",
                "resourceId": "/subscriptions/27507203-b094-420a-a716-b6fda046e1c2/resourceGroups/testcredit/providers/Microsoft.BillingBenefits/credits/taco0647052025",
                "balanceVersion": 6,
                "systemId": "shortfall65432109"
              },
              "milestones": [
                {
                  "milestoneId": "11111111-1111-1111-1111-111111111111",
                  "commitment": {
                    "amount": 10000,
                    "currencyCode": "USD"
                  },
                  "endAt": "2026-05-31T23:59:59Z",
                  "automaticShortfall": "Disabled",
                  "status": "Completed",
                  "shortfall": null
                },
                {
                  "milestoneId": "22222222-2222-2222-2222-222222222222",
                  "commitment": {
                    "amount": 15000,
                    "currencyCode": "USD"
                  },
                  "endAt": "2027-05-31T23:59:59Z",
                  "automaticShortfall": "Disabled",
                  "status": "Completed",
                  "shortfall": null
                }
              ]
            }
          }
        ]
      }
    }
  }
}
