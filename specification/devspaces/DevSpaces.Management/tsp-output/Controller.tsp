import "@azure-tools/typespec-azure-core";
import "@azure-tools/typespec-azure-resource-manager";
import "@typespec/rest";
import "./models.tsp";

using TypeSpec.Rest;
using Azure.ResourceManager;
using Azure.ResourceManager.Foundations;
using TypeSpec.Http;

namespace Azure.ResourceManager.DevSpaces;

model Controller is TrackedResource<ControllerProperties> {
  @doc("Name of the resource.")
  @maxLength(63)
  @minLength(1)
  @pattern("^[a-zA-Z0-9]([_-]*[a-zA-Z0-9])*$")
  @path
  @key("name")
  @segment("controllers")
  name: string;

  ...Azure.ResourceManager.ResourceSku;
}

@armResourceOperations
interface Controllers {
  @doc("Gets the properties for an Azure Dev Spaces Controller.")
  get is ArmResourceRead<Controller>;
  @doc("Creates an Azure Dev Spaces Controller with the specified create parameters.")
  create is ArmResourceCreateOrUpdateAsync<Controller>;
  @doc("Updates the properties of an existing Azure Dev Spaces Controller with the specified update parameters.")
  update is ArmResourcePatchSync<Controller, ControllerProperties>;
  @doc("Deletes an existing Azure Dev Spaces Controller.")
  delete is ArmResourceDeleteAsync<Controller>;
  @doc("Lists all the Azure Dev Spaces Controllers with their properties in the specified resource group and subscription.")
  listByResourceGroup is ArmResourceListByParent<Controller>;
  @doc("Lists all the Azure Dev Spaces Controllers with their properties in the subscription.")
  list is ArmListBySubscription<Controller>;
  @doc("Lists connection details for the underlying container resources of an Azure Dev Spaces Controller.")
  listConnectionDetails is ArmResourceActionSync<
    Controller,
    ListConnectionDetailsParameters,
    ControllerConnectionDetailsList
  >;
}
