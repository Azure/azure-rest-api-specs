{
  "parameters": {
    "api-version": "2025-10-01-preview",
    "scopeId": "subscriptions/20ff7fc3-e762-44dd-bd96-b71116dcdc23",
    "batchPricingRequest": {
      "plansConfigurations": [
        {
          "planName": "VirtualMachines",
          "properties": {
            "pricingTier": "Standard",
            "subPlan": "P2",
            "enforce": "True"
          }
        },
        {
          "planName": "StorageAccounts",
          "properties": {
            "pricingTier": "Free",
            "enforce": "False"
          }
        }
      ]
    }
  },
  "responses": {
    "409": {
      "body": {
        "error": {
          "code": "Conflict",
          "message": "The operation conflicts with the current subscription state due to enforcement policy violations or concurrent operations.",
          "details": [
            {
              "code": "EnforcementPolicyViolation",
              "message": "Cannot modify pricing configuration for plan 'VirtualMachines' because enforcement is enabled at the management group level and prevents changes to descendant scopes.",
              "target": "plansConfigurations[0]"
            },
            {
              "code": "ConcurrentOperationInProgress",
              "message": "Another batch pricing operation is currently in progress for this subscription. Please wait for the current operation to complete before starting a new one.",
              "target": "subscription"
            },
            {
              "code": "ResourceLocked",
              "message": "The subscription has a resource lock that prevents modifications to security configurations.",
              "target": "subscription"
            }
          ]
        }
      }
    },
    "200": {
      "body": {
        "results": [
          {
            "planName": "VirtualMachines",
            "success": true,
            "result": {
              "id": "/subscriptions/20ff7fc3-e762-44dd-bd96-b71116dcdc23/providers/Microsoft.Security/pricings/VirtualMachines",
              "name": "VirtualMachines",
              "type": "Microsoft.Security/pricings",
              "properties": {
                "pricingTier": "Standard",
                "subPlan": "P2",
                "freeTrialRemainingTime": "PT0S",
                "enablementTime": "2023-03-01T12:42:42.1921106Z",
                "enforce": "True",
                "resourcesCoverageStatus": "FullyCovered"
              }
            }
          },
          {
            "planName": "StorageAccounts",
            "success": true,
            "result": {
              "id": "/subscriptions/20ff7fc3-e762-44dd-bd96-b71116dcdc23/providers/Microsoft.Security/pricings/StorageAccounts",
              "name": "StorageAccounts",
              "type": "Microsoft.Security/pricings",
              "properties": {
                "pricingTier": "Free",
                "freeTrialRemainingTime": "PT0S",
                "enablementTime": "2023-03-01T12:42:42.1921106Z",
                "enforce": "False",
                "resourcesCoverageStatus": "NotCovered"
              }
            }
          }
        ],
        "summary": {
          "totalRequested": 2,
          "successfulUpdates": 2,
          "failedUpdates": 0
        }
      }
    },
    "207": {
      "body": {
        "results": [
          {
            "planName": "VirtualMachines",
            "success": true,
            "result": {
              "id": "/subscriptions/20ff7fc3-e762-44dd-bd96-b71116dcdc23/providers/Microsoft.Security/pricings/VirtualMachines",
              "name": "VirtualMachines",
              "type": "Microsoft.Security/pricings",
              "properties": {
                "pricingTier": "Standard",
                "subPlan": "P2",
                "freeTrialRemainingTime": "PT0S",
                "enablementTime": "2023-03-01T12:42:42.1921106Z",
                "enforce": "True",
                "resourcesCoverageStatus": "FullyCovered"
              }
            }
          },
          {
            "planName": "StorageAccounts",
            "success": false,
            "errorMessage": "Enforcement policy prevents changing pricing tier from Standard to Free"
          }
        ],
        "summary": {
          "totalRequested": 2,
          "successfulUpdates": 1,
          "failedUpdates": 1
        }
      }
    },
    "400": {
      "body": {
        "error": {
          "code": "InvalidRequestContent",
          "message": "The request content was invalid and could not be deserialized: 'Required property 'pricingTier' not found in JSON. Path 'plansConfigurations[0].properties', line 1, position 462.'."
        }
      }
    },
    "403": {
      "body": {
        "error": {
          "code": "InsufficientPermissions",
          "message": "The client does not have authorization to perform action 'Microsoft.Security/pricings/write' over scope '/subscriptions/20ff7fc3-e762-44dd-bd96-b71116dcdc23/providers/Microsoft.Security/pricings/VirtualMachines'."
        }
      }
    }
  }
}
