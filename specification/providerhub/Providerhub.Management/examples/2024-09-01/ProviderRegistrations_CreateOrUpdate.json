{
  "parameters": {
    "api-version": "2024-09-01",
    "properties": {
      "properties": {
        "capabilities": [
          {
            "effect": "Allow",
            "quotaId": "CSP_2015-05-01"
          },
          {
            "effect": "Allow",
            "quotaId": "CSP_MG_2017-12-01"
          }
        ],
        "crossTenantTokenValidation": "EnsureSecureValidation",
        "management": {
          "canaryManifestOwners": [
            "SPARTA-PlatformServiceAdmin"
          ],
          "errorResponseMessageOptions": {
            "serverFailureResponseMessageType": "OutageReporting"
          },
          "expeditedRolloutMetadata": {
            "enabled": false,
            "expeditedRolloutIntent": "Hotfix"
          },
          "expeditedRolloutSubmitters": [
            "SPARTA-PlatformServiceOperator"
          ],
          "incidentContactEmail": "helpme@contoso.com",
          "incidentRoutingService": "Contoso Resource Provider",
          "incidentRoutingTeam": "Contoso Triage",
          "pcCode": "P1234",
          "profitCenterProgramId": "1234",
          "serviceTreeInfos": [
            {
              "componentId": "d1b7d8ba-05e2-48e6-90d6-d781b99c6e69",
              "readiness": "InDevelopment",
              "serviceId": "d1b7d8ba-05e2-48e6-90d6-d781b99c6e69"
            }
          ]
        },
        "providerType": "Internal",
        "providerVersion": "2.0",
        "serviceName": "root",
        "services": [
          {
            "serviceName": "tags",
            "status": "Inactive"
          }
        ]
      }
    },
    "providerNamespace": "Microsoft.Contoso",
    "subscriptionId": "ab7a8701-f7ef-471a-a2f4-d0ebbf494f77"
  },
  "responses": {
    "200": {
      "description": "",
      "body": {
        "name": "Microsoft.Contoso",
        "type": "Microsoft.ProviderHub/providerRegistrations",
        "id": "/subscriptions/ab7a8701-f7ef-471a-a2f4-d0ebbf494f77/providers/Microsoft.ProviderHub/providerRegistrations/Microsoft.Contoso",
        "properties": {
          "capabilities": [
            {
              "effect": "Allow",
              "quotaId": "CSP_2015-05-01"
            },
            {
              "effect": "Allow",
              "quotaId": "CSP_MG_2017-12-01"
            }
          ],
          "crossTenantTokenValidation": "EnsureSecureValidation",
          "management": {
            "authorizationOwners": [
              "authorizationOwners-group"
            ],
            "canaryManifestOwners": [
              "SPARTA-PlatformServiceAdmin"
            ],
            "errorResponseMessageOptions": {
              "serverFailureResponseMessageType": "OutageReporting"
            },
            "expeditedRolloutMetadata": {
              "enabled": false,
              "expeditedRolloutIntent": "Hotfix"
            },
            "expeditedRolloutSubmitters": [
              "SPARTA-PlatformServiceOperator"
            ],
            "incidentContactEmail": "helpme@contoso.com",
            "incidentRoutingService": "",
            "incidentRoutingTeam": "",
            "manifestOwners": [
              "manifestOwners-group"
            ],
            "pcCode": "P1234",
            "profitCenterProgramId": "1234",
            "resourceAccessPolicy": "NotSpecified",
            "serviceTreeInfos": [
              {
                "componentId": "d1b7d8ba-05e2-48e6-90d6-d781b99c6e69",
                "readiness": "InDevelopment",
                "serviceId": "d1b7d8ba-05e2-48e6-90d6-d781b99c6e69"
              }
            ]
          },
          "metadata": {
            "onboardedVia": "ProviderHub"
          },
          "namespace": "Microsoft.Contoso",
          "providerAuthorizations": [
            {
              "applicationId": "1a3b5c7d-8e9f-10g1-1h12-i13j14k1",
              "roleDefinitionId": "123456bf-gkur-2098-b890-98da392a00b2"
            },
            {
              "allowedThirdPartyExtensions": [
                {
                  "name": "name"
                }
              ],
              "applicationId": "1a3b5c7d-8e9f-10g1-1h12-i13j14k2",
              "groupingTag": "GroupingTag",
              "managedByAuthorization": {
                "additionalAuthorizations": [
                  {
                    "applicationId": "3e5aaca6-6470-4be4-8a17-24ab9519414b",
                    "roleDefinitionId": "1e86f807-6ec0-40b3-8b5f-686b7e43a0a2"
                  }
                ],
                "allowManagedByInheritance": true,
                "managedByResourceRoleDefinitionId": "9e3af657-a8ff-583c-a75c-2fe7c4bcb635"
              },
              "roleDefinitionId": "123456bf-gkur-2098-b890-98da392a00b3"
            }
          ],
          "providerHubMetadata": {
            "directRpRoleDefinitionId": "1x86y807-6zx0-40y3-8z5x-686y7z43x0y2"
          },
          "providerType": "Internal, Hidden",
          "providerVersion": "2.0",
          "provisioningState": "Succeeded",
          "resourceProviderAuthorizationRules": {
            "asyncOperationPollingRules": {
              "authorizationActions": [
                "Microsoft.Contoso/classicAdministrators/operationStatuses/read"
              ]
            }
          },
          "serviceName": "root",
          "services": [
            {
              "serviceName": "tags",
              "status": "Inactive"
            }
          ]
        },
        "systemData": {
          "createdAt": "2020-02-01T01:01:01.1075056Z",
          "createdBy": "string",
          "createdByType": "User",
          "lastModifiedAt": "2020-02-01T01:01:01.1075056Z",
          "lastModifiedBy": "string",
          "lastModifiedByType": "User"
        }
      }
    },
    "201": {
      "description": "Successfully created the provider registration.",
      "body": {
        "name": "Microsoft.Contoso",
        "type": "Microsoft.ProviderHub/providerRegistrations",
        "id": "/subscriptions/ab7a8701-f7ef-471a-a2f4-d0ebbf494f77/providers/Microsoft.ProviderHub/providerRegistrations/Microsoft.Contoso",
        "properties": {
          "capabilities": [
            {
              "effect": "Allow",
              "quotaId": "CSP_2015-05-01"
            },
            {
              "effect": "Allow",
              "quotaId": "CSP_MG_2017-12-01"
            }
          ],
          "crossTenantTokenValidation": "EnsureSecureValidation",
          "management": {
            "authorizationOwners": [
              "authorizationOwners-group"
            ],
            "canaryManifestOwners": [
              "SPARTA-PlatformServiceAdmin"
            ],
            "errorResponseMessageOptions": {
              "serverFailureResponseMessageType": "OutageReporting"
            },
            "expeditedRolloutMetadata": {
              "enabled": false,
              "expeditedRolloutIntent": "Hotfix"
            },
            "expeditedRolloutSubmitters": [
              "SPARTA-PlatformServiceOperator"
            ],
            "incidentContactEmail": "helpme@contoso.com",
            "incidentRoutingService": "",
            "incidentRoutingTeam": "",
            "manifestOwners": [
              "manifestOwners-group"
            ],
            "pcCode": "P1234",
            "profitCenterProgramId": "1234",
            "resourceAccessPolicy": "NotSpecified",
            "serviceTreeInfos": [
              {
                "componentId": "d1b7d8ba-05e2-48e6-90d6-d781b99c6e69",
                "readiness": "InDevelopment",
                "serviceId": "d1b7d8ba-05e2-48e6-90d6-d781b99c6e69"
              }
            ]
          },
          "metadata": {
            "onboardedVia": "ProviderHub"
          },
          "namespace": "Microsoft.Contoso",
          "providerAuthorizations": [
            {
              "applicationId": "1a3b5c7d-8e9f-10g1-1h12-i13j14k1",
              "roleDefinitionId": "123456bf-gkur-2098-b890-98da392a00b2"
            },
            {
              "allowedThirdPartyExtensions": [
                {
                  "name": "name"
                }
              ],
              "applicationId": "1a3b5c7d-8e9f-10g1-1h12-i13j14k2",
              "groupingTag": "GroupingTag",
              "managedByAuthorization": {
                "additionalAuthorizations": [
                  {
                    "applicationId": "3e5aaca6-6470-4be4-8a17-24ab9519414b",
                    "roleDefinitionId": "1e86f807-6ec0-40b3-8b5f-686b7e43a0a2"
                  }
                ],
                "allowManagedByInheritance": true,
                "managedByResourceRoleDefinitionId": "9e3af657-a8ff-583c-a75c-2fe7c4bcb635"
              },
              "roleDefinitionId": "123456bf-gkur-2098-b890-98da392a00b3"
            }
          ],
          "providerHubMetadata": {
            "directRpRoleDefinitionId": "1x86y807-6zx0-40y3-8z5x-686y7z43x0y2"
          },
          "providerType": "Internal, Hidden",
          "providerVersion": "2.0",
          "provisioningState": "Succeeded",
          "resourceProviderAuthorizationRules": {
            "asyncOperationPollingRules": {
              "authorizationActions": [
                "Microsoft.Contoso/classicAdministrators/operationStatuses/read"
              ]
            }
          },
          "serviceName": "root",
          "services": [
            {
              "serviceName": "tags",
              "status": "Inactive"
            }
          ]
        },
        "systemData": {
          "createdAt": "2020-02-01T01:01:01.1075056Z",
          "createdBy": "string",
          "createdByType": "User",
          "lastModifiedAt": "2020-02-01T01:01:01.1075056Z",
          "lastModifiedBy": "string",
          "lastModifiedByType": "User"
        }
      }
    }
  },
  "operationId": "ProviderRegistrations_CreateOrUpdate",
  "title": "ProviderRegistrations_CreateOrUpdate"
}