{
  "parameters": {
    "api-version": "2024-09-01",
    "properties": {
      "kind": "Direct",
      "properties": {
        "capabilities": [
          {
            "effect": "Allow",
            "quotaId": "CSP_2015-05-01"
          },
          {
            "effect": "Allow",
            "quotaId": "CSP_MG_2017-12-01"
          }
        ],
        "customManifestVersion": "2.0",
        "dstsConfiguration": {
          "serviceDnsName": "prds.sparta.azure.com",
          "serviceName": "prds-shim"
        },
        "legacyNamespace": "legacyNamespace",
        "legacyRegistrations": [
          "legacyRegistration"
        ],
        "management": {
          "incidentContactEmail": "helpme@contoso.com",
          "incidentRoutingService": "Contoso Resource Provider",
          "incidentRoutingTeam": "Contoso Triage",
          "serviceTreeInfos": [
            {
              "componentId": "d1b7d8ba-05e2-48e6-90d6-d781b99c6e69",
              "readiness": "InDevelopment",
              "serviceId": "d1b7d8ba-05e2-48e6-90d6-d781b99c6e69"
            }
          ]
        },
        "managementGroupGlobalNotificationEndpoints": [
          {
            "endpointUri": "{your_management_group_notification_endpoint}"
          }
        ],
        "notificationOptions": "EmitSpendingLimit",
        "notificationSettings": {
          "subscriberSettings": [
            {
              "filterRules": [
                {
                  "endpointInformation": [
                    {
                      "endpoint": "https://userrp.azure.com/arnnotify",
                      "endpointType": "Webhook",
                      "schemaVersion": "3.0"
                    },
                    {
                      "endpoint": "https://userrp.azure.com/arnnotify",
                      "endpointType": "Eventhub",
                      "schemaVersion": "3.0"
                    }
                  ],
                  "filterQuery": "Resources | where event.eventType in ('Microsoft.Network/IpAddresses/write', 'Microsoft.KeyVault/vaults/move/action')"
                }
              ]
            }
          ]
        },
        "optionalFeatures": [
          "Microsoft.Resources/PlatformSubscription"
        ],
        "providerType": "Internal",
        "providerVersion": "2.0",
        "resourceGroupLockOptionDuringMove": {
          "blockActionVerb": "Action"
        },
        "resourceHydrationAccounts": [
          {
            "accountName": "classichydrationprodsn01",
            "subscriptionId": "e4eae963-2d15-43e6-a097-98bd75b33edd"
          },
          {
            "accountName": "classichydrationprodch01",
            "subscriptionId": "69e69ecb-e69c-41d4-99b8-87dd12781067"
          }
        ],
        "responseOptions": {
          "serviceClientOptionsType": "DisableAutomaticDecompression"
        },
        "serviceName": "root",
        "services": [
          {
            "serviceName": "tags",
            "status": "Inactive"
          }
        ]
      }
    },
    "providerNamespace": "Microsoft.Contoso",
    "subscriptionId": "ab7a8701-f7ef-471a-a2f4-d0ebbf494f77"
  },
  "responses": {
    "200": {
      "description": "",
      "body": {
        "name": "Microsoft.Contoso",
        "type": "Microsoft.ProviderHub/providerRegistrations",
        "id": "/subscriptions/ab7a8701-f7ef-471a-a2f4-d0ebbf494f77/providers/Microsoft.ProviderHub/providerRegistrations/Microsoft.Contoso",
        "properties": {
          "capabilities": [
            {
              "effect": "Allow",
              "quotaId": "CSP_2015-05-01"
            },
            {
              "effect": "Allow",
              "quotaId": "CSP_MG_2017-12-01"
            }
          ],
          "customManifestVersion": "2.0",
          "dstsConfiguration": {
            "serviceDnsName": "prds.sparta.azure.com",
            "serviceName": "prds-shim"
          },
          "legacyNamespace": "legacyNamespace",
          "legacyRegistrations": [
            "legacyRegistration"
          ],
          "management": {
            "authorizationOwners": [
              "authorizationOwners-group"
            ],
            "incidentContactEmail": "helpme@contoso.com",
            "incidentRoutingService": "",
            "incidentRoutingTeam": "",
            "manifestOwners": [
              "manifestOwners-group"
            ],
            "resourceAccessPolicy": "NotSpecified",
            "serviceTreeInfos": [
              {
                "componentId": "d1b7d8ba-05e2-48e6-90d6-d781b99c6e69",
                "readiness": "InDevelopment",
                "serviceId": "d1b7d8ba-05e2-48e6-90d6-d781b99c6e69"
              }
            ]
          },
          "managementGroupGlobalNotificationEndpoints": [
            {
              "endpointUri": "{your_management_group_notification_endpoint}"
            }
          ],
          "metadata": {
            "onboardedVia": "ProviderHub"
          },
          "namespace": "Microsoft.Contoso",
          "notificationOptions": "EmitSpendingLimit",
          "notificationSettings": {
            "subscriberSettings": [
              {
                "filterRules": [
                  {
                    "endpointInformation": [
                      {
                        "endpoint": "https://userrp.azure.com/arnnotify",
                        "endpointType": "Webhook",
                        "schemaVersion": "3.0"
                      },
                      {
                        "endpoint": "https://userrp.azure.com/arnnotify",
                        "endpointType": "Eventhub",
                        "schemaVersion": "3.0"
                      }
                    ],
                    "filterQuery": "Resources | where event.eventType in ('Microsoft.Network/IpAddresses/write', 'Microsoft.KeyVault/vaults/move/action')"
                  }
                ]
              }
            ]
          },
          "optionalFeatures": [
            "Microsoft.Resources/PlatformSubscription"
          ],
          "providerAuthorizations": [
            {
              "applicationId": "1a3b5c7d-8e9f-10g1-1h12-i13j14k1",
              "roleDefinitionId": "123456bf-gkur-2098-b890-98da392a00b2"
            }
          ],
          "providerType": "Internal, Hidden",
          "providerVersion": "2.0",
          "provisioningState": "Succeeded",
          "resourceGroupLockOptionDuringMove": {
            "blockActionVerb": "Action"
          },
          "resourceHydrationAccounts": [
            {
              "accountName": "classichydrationprodsn01",
              "subscriptionId": "e4eae963-2d15-43e6-a097-98bd75b33edd"
            },
            {
              "accountName": "classichydrationprodch01",
              "subscriptionId": "69e69ecb-e69c-41d4-99b8-87dd12781067"
            }
          ],
          "responseOptions": {
            "serviceClientOptionsType": "DisableAutomaticDecompression"
          },
          "serviceName": "root",
          "services": [
            {
              "serviceName": "tags",
              "status": "Inactive"
            }
          ]
        },
        "systemData": {
          "createdAt": "2020-02-01T01:01:01.1075056Z",
          "createdBy": "string",
          "createdByType": "User",
          "lastModifiedAt": "2020-02-01T01:01:01.1075056Z",
          "lastModifiedBy": "string",
          "lastModifiedByType": "User"
        }
      }
    },
    "201": {
      "description": "Successfully created the provider registration.",
      "body": {
        "name": "Microsoft.Contoso",
        "type": "Microsoft.ProviderHub/providerRegistrations",
        "id": "/subscriptions/ab7a8701-f7ef-471a-a2f4-d0ebbf494f77/providers/Microsoft.ProviderHub/providerRegistrations/Microsoft.Contoso",
        "properties": {
          "capabilities": [
            {
              "effect": "Allow",
              "quotaId": "CSP_2015-05-01"
            },
            {
              "effect": "Allow",
              "quotaId": "CSP_MG_2017-12-01"
            }
          ],
          "customManifestVersion": "2.0",
          "dstsConfiguration": {
            "serviceDnsName": "prds.sparta.azure.com",
            "serviceName": "prds-shim"
          },
          "legacyNamespace": "legacyNamespace",
          "legacyRegistrations": [
            "legacyRegistration"
          ],
          "management": {
            "authorizationOwners": [
              "authorizationOwners-group"
            ],
            "incidentContactEmail": "helpme@contoso.com",
            "incidentRoutingService": "",
            "incidentRoutingTeam": "",
            "manifestOwners": [
              "manifestOwners-group"
            ],
            "resourceAccessPolicy": "NotSpecified",
            "serviceTreeInfos": [
              {
                "componentId": "d1b7d8ba-05e2-48e6-90d6-d781b99c6e69",
                "readiness": "InDevelopment",
                "serviceId": "d1b7d8ba-05e2-48e6-90d6-d781b99c6e69"
              }
            ]
          },
          "managementGroupGlobalNotificationEndpoints": [
            {
              "endpointUri": "{your_management_group_notification_endpoint}"
            }
          ],
          "metadata": {
            "onboardedVia": "ProviderHub"
          },
          "namespace": "Microsoft.Contoso",
          "notificationOptions": "EmitSpendingLimit",
          "notificationSettings": {
            "subscriberSettings": [
              {
                "filterRules": [
                  {
                    "endpointInformation": [
                      {
                        "endpoint": "https://userrp.azure.com/arnnotify",
                        "endpointType": "Webhook",
                        "schemaVersion": "3.0"
                      },
                      {
                        "endpoint": "https://userrp.azure.com/arnnotify",
                        "endpointType": "Eventhub",
                        "schemaVersion": "3.0"
                      }
                    ],
                    "filterQuery": "Resources | where event.eventType in ('Microsoft.Network/IpAddresses/write', 'Microsoft.KeyVault/vaults/move/action')"
                  }
                ]
              }
            ]
          },
          "optionalFeatures": [
            "Microsoft.Resources/PlatformSubscription"
          ],
          "providerAuthorizations": [
            {
              "applicationId": "1a3b5c7d-8e9f-10g1-1h12-i13j14k1",
              "roleDefinitionId": "123456bf-gkur-2098-b890-98da392a00b2"
            }
          ],
          "providerType": "Internal, Hidden",
          "providerVersion": "2.0",
          "provisioningState": "Succeeded",
          "resourceGroupLockOptionDuringMove": {
            "blockActionVerb": "Action"
          },
          "resourceHydrationAccounts": [
            {
              "accountName": "classichydrationprodsn01",
              "subscriptionId": "e4eae963-2d15-43e6-a097-98bd75b33edd"
            },
            {
              "accountName": "classichydrationprodch01",
              "subscriptionId": "69e69ecb-e69c-41d4-99b8-87dd12781067"
            }
          ],
          "responseOptions": {
            "serviceClientOptionsType": "DisableAutomaticDecompression"
          },
          "serviceName": "root",
          "services": [
            {
              "serviceName": "tags",
              "status": "Inactive"
            }
          ]
        },
        "systemData": {
          "createdAt": "2020-02-01T01:01:01.1075056Z",
          "createdBy": "string",
          "createdByType": "User",
          "lastModifiedAt": "2020-02-01T01:01:01.1075056Z",
          "lastModifiedBy": "string",
          "lastModifiedByType": "User"
        }
      }
    }
  },
  "operationId": "ProviderRegistrations_CreateOrUpdate",
  "title": "DirectProviderRegistrations_CreateOrUpdate"
}
