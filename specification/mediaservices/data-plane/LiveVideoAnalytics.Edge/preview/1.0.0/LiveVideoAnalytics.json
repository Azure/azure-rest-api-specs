{
  "swagger": "2.0",
  "info": {
    "description": "Direct Methods for Live Video Analytics on IoT Edge.",
    "version": "1.0.0",
    "title": "Direct Methods for Live Video Analytics on IoT Edge",
    "contact": {
      "email": "amshelp@microsoft.com"
    }
  },
  "security": [
    {
      "sharedAccessSignature": []
    }
  ],
  "paths": {
    "/api/GraphTopology": {
      "get": {
        "summary": "Retrieves a list of graph topologies.",
        "description": "Retrieves a list of graph topologies that have been added to the Live Video Analytics IoT Edge module.",
        "operationId": "GraphTopologyList",
        "produces": [
          "application/json"
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "Graph Topologies were successfully retrieved from the Live Video Analytics IoT Edge module.",
            "schema": {
              "$ref": "#/definitions/MediaGraphTopologyCollection"
            }
          }
        },
        "x-ms-examples": {
          "List all Graph Topologies": {
            "$ref": "examples/GraphTopologyList.json"
          }
        }
      },
      "put": {
        "summary": "Creates or updates a graph topology.",
        "description": "Creates a new topology or updates an existing one, with the given name. A topology is a blueprint defining what nodes are in a graph, and how they are interconnected.",
        "operationId": "GraphTopologySet",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "topology",
            "required": true,
            "schema": {
              "$ref": "#/definitions/MediaGraphTopology"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Existing graph topology updated.",
            "schema": {
              "$ref": "#/definitions/MediaGraphTopology"
            }
          },
          "201": {
            "description": "New graph topology created.",
            "schema": {
              "$ref": "#/definitions/MediaGraphTopology"
            }
          }
        },
        "x-ms-examples": {
          "Create or Update a Graph Topology": {
            "$ref": "examples/GraphTopologySet.json"
          }
        }
      }
    },
    "/api/GraphTopology/{name}": {
      "get": {
        "summary": "Gets a graph topology by name.",
        "description": "Retrieves a graph topology by name. If a topology with that name has been previously set, then the call will return the JSON representation of that topology.",
        "operationId": "GraphTopologyGet",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "name",
            "in": "path",
            "description": "Name of the graph topology to be retrieved.",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "Graph topology retrieved successfully.",
            "schema": {
              "$ref": "#/definitions/MediaGraphTopology"
            }
          },
          "404": {
            "description": "Graph topology was not found."
          }
        },
        "x-ms-examples": {
          "Get a Graph Topology": {
            "$ref": "examples/GraphTopologyGet.json"
          }
        }
      },
      "delete": {
        "summary": "Deletes a graph topology.",
        "description": "Deletes a graph topology with the given name. This method should be called after all instances of the topology have been stopped and deleted.",
        "operationId": "GraphTopologyDelete",
        "parameters": [
          {
            "name": "name",
            "in": "path",
            "description": "Name of the graph topology to be deleted.",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "Graph topology deleted successfully."
          },
          "204": {
            "description": "Graph topology not found."
          }
        },
        "x-ms-examples": {
          "Delete a Graph Topology": {
            "$ref": "examples/GraphTopologyDelete.json"
          }
        }
      }
    },
    "/api/GraphInstance": {
      "get": {
        "summary": "Retrieves a list of graph instances.",
        "description": "Retrieves a list of graph instances, if any, that have been created in the Live Video Analytics IoT Edge module.",
        "operationId": "GraphInstanceList",
        "produces": [
          "application/json"
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "List of graph instances that were successfully retrieved.",
            "schema": {
              "$ref": "#/definitions/MediaGraphInstanceCollection"
            }
          }
        },
        "x-ms-examples": {
          "List all Graph Instances": {
            "$ref": "examples/GraphInstanceList.json"
          }
        }
      },
      "put": {
        "summary": "Creates or updates a graph instance.",
        "description": "Creates or updates a graph instance.",
        "operationId": "GraphInstanceSet",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "instance",
            "required": true,
            "schema": {
              "$ref": "#/definitions/MediaGraphInstance"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Graph instance updated.",
            "schema": {
              "$ref": "#/definitions/MediaGraphInstance"
            }
          },
          "201": {
            "description": "New graph instance created.",
            "schema": {
              "$ref": "#/definitions/MediaGraphInstance"
            }
          }
        },
        "x-ms-examples": {
          "Create or Update a Graph Instance": {
            "$ref": "examples/GraphInstanceSet.json"
          }
        }
      }
    },
    "/api/GraphInstance/{name}": {
      "get": {
        "summary": "Gets a graph instance by name.",
        "description": "Retrieves a  graph instance by name. If a graph instance with that name has been previously created, then the direct method call will return the JSON representation of that instance.",
        "operationId": "GraphInstanceGet",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "name",
            "in": "path",
            "description": "Name of the graph instance to be retrieved.",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "Graph instance retrieved successfully.",
            "schema": {
              "$ref": "#/definitions/MediaGraphInstance"
            }
          },
          "404": {
            "description": "Graph instance not found."
          }
        },
        "x-ms-examples": {
          "Get a Graph Instance": {
            "$ref": "examples/GraphInstanceGet.json"
          }
        }
      },
      "delete": {
        "summary": "Deletes a graph instance.",
        "description": "Deletes a graph instance.",
        "operationId": "GraphInstanceDelete",
        "parameters": [
          {
            "name": "name",
            "in": "path",
            "description": "Name of the graph instance to be deleted.",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "Graph instance deleted successfully."
          },
          "204": {
            "description": "Graph instance not found."
          }
        },
        "x-ms-examples": {
          "Delete a Graph Instance": {
            "$ref": "examples/GraphInstanceDelete.json"
          }
        }
      }
    },
    "/api/GraphInstance/{name}/activate": {
      "post": {
        "summary": "Activate a given graph instance.",
        "description": "Activates a graph instance with the name provided, if it exists.",
        "operationId": "GraphInstanceActivate",
        "parameters": [
          {
            "name": "name",
            "in": "path",
            "description": "Name of the graph instance to be activated.",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "Graph instance activated successfully."
          }
        },
        "x-ms-examples": {
          "Activate a Graph Instance": {
            "$ref": "examples/GraphInstanceStateChange.json"
          }
        }
      }
    },
    "/api/GraphInstance/{name}/deactivate": {
      "post": {
        "summary": "Deactivate a graph instance.",
        "description": "Deactivates a graph instance with the name provided, if it is active.",
        "operationId": "GraphInstanceDeactivate",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "name",
            "in": "path",
            "description": "Name of the graph instance to be deactivated.",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "Graph instance deactivated successfully."
          }
        },
        "x-ms-examples": {
          "Deactivate a Graph Instance": {
            "$ref": "examples/GraphInstanceStateChange.json"
          }
        }
      }
    }
  },
  "securityDefinitions": {
    "sharedAccessSignature": {
      "type": "apiKey",
      "name": "Authorization",
      "in": "header"
    }
  },
  "definitions": {
    "MediaGraphInstance": {
      "type": "object",
      "required": [
        "name"
      ],
      "properties": {
        "name": {
          "type": "string"
        },
        "@apiVersion": {
          "type": "string"
        },
        "systemData": {
          "$ref": "#/definitions/MediaGraphSystemData"
        },
        "properties": {
          "$ref": "#/definitions/MediaGraphInstanceProperties"
        }
      },
      "description": "Represents a Media Graph instance."
    },
    "MediaGraphInstanceProperties": {
      "type": "object",
      "properties": {
        "description": {
          "type": "string",
          "description": "An optional description for the instance."
        },
        "topologyName": {
          "type": "string",
          "description": "The name of the graph topology that this instance will run. A topology with this name should already have been set in the Edge module."
        },
        "parameters": {
          "type": "array",
          "description": "List of one or more graph instance parameters.",
          "items": {
            "$ref": "#/definitions/MediaGraphParameterDefinition"
          }
        },
        "state": {
          "type": "string",
          "description": "Allowed states for a graph Instance.",
          "enum": [
            "Inactive",
            "Activating",
            "Active",
            "Deactivating"
          ],
          "x-ms-enum": {
            "name": "MediaGraphInstanceState",
            "values": [
              {
                "value": "Inactive",
                "description": "Inactive state."
              },
              {
                "value": "Activating",
                "description": "Activating state."
              },
              {
                "value": "Active",
                "description": "Active state."
              },
              {
                "value": "Deactivating",
                "description": "Deactivating state."
              }
            ],
            "modelAsString": false
          }
        }
      },
      "description": "Properties of a Media Graph instance."
    },
    "MediaGraphParameterDefinition": {
      "type": "object",
      "required": [
        "name",
        "value"
      ],
      "properties": {
        "name": {
          "type": "string",
          "description": "Name of parameter as defined in the graph topology."
        },
        "value": {
          "type": "string",
          "description": "Value of parameter."
        }
      },
      "description": "A key, value pair. The graph topology can be authored with certain values with parameters. Then, during graph instance creation, the value for that parameters can be specified. This allows the same graph topology to be used as a blueprint for multiple graph instances with different values for the parameters."
    },
    "MediaGraphInstanceCollection": {
      "properties": {
        "value": {
          "type": "array",
          "description": "Collection of graph instances.",
          "items": {
            "$ref": "#/definitions/MediaGraphInstance"
          }
        },
        "@continuationToken": {
          "type": "string",
          "description": "Continuation token to use in subsequent calls to enumerate through the graph instance collection (when the collection contains too many results to return in one response)."
        }
      },
      "description": "Collection of graph instances."
    },
    "MediaGraphTopologyCollection": {
      "properties": {
        "value": {
          "type": "array",
          "description": "Collection of graph topologies.",
          "items": {
            "$ref": "#/definitions/MediaGraphTopology"
          }
        },
        "@continuationToken": {
          "type": "string",
          "description": "Continuation token to use in subsequent calls to enumerate through the graph topologies collection (when the collection contains too many results to return in one response)."
        }
      },
      "description": "Collection of graph topologies."
    },
    "MediaGraphTopology": {
      "type": "object",
      "required": [
        "name"
      ],
      "properties": {
        "name": {
          "type": "string"
        },
        "@apiVersion": {
          "type": "string"
        },
        "systemData": {
          "$ref": "#/definitions/MediaGraphSystemData"
        },
        "properties": {
          "$ref": "#/definitions/MediaGraphTopologyProperties"
        }
      },
      "description": "Describes a graph topology."
    },
    "MediaGraphTopologyProperties": {
      "type": "object",
      "properties": {
        "description": {
          "type": "string"
        },
        "parameters": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/MediaGraphParameterDeclaration"
          }
        },
        "sources": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/MediaGraphSource"
          }
        },
        "processors": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/MediaGraphProcessor"
          }
        },
        "sinks": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/MediaGraphSink"
          }
        }
      },
      "description": "Describes the properties of a graph topology."
    },
    "MediaGraphSystemData": {
      "type": "object",
      "properties": {
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "description": "The timestamp of resource creation (UTC)."
        },
        "lastModifiedAt": {
          "type": "string",
          "format": "date-time",
          "description": "The timestamp of resource last modification (UTC)."
        }
      },
      "description": "Graph system data."
    },
    "MediaGraphParameterDeclaration": {
      "type": "object",
      "required": [
        "name",
        "type"
      ],
      "properties": {
        "name": {
          "type": "string",
          "description": "The name of the parameter.",
          "maxLength": 64
        },
        "type": {
          "type": "string",
          "enum": [
            "String",
            "SecretString",
            "Int",
            "Double",
            "Bool"
          ],
          "x-ms-enum": {
            "name": "MediaGraphParameterType",
            "values": [
              {
                "value": "String",
                "description": "A string parameter value."
              },
              {
                "value": "SecretString",
                "description": "A string to hold sensitive information as parameter value."
              },
              {
                "value": "Int",
                "description": "A 32-bit signed integer as parameter value."
              },
              {
                "value": "Double",
                "description": "A 64-bit double-precision floating point type as parameter value."
              },
              {
                "value": "Bool",
                "description": "A boolean value that is either true or false."
              }
            ],
            "modelAsString": false
          }
        },
        "description": {
          "type": "string",
          "description": "Description of the parameter."
        },
        "default": {
          "type": "string",
          "description": "The default value for the parameter, to be used if the graph instance does not specify a value."
        }
      },
      "description": "The declaration of a parameter in the graph topology. A graph topology can be authored with parameters. Then, during graph instance creation, the value for those parameters can be specified. This allows the same graph topology to be used as a blueprint for multiple graph instances with different values for the parameters."
    },
    "MediaGraphSource": {
      "type": "object",
      "required": [
        "@type",
        "name"
      ],
      "discriminator": "@type",
      "properties": {
        "@type": {
          "type": "string",
          "description": "The type of the source node. The discriminator for derived types."
        },
        "name": {
          "type": "string",
          "description": "The name to be used for this source node."
        }
      },
      "description": "Media graph source."
    },
    "MediaGraphRtspSource": {
      "properties": {
        "transport": {
          "type": "string",
          "description": "Underlying RTSP transport. This is used to enable or disable HTTP tunneling.",
          "enum": [
            "Http",
            "Tcp"
          ],
          "x-ms-enum": {
            "name": "MediaGraphRtspTransport",
            "values": [
              {
                "value": "Http",
                "description": "HTTP/HTTPS transport. This should be used when HTTP tunneling is desired."
              },
              {
                "value": "Tcp",
                "description": "TCP transport. This should be used when HTTP tunneling is NOT desired."
              }
            ],
            "modelAsString": true
          }
        },
        "endpoint": {
          "description": "RTSP endpoint of the stream that is being connected to.",
          "$ref": "#/definitions/MediaGraphEndpoint"
        }
      },
      "required": [
        "endpoint"
      ],
      "allOf": [
        {
          "$ref": "#/definitions/MediaGraphSource"
        },
        {}
      ],
      "description": "Enables a graph to capture media from a RTSP server.",
      "x-ms-discriminator-value": "#Microsoft.Media.MediaGraphRtspSource"
    },
    "MediaGraphIoTHubMessageSource": {
      "properties": {
        "hubInputName": {
          "type": "string",
          "description": "Name of the input path where messages can be routed to (via routes declared in the IoT Edge deployment manifest)."
        }
      },
      "allOf": [
        {
          "$ref": "#/definitions/MediaGraphSource"
        },
        {}
      ],
      "description": "Enables a graph to receive messages via routes declared in the IoT Edge deployment manifest.",
      "x-ms-discriminator-value": "#Microsoft.Media.MediaGraphIoTHubMessageSource"
    },
    "MediaGraphIoTHubMessageSink": {
      "properties": {
        "hubOutputName": {
          "type": "string",
          "description": "Name of the output path to which the graph will publish message. These messages can then be delivered to desired destinations by declaring routes referencing the output path in the IoT Edge deployment manifest."
        }
      },
      "allOf": [
        {
          "$ref": "#/definitions/MediaGraphSink"
        },
        {}
      ],
      "description": "Enables a graph to publish messages that can be delivered via routes declared in the IoT Edge deployment manifest.",
      "x-ms-discriminator-value": "#Microsoft.Media.MediaGraphIoTHubMessageSink"
    },
    "MediaGraphEndpoint": {
      "type": "object",
      "required": [
        "@type",
        "url"
      ],
      "discriminator": "@type",
      "properties": {
        "@type": {
          "type": "string",
          "description": "The discriminator for derived types."
        },
        "credentials": {
          "description": "Polymorphic credentials to be presented to the endpoint.",
          "$ref": "#/definitions/MediaGraphCredentials"
        },
        "url": {
          "type": "string",
          "description": "Url for the endpoint."
        }
      },
      "description": "Base class for endpoints."
    },
    "MediaGraphCredentials": {
      "type": "object",
      "required": [
        "@type"
      ],
      "discriminator": "@type",
      "properties": {
        "@type": {
          "type": "string",
          "description": "The discriminator for derived types."
        }
      },
      "description": "Credentials to present during authentication."
    },
    "MediaGraphUsernamePasswordCredentials": {
      "properties": {
        "username": {
          "type": "string",
          "description": "Username for a username/password pair."
        },
        "password": {
          "type": "string",
          "description": "Password for a username/password pair."
        }
      },
      "required": [
        "username"
      ],
      "allOf": [
        {
          "$ref": "#/definitions/MediaGraphCredentials"
        },
        {}
      ],
      "description": "Username/password credential pair.",
      "x-ms-discriminator-value": "#Microsoft.Media.MediaGraphUsernamePasswordCredentials"
    },
    "MediaGraphHttpHeaderCredentials": {
      "properties": {
        "headerName": {
          "type": "string",
          "description": "HTTP header name."
        },
        "headerValue": {
          "type": "string",
          "description": "HTTP header value."
        }
      },
      "required": [
        "headerName",
        "headerValue"
      ],
      "allOf": [
        {
          "$ref": "#/definitions/MediaGraphCredentials"
        },
        {}
      ],
      "description": "Http header service credentials.",
      "x-ms-discriminator-value": "#Microsoft.Media.MediaGraphHttpHeaderCredentials"
    },
    "MediaGraphUnsecuredEndpoint": {
      "allOf": [
        {
          "$ref": "#/definitions/MediaGraphEndpoint"
        },
        {}
      ],
      "description": "An endpoint that the media graph can connect to, with no encryption in transit.",
      "x-ms-discriminator-value": "#Microsoft.Media.MediaGraphUnsecuredEndpoint"
    },
    "MediaGraphTlsEndpoint": {
      "properties": {
        "trustedCertificates": {
          "description": "Trusted certificates when authenticating a TLS connection. Null designates that Azure Media Service's source of trust should be used.",
          "$ref": "#/definitions/MediaGraphCertificateSource"
        },
        "validationOptions": {
          "description": "Validation options to use when authenticating a TLS connection. By default, strict validation is used.",
          "$ref": "#/definitions/MediaGraphTlsValidationOptions"
        }
      },
      "allOf": [
        {
          "$ref": "#/definitions/MediaGraphEndpoint"
        },
        {}
      ],
      "description": "An endpoint that the graph can connect to, which must be connected over TLS/SSL.",
      "x-ms-discriminator-value": "#Microsoft.Media.MediaGraphTlsEndpoint"
    },
    "MediaGraphCertificateSource": {
      "type": "object",
      "required": [
        "@type"
      ],
      "discriminator": "@type",
      "properties": {
        "@type": {
          "type": "string",
          "description": "The discriminator for derived types."
        }
      },
      "description": "Base class for certificate sources."
    },
    "MediaGraphTlsValidationOptions": {
      "type": "object",
      "properties": {
        "ignoreHostname": {
          "type": "string",
          "description": "Boolean value ignoring the host name (common name) during validation."
        },
        "ignoreSignature": {
          "type": "string",
          "description": "Boolean value ignoring the integrity of the certificate chain at the current time."
        }
      },
      "description": "Options for controlling the authentication of TLS endpoints."
    },
    "MediaGraphPemCertificateList": {
      "properties": {
        "certificates": {
          "type": "array",
          "description": "PEM formatted public certificates one per entry.",
          "items": {
            "type": "string"
          }
        }
      },
      "required": [
        "certificates"
      ],
      "allOf": [
        {
          "$ref": "#/definitions/MediaGraphCertificateSource"
        },
        {}
      ],
      "description": "A list of PEM formatted certificates.",
      "x-ms-discriminator-value": "#Microsoft.Media.MediaGraphPemCertificateList"
    },
    "MediaGraphSink": {
      "type": "object",
      "required": [
        "@type",
        "inputs",
        "name"
      ],
      "discriminator": "@type",
      "properties": {
        "@type": {
          "type": "string",
          "description": "The discriminator for derived types."
        },
        "name": {
          "type": "string",
          "description": "Name to be used for the media graph sink."
        },
        "inputs": {
          "type": "array",
          "description": "An array of the names of the other nodes in the media graph, the outputs of which are used as input for this sink node.",
          "items": {
            "$ref": "#/definitions/MediaGraphNodeInput"
          }
        }
      },
      "description": "Enables a media graph to write media data to a destination outside of the Live Video Analytics IoT Edge module."
    },
    "MediaGraphNodeInput": {
      "type": "object",
      "properties": {
        "nodeName": {
          "type": "string",
          "description": "The name of another node in the media graph, the output of which is used as input to this node."
        },
        "outputSelectors": {
          "type": "array",
          "description": "Allows for the selection of particular streams from another node.",
          "items": {
            "$ref": "#/definitions/MediaGraphOutputSelector"
          }
        }
      },
      "description": "Represents the input to any node in a media graph."
    },
    "MediaGraphOutputSelector": {
      "properties": {
        "property": {
          "type": "string",
          "description": "The stream property to compare with.",
          "enum": [
            "mediaType"
          ],
          "x-ms-enum": {
            "name": "MediaGraphOutputSelectorProperty",
            "values": [
              {
                "value": "mediaType",
                "description": "The stream's MIME type or subtype."
              }
            ],
            "modelAsString": false
          }
        },
        "operator": {
          "type": "string",
          "description": "The operator to compare streams by.",
          "enum": [
            "is",
            "isNot"
          ],
          "x-ms-enum": {
            "name": "MediaGraphOutputSelectorOperator",
            "values": [
              {
                "value": "is",
                "description": "A media type is the same type or a subtype."
              },
              {
                "value": "isNot",
                "description": "A media type is not the same type or a subtype."
              }
            ],
            "modelAsString": false
          }
        },
        "value": {
          "type": "string",
          "description": "Value to compare against."
        }
      },
      "description": "Allows for the selection of particular streams from another node."
    },
    "MediaGraphFileSink": {
      "properties": {
        "filePathPattern": {
          "type": "string",
          "description": "Absolute file path pattern for creating new files on the Edge device.",
          "minLength": 1
        }
      },
      "required": [
        "filePathPattern"
      ],
      "allOf": [
        {
          "$ref": "#/definitions/MediaGraphSink"
        },
        {}
      ],
      "description": "Enables a media graph to write/store media (video and audio) to a file on the Edge device.",
      "x-ms-discriminator-value": "#Microsoft.Media.MediaGraphFileSink"
    },
    "MediaGraphAssetSink": {
      "properties": {
        "assetNamePattern": {
          "type": "string",
          "description": "A name pattern when creating new assets."
        },
        "segmentLength": {
          "type": "string",
          "format": "duration",
          "example": "PT30S",
          "description": "When writing media to an asset, wait until at least this duration of media has been accumulated on the Edge. Expressed in increments of 30 seconds, with a minimum of 30 seconds and a recommended maximum of 5 minutes."
        },
        "localMediaCachePath": {
          "type": "string",
          "description": "Path to a local file system directory for temporary caching of media, before writing to an Asset. Used when the Edge device is temporarily disconnected from Azure."
        },
        "localMediaCacheMaximumSizeMiB": {
          "type": "string",
          "description": "Maximum amount of disk space that can be used for temporary caching of media."
        }
      },
      "allOf": [
        {
          "$ref": "#/definitions/MediaGraphSink"
        },
        {}
      ],
      "description": "Enables a graph to record media to an Azure Media Services asset, for subsequent playback.",
      "x-ms-discriminator-value": "#Microsoft.Media.MediaGraphAssetSink"
    },
    "MediaGraphProcessor": {
      "type": "object",
      "required": [
        "@type",
        "inputs",
        "name"
      ],
      "discriminator": "@type",
      "properties": {
        "@type": {
          "type": "string",
          "description": "The discriminator for derived types."
        },
        "name": {
          "type": "string",
          "description": "The name for this processor node."
        },
        "inputs": {
          "type": "array",
          "description": "An array of the names of the other nodes in the media graph, the outputs of which are used as input for this processor node.",
          "items": {
            "$ref": "#/definitions/MediaGraphNodeInput"
          }
        }
      },
      "description": "A node that represents the desired processing of media in a graph. Takes media and/or events as inputs, and emits media and/or event as output."
    },
    "MediaGraphMotionDetectionProcessor": {
      "properties": {
        "sensitivity": {
          "type": "string",
          "description": "Enumeration that specifies the sensitivity of the motion detection processor.",
          "enum": [
            "Low",
            "Medium",
            "High"
          ],
          "x-ms-enum": {
            "name": "MediaGraphMotionDetectionSensitivity",
            "values": [
              {
                "value": "Low",
                "description": "Low Sensitivity."
              },
              {
                "value": "Medium",
                "description": "Medium Sensitivity."
              },
              {
                "value": "High",
                "description": "High Sensitivity."
              }
            ],
            "modelAsString": true
          }
        },
        "outputMotionRegion": {
          "type": "boolean",
          "description": "Indicates whether the processor should detect and output the regions, within the video frame, where motion was detected. Default is true."
        }
      },
      "allOf": [
        {
          "$ref": "#/definitions/MediaGraphProcessor"
        },
        {}
      ],
      "description": "A node that accepts raw video as input, and detects if there are moving objects present. If so, then it emits an event, and allows frames where motion was detected to pass through. Other frames are blocked/dropped.",
      "x-ms-discriminator-value": "#Microsoft.Media.MediaGraphMotionDetectionProcessor"
    },
    "MediaGraphExtensionProcessorBase": {
      "properties": {
        "endpoint": {
          "description": "Endpoint to which this processor should connect.",
          "$ref": "#/definitions/MediaGraphEndpoint"
        },
        "image": {
          "description": "Describes the parameters of the image that is sent as input to the endpoint.",
          "$ref": "#/definitions/MediaGraphImage"
        }
      },
      "allOf": [
        {
          "$ref": "#/definitions/MediaGraphProcessor"
        },
        {}
      ],
      "description": "Processor that allows for extensions, outside of the Live Video Analytics Edge module, to be integrated into the graph. It is the base class for various different kinds of extension processor types.",
      "x-ms-discriminator-value": "#Microsoft.Media.MediaGraphExtensionProcessorBase"
    },
    "MediaGraphHttpExtension": {
      "allOf": [
        {
          "$ref": "#/definitions/MediaGraphExtensionProcessorBase"
        },
        {}
      ],
      "description": "A processor that allows the media graph to send video frames (mostly at low frame rates e.g. <5 fps) to external inference container by leveraging HTTP based RESTful API. It then retrieves the inference results and relays them downstream to the next node.",
      "x-ms-discriminator-value": "#Microsoft.Media.MediaGraphHttpExtension"
    },
    "MediaGraphImage": {
      "type": "object",
      "properties": {
        "scale": {
          "$ref": "#/definitions/MediaGraphImageScale"
        },
        "format": {
          "$ref": "#/definitions/MediaGraphImageFormat"
        }
      },
      "description": "Describes the properties of an image frame."
    },
    "MediaGraphImageScale": {
      "type": "object",
      "properties": {
        "mode": {
          "type": "string",
          "description": "Describes the modes for scaling an input video frame into an image, before it is sent to an inference engine.",
          "enum": [
            "PreserveAspectRatio",
            "Pad",
            "Stretch"
          ],
          "x-ms-enum": {
            "name": "MediaGraphImageScaleMode",
            "values": [
              {
                "value": "PreserveAspectRatio",
                "description": "Use the same aspect ratio as the input frame."
              },
              {
                "value": "Pad",
                "description": "Center pad the input frame to match the given dimensions."
              },
              {
                "value": "Stretch",
                "description": "Stretch input frame to match given dimensions."
              }
            ],
            "modelAsString": true
          }
        },
        "width": {
          "type": "string",
          "description": "The desired output width of the image."
        },
        "height": {
          "type": "string",
          "description": "The desired output height of the image."
        }
      },
      "description": "The scaling mode for the image."
    },
    "MediaGraphImageFormat": {
      "required": [
        "@type"
      ],
      "type": "object",
      "discriminator": "@type",
      "properties": {
        "@type": {
          "type": "string",
          "description": "The discriminator for derived types."
        }
      },
      "description": "Encoding settings for an image.",
      "x-ms-discriminator-value": "#Microsoft.Media.MediaGraphImageFormat"
    },
    "MediaGraphImageFormatRaw": {
      "properties": {
        "pixelFormat": {
          "type": "string",
          "enum": [
            "Yuv420p",
            "Rgb565be",
            "Rgb565le",
            "Rgb555be",
            "Rgb555le",
            "Rgb24",
            "Bgr24",
            "Argb",
            "Rgba",
            "Abgr",
            "Bgra"
          ],
          "x-ms-enum": {
            "name": "MediaGraphImageFormatRawPixelFormat",
            "values": [
              {
                "value": "Yuv420p",
                "description": "Planar YUV 4:2:0, 12bpp, (1 Cr and Cb sample per 2x2 Y samples)."
              },
              {
                "value": "Rgb565be",
                "description": "Packed RGB 5:6:5, 16bpp, (msb)   5R 6G 5B(lsb), big-endian."
              },
              {
                "value": "Rgb565le",
                "description": "Packed RGB 5:6:5, 16bpp, (msb)   5R 6G 5B(lsb), little-endian."
              },
              {
                "value": "Rgb555be",
                "description": "Packed RGB 5:5:5, 16bpp, (msb)1X 5R 5G 5B(lsb), big-endian , X=unused/undefined."
              },
              {
                "value": "Rgb555le",
                "description": "Packed RGB 5:5:5, 16bpp, (msb)1X 5R 5G 5B(lsb), little-endian, X=unused/undefined."
              },
              {
                "value": "Rgb24",
                "description": "Packed RGB 8:8:8, 24bpp, RGBRGB."
              },
              {
                "value": "Bgr24",
                "description": "Packed RGB 8:8:8, 24bpp, BGRBGR."
              },
              {
                "value": "Argb",
                "description": "Packed ARGB 8:8:8:8, 32bpp, ARGBARGB."
              },
              {
                "value": "Rgba",
                "description": "Packed RGBA 8:8:8:8, 32bpp, RGBARGBA."
              },
              {
                "value": "Abgr",
                "description": "Packed ABGR 8:8:8:8, 32bpp, ABGRABGR."
              },
              {
                "value": "Bgra",
                "description": "Packed BGRA 8:8:8:8, 32bpp, BGRABGRA."
              }
            ],
            "modelAsString": true
          }
        }
      },
      "allOf": [
        {
          "$ref": "#/definitions/MediaGraphImageFormat"
        },
        {}
      ],
      "description": "Encoding settings for raw images.",
      "x-ms-discriminator-value": "#Microsoft.Media.MediaGraphImageFormatRaw"
    },
    "MediaGraphImageFormatEncoded": {
      "properties": {
        "encoding": {
          "type": "string",
          "description": "The different encoding formats that can be used for the image.",
          "default": "Jpeg",
          "enum": [
            "Jpeg",
            "Bmp",
            "Png"
          ],
          "x-ms-enum": {
            "name": "MediaGraphImageEncodingFormat",
            "values": [
              {
                "value": "Jpeg",
                "description": "JPEG image format."
              },
              {
                "value": "Bmp",
                "description": "BMP image format."
              },
              {
                "value": "Png",
                "description": "PNG image format."
              }
            ],
            "modelAsString": true
          }
        },
        "quality": {
          "type": "string",
          "description": "The image quality (used for JPEG only). Value must be between 0 to 100 (best quality)."
        }
      },
      "allOf": [
        {
          "$ref": "#/definitions/MediaGraphImageFormat"
        },
        {}
      ],
      "description": "Allowed formats for the image.",
      "x-ms-discriminator-value": "#Microsoft.Media.MediaGraphImageFormatEncoded"
    },
    "MediaGraphSignalGateProcessor": {
      "properties": {
        "activationEvaluationWindow": {
          "type": "string",
          "example": "PT1.0S",
          "description": "The period of time over which the gate gathers input events, before evaluating them."
        },
        "activationSignalOffset": {
          "type": "string",
          "example": "-PT1.0S",
          "description": "Signal offset once the gate is activated (can be negative). It is an offset between the time the event is received, and the timestamp of the first media sample (eg. video frame) that is allowed through by the gate."
        },
        "minimumActivationTime": {
          "type": "string",
          "example": "PT1S",
          "description": "The minimum period for which the gate remains open, in the absence of subsequent triggers (events)."
        },
        "maximumActivationTime": {
          "type": "string",
          "example": "PT2S",
          "description": "The maximum period for which the gate remains open, in the presence of subsequent events."
        }
      },
      "allOf": [
        {
          "$ref": "#/definitions/MediaGraphProcessor"
        },
        {}
      ],
      "description": "A signal gate determines when to block (gate) incoming media, and when to allow it through. It gathers input events over the activationEvaluationWindow, and determines whether to open or close the gate.",
      "x-ms-discriminator-value": "#Microsoft.Media.MediaGraphSignalGateProcessor"
    },
    "MediaGraphFrameRateFilterProcessor": {
      "properties": {
        "maximumFps": {
          "type": "string",
          "description": "Ensures that the frame rate of the video leaving this processor does not exceed this limit."
        }
      },
      "allOf": [
        {
          "$ref": "#/definitions/MediaGraphProcessor"
        },
        {}
      ],
      "description": "Limits the frame rate on the input video stream based on the maximumFps property.",
      "x-ms-discriminator-value": "#Microsoft.Media.MediaGraphFrameRateFilterProcessor"
    }
  }
}
