{
  "schemes": [
    "https"
  ],
  "swagger": "2.0",
  "info": {
    "title": "Azure Media Services",
    "description": "This Swagger was generated by the API Framework.",
    "version": "2018-03-30-preview"
  },
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "securityDefinitions": {
    "azure_auth": {
      "type": "oauth2",
      "authorizationUrl": "https://login.microsoftonline.com/common/oauth2/authorize",
      "flow": "implicit",
      "description": "Azure Active Directory OAuth2 Flow",
      "scopes": {
        "user_impersonation": "Impersonate your user account"
      }
    }
  },
  "definitions": {
    "ContentKeyPolicyPlayReadyExplicitAnalogTelevisionRestriction": {
      "properties": {
        "bestEffort": {
          "type": "boolean",
          "description": "Indicates whether this restriction is enforced on a Best Effort basis."
        },
        "configurationData": {
          "type": "integer",
          "format": "int32",
          "description": "Configures the restriction control bits. Must be between 0 and 3 inclusive."
        }
      },
      "type": "object",
      "required": [
        "bestEffort",
        "configurationData"
      ],
      "description": "Configures the Explicit Analog Television Output Restriction control bits. For further details see the PlayReady Compliance Rules."
    },
    "ContentKeyPolicyPlayReadyContentKeyLocation": {
      "discriminator": "@odata.type",
      "properties": {
        "@odata.type": {
          "type": "string",
          "description": "The discriminator for derived types."
        }
      },
      "type": "object",
      "required": [
        "@odata.type"
      ],
      "description": "Base class for content key ID location. A derived class must be used to represent the location."
    },
    "ContentKeyPolicyPlayReadyContentEncryptionKeyFromHeader": {
      "x-ms-discriminator-value": "#Microsoft.Media.ContentKeyPolicyPlayReadyContentEncryptionKeyFromHeader",
      "allOf": [
        {
          "$ref": "#/definitions/ContentKeyPolicyPlayReadyContentKeyLocation"
        }
      ],
      "properties": {},
      "type": "object",
      "description": "Specifies that the content key ID is in the PlayReady header."
    },
    "ContentKeyPolicyPlayReadyContentEncryptionKeyFromKeyIdentifier": {
      "x-ms-discriminator-value": "#Microsoft.Media.ContentKeyPolicyPlayReadyContentEncryptionKeyFromKeyIdentifier",
      "allOf": [
        {
          "$ref": "#/definitions/ContentKeyPolicyPlayReadyContentKeyLocation"
        }
      ],
      "properties": {
        "keyId": {
          "type": "string",
          "format": "uuid",
          "description": "The content key ID."
        }
      },
      "type": "object",
      "required": [
        "keyId"
      ],
      "description": "Specifies that the content key ID is specified in the PlayReady configuration."
    },
    "ContentKeyPolicyPlayReadyPlayRight": {
      "properties": {
        "firstPlayExpiration": {
          "type": "string",
          "format": "duration",
          "description": "The amount of time that the license is valid after the license is first used to play content."
        },
        "scmsRestriction": {
          "type": "integer",
          "format": "int32",
          "description": "Configures the Serial Copy Management System (SCMS) in the license. Must be between 0 and 3 inclusive."
        },
        "agcAndColorStripeRestriction": {
          "type": "integer",
          "format": "int32",
          "description": "Configures Automatic Gain Control (AGC) and Color Stripe in the license. Must be between 0 and 3 inclusive."
        },
        "explicitAnalogTelevisionOutputRestriction": {
          "$ref": "#/definitions/ContentKeyPolicyPlayReadyExplicitAnalogTelevisionRestriction",
          "description": "Configures the Explicit Analog Television Output Restriction in the license. Configuration data must be between 0 and 3 inclusive."
        },
        "digitalVideoOnlyContentRestriction": {
          "type": "boolean",
          "description": "Enables the Image Constraint For Analog Component Video Restriction in the license."
        },
        "imageConstraintForAnalogComponentVideoRestriction": {
          "type": "boolean",
          "description": "Enables the Image Constraint For Analog Component Video Restriction in the license."
        },
        "imageConstraintForAnalogComputerMonitorRestriction": {
          "type": "boolean",
          "description": "Enables the Image Constraint For Analog Component Video Restriction in the license."
        },
        "allowPassingVideoContentToUnknownOutput": {
          "type": "string",
          "enum": [
            "Unknown",
            "NotAllowed",
            "Allowed",
            "AllowedWithVideoConstriction"
          ],
          "x-ms-enum": {
            "name": "ContentKeyPolicyPlayReadyUnknownOutputPassingOption",
            "values": [
              {
                "value": "Unknown",
                "description": "Represents a ContentKeyPolicyPlayReadyUnknownOutputPassingOption that is unavailable in current API version."
              },
              {
                "value": "NotAllowed",
                "description": "Passing the video portion of protected content to an Unknown Output is not allowed."
              },
              {
                "value": "Allowed",
                "description": "Passing the video portion of protected content to an Unknown Output is allowed."
              },
              {
                "value": "AllowedWithVideoConstriction",
                "description": "Passing the video portion of protected content to an Unknown Output is allowed but with constrained resolution."
              }
            ],
            "modelAsExtensible": true
          },
          "description": "Configures Unknown output handling settings of the license."
        },
        "uncompressedDigitalVideoOpl": {
          "type": "integer",
          "format": "int32",
          "description": "Specifies the output protection level for uncompressed digital video."
        },
        "compressedDigitalVideoOpl": {
          "type": "integer",
          "format": "int32",
          "description": "Specifies the output protection level for compressed digital video."
        },
        "analogVideoOpl": {
          "type": "integer",
          "format": "int32",
          "description": "Specifies the output protection level for compressed digital audio."
        },
        "compressedDigitalAudioOpl": {
          "type": "integer",
          "format": "int32",
          "description": "Specifies the output protection level for compressed digital audio."
        },
        "uncompressedDigitalAudioOpl": {
          "type": "integer",
          "format": "int32",
          "description": "Specifies the output protection level for uncompressed digital audio."
        }
      },
      "type": "object",
      "required": [
        "digitalVideoOnlyContentRestriction",
        "imageConstraintForAnalogComponentVideoRestriction",
        "imageConstraintForAnalogComputerMonitorRestriction",
        "allowPassingVideoContentToUnknownOutput"
      ],
      "description": "Configures the Play Right in the PlayReady license."
    },
    "ContentKeyPolicyTokenClaim": {
      "properties": {
        "claimType": {
          "type": "string",
          "description": "Token claim type."
        },
        "claimValue": {
          "type": "string",
          "description": "Token claim value."
        }
      },
      "type": "object",
      "description": "Represents a token claim."
    },
    "ContentKeyPolicyPlayReadyLicense": {
      "properties": {
        "allowTestDevices": {
          "type": "boolean",
          "description": "A flag indicating whether test devices can use the license."
        },
        "beginDate": {
          "type": "string",
          "format": "date-time",
          "description": "The begin date of license"
        },
        "expirationDate": {
          "type": "string",
          "format": "date-time",
          "description": "The expiration date of license."
        },
        "relativeBeginDate": {
          "type": "string",
          "format": "duration",
          "description": "The relative begin date of license."
        },
        "relativeExpirationDate": {
          "type": "string",
          "format": "duration",
          "description": "The relative expiration date of license."
        },
        "gracePeriod": {
          "type": "string",
          "format": "duration",
          "description": "The grace period of license."
        },
        "playRight": {
          "$ref": "#/definitions/ContentKeyPolicyPlayReadyPlayRight",
          "description": "The license PlayRight"
        },
        "licenseType": {
          "type": "string",
          "enum": [
            "Unknown",
            "NonPersistent",
            "Persistent"
          ],
          "x-ms-enum": {
            "name": "ContentKeyPolicyPlayReadyLicenseType",
            "values": [
              {
                "value": "Unknown",
                "description": "Represents a ContentKeyPolicyPlayReadyLicenseType that is unavailable in current API version."
              },
              {
                "value": "NonPersistent",
                "description": "Non persistent license."
              },
              {
                "value": "Persistent",
                "description": "Persistent license. Allows offline playback."
              }
            ],
            "modelAsExtensible": true
          },
          "description": "The license type."
        },
        "contentKeyLocation": {
          "$ref": "#/definitions/ContentKeyPolicyPlayReadyContentKeyLocation",
          "description": "The content key location."
        },
        "contentType": {
          "type": "string",
          "enum": [
            "Unknown",
            "Unspecified",
            "UltraVioletDownload",
            "UltraVioletStreaming"
          ],
          "x-ms-enum": {
            "name": "ContentKeyPolicyPlayReadyContentType",
            "values": [
              {
                "value": "Unknown",
                "description": "Represents a ContentKeyPolicyPlayReadyContentType that is unavailable in current API version."
              },
              {
                "value": "Unspecified",
                "description": "Unspecified content type."
              },
              {
                "value": "UltraVioletDownload",
                "description": "Ultraviolet download content type."
              },
              {
                "value": "UltraVioletStreaming",
                "description": "Ultraviolet streaming content type."
              }
            ],
            "modelAsExtensible": true
          },
          "description": "The PlayReady content type."
        }
      },
      "type": "object",
      "required": [
        "allowTestDevices",
        "licenseType",
        "contentKeyLocation",
        "contentType"
      ],
      "description": "The PlayReady license"
    },
    "ContentKeyPolicyRestriction": {
      "discriminator": "@odata.type",
      "properties": {
        "@odata.type": {
          "type": "string",
          "description": "The discriminator for derived types."
        }
      },
      "type": "object",
      "required": [
        "@odata.type"
      ],
      "description": "Base class for Content Key Policy restrictions. A derived class must be used to create a restriction."
    },
    "ContentKeyPolicyOpenRestriction": {
      "x-ms-discriminator-value": "#Microsoft.Media.ContentKeyPolicyOpenRestriction",
      "allOf": [
        {
          "$ref": "#/definitions/ContentKeyPolicyRestriction"
        }
      ],
      "properties": {},
      "type": "object",
      "description": "Represents an open restriction. License or key will be delivered on every request."
    },
    "ContentKeyPolicyUnknownRestriction": {
      "x-ms-discriminator-value": "#Microsoft.Media.ContentKeyPolicyUnknownRestriction",
      "allOf": [
        {
          "$ref": "#/definitions/ContentKeyPolicyRestriction"
        }
      ],
      "properties": {},
      "type": "object",
      "description": "Represents a ContentKeyPolicyRestriction that is unavailable in the current API version."
    },
    "ContentKeyPolicyConfiguration": {
      "discriminator": "@odata.type",
      "properties": {
        "@odata.type": {
          "type": "string",
          "description": "The discriminator for derived types."
        }
      },
      "type": "object",
      "required": [
        "@odata.type"
      ],
      "description": "Base class for Content Key Policy configuration. A derived class must be used to create a configuration."
    },
    "ContentKeyPolicyRestrictionTokenKey": {
      "discriminator": "@odata.type",
      "properties": {
        "@odata.type": {
          "type": "string",
          "description": "The discriminator for derived types."
        }
      },
      "type": "object",
      "required": [
        "@odata.type"
      ],
      "description": "Base class for Content Key Policy key for token validation. A derived class must be used to create a token key."
    },
    "ContentKeyPolicySymmetricTokenKey": {
      "x-ms-discriminator-value": "#Microsoft.Media.ContentKeyPolicySymmetricTokenKey",
      "allOf": [
        {
          "$ref": "#/definitions/ContentKeyPolicyRestrictionTokenKey"
        }
      ],
      "properties": {
        "keyValue": {
          "type": "string",
          "format": "byte",
          "description": "The key value of the key"
        }
      },
      "type": "object",
      "required": [
        "keyValue"
      ],
      "description": "Specifies a symmetric key for token validation."
    },
    "ContentKeyPolicyRsaTokenKey": {
      "x-ms-discriminator-value": "#Microsoft.Media.ContentKeyPolicyRsaTokenKey",
      "allOf": [
        {
          "$ref": "#/definitions/ContentKeyPolicyRestrictionTokenKey"
        }
      ],
      "properties": {
        "exponent": {
          "type": "string",
          "format": "byte",
          "description": "The RSA Parameter exponent"
        },
        "modulus": {
          "type": "string",
          "format": "byte",
          "description": "The RSA Parameter modulus"
        }
      },
      "type": "object",
      "required": [
        "exponent",
        "modulus"
      ],
      "description": "Specifies a RSA key for token validation"
    },
    "ContentKeyPolicyX509CertificateTokenKey": {
      "x-ms-discriminator-value": "#Microsoft.Media.ContentKeyPolicyX509CertificateTokenKey",
      "allOf": [
        {
          "$ref": "#/definitions/ContentKeyPolicyRestrictionTokenKey"
        }
      ],
      "properties": {
        "rawBody": {
          "type": "string",
          "format": "byte",
          "description": "The raw data field of a certificate in PKCS 12 format (X509Certificate2 in .NET)"
        }
      },
      "type": "object",
      "required": [
        "rawBody"
      ],
      "description": "Specifies a certificate for token validation."
    },
    "ContentKeyPolicyTokenRestriction": {
      "x-ms-discriminator-value": "#Microsoft.Media.ContentKeyPolicyTokenRestriction",
      "allOf": [
        {
          "$ref": "#/definitions/ContentKeyPolicyRestriction"
        }
      ],
      "properties": {
        "issuer": {
          "type": "string",
          "description": "The token issuer."
        },
        "audience": {
          "type": "string",
          "description": "The audience for the token."
        },
        "primaryVerificationKey": {
          "$ref": "#/definitions/ContentKeyPolicyRestrictionTokenKey",
          "description": "The primary verification key."
        },
        "alternateVerificationKeys": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/ContentKeyPolicyRestrictionTokenKey"
          },
          "description": "A list of alternative verification keys."
        },
        "requiredClaims": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/ContentKeyPolicyTokenClaim"
          },
          "description": "A list of required token claims."
        },
        "restrictionTokenType": {
          "type": "string",
          "enum": [
            "Unknown",
            "Swt",
            "Jwt"
          ],
          "x-ms-enum": {
            "name": "ContentKeyPolicyRestrictionTokenType",
            "values": [
              {
                "value": "Unknown",
                "description": "Represents a ContentKeyPolicyRestrictionTokenType that is unavailable in current API version."
              },
              {
                "value": "Swt",
                "description": "Simple Web Token."
              },
              {
                "value": "Jwt",
                "description": "JSON Web Token."
              }
            ],
            "modelAsExtensible": true
          },
          "description": "The type of token."
        },
        "openIdConnectDiscoveryDocument": {
          "type": "string",
          "description": "The OpenID connect discovery document."
        }
      },
      "type": "object",
      "required": [
        "issuer",
        "audience",
        "primaryVerificationKey",
        "restrictionTokenType"
      ],
      "description": "Represents a token restriction. Provided token must match these requirements for successful license or key delivery."
    },
    "ContentKeyPolicyClearKeyConfiguration": {
      "x-ms-discriminator-value": "#Microsoft.Media.ContentKeyPolicyClearKeyConfiguration",
      "allOf": [
        {
          "$ref": "#/definitions/ContentKeyPolicyConfiguration"
        }
      ],
      "properties": {},
      "type": "object",
      "description": "Represents a configuration for non-DRM keys."
    },
    "ContentKeyPolicyUnknownConfiguration": {
      "x-ms-discriminator-value": "#Microsoft.Media.ContentKeyPolicyUnknownConfiguration",
      "allOf": [
        {
          "$ref": "#/definitions/ContentKeyPolicyConfiguration"
        }
      ],
      "properties": {},
      "type": "object",
      "description": "Represents a ContentKeyPolicyConfiguration that is unavailable in the current API version."
    },
    "ContentKeyPolicyWidevineConfiguration": {
      "x-ms-discriminator-value": "#Microsoft.Media.ContentKeyPolicyWidevineConfiguration",
      "allOf": [
        {
          "$ref": "#/definitions/ContentKeyPolicyConfiguration"
        }
      ],
      "properties": {
        "widevineTemplate": {
          "type": "string",
          "description": "The Widevine template."
        }
      },
      "type": "object",
      "required": [
        "widevineTemplate"
      ],
      "description": "Specifies a configuration for Widevine licenses."
    },
    "ContentKeyPolicyPlayReadyConfiguration": {
      "x-ms-discriminator-value": "#Microsoft.Media.ContentKeyPolicyPlayReadyConfiguration",
      "allOf": [
        {
          "$ref": "#/definitions/ContentKeyPolicyConfiguration"
        }
      ],
      "properties": {
        "licenses": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/ContentKeyPolicyPlayReadyLicense"
          },
          "description": "The PlayReady licenses."
        },
        "responseCustomData": {
          "type": "string",
          "description": "The custom response data."
        }
      },
      "type": "object",
      "required": [
        "licenses"
      ],
      "description": "Specifies a configuration for PlayReady licenses."
    },
    "ContentKeyPolicyFairPlayConfiguration": {
      "x-ms-discriminator-value": "#Microsoft.Media.ContentKeyPolicyFairPlayConfiguration",
      "allOf": [
        {
          "$ref": "#/definitions/ContentKeyPolicyConfiguration"
        }
      ],
      "properties": {
        "ask": {
          "type": "string",
          "format": "byte",
          "description": "The key that must be used as FairPlay ASk."
        },
        "fairPlayPfxPassword": {
          "type": "string",
          "description": "The password encrypting FairPlay certificate in PKCS 12 (pfx) format."
        },
        "fairPlayPfx": {
          "type": "string",
          "description": "The Base64 representation of FairPlay certificate in PKCS 12 (pfx) format (including private key)."
        },
        "rentalAndLeaseKeyType": {
          "type": "string",
          "enum": [
            "Unknown",
            "Undefined",
            "PersistentUnlimited",
            "PersistentLimited"
          ],
          "x-ms-enum": {
            "name": "ContentKeyPolicyFairPlayRentalAndLeaseKeyType",
            "values": [
              {
                "value": "Unknown",
                "description": "Represents a ContentKeyPolicyFairPlayRentalAndLeaseKeyType that is unavailable in current API version."
              },
              {
                "value": "Undefined",
                "description": "Key duration is not specified."
              },
              {
                "value": "PersistentUnlimited",
                "description": "Content key can be persisted with an unlimited duration"
              },
              {
                "value": "PersistentLimited",
                "description": "Content key can be persisted and the valid duration is limited by the Rental Duration value"
              }
            ],
            "modelAsExtensible": true
          },
          "description": "The rental and lease key type."
        },
        "rentalDuration": {
          "type": "integer",
          "format": "int64",
          "description": "The rental duration. Must be greater than or equal to 0."
        }
      },
      "type": "object",
      "required": [
        "ask",
        "fairPlayPfxPassword",
        "fairPlayPfx",
        "rentalAndLeaseKeyType",
        "rentalDuration"
      ],
      "description": "Specifies a configuration for FairPlay licenses."
    },
    "ContentKeyPolicyOption": {
      "properties": {
        "policyOptionId": {
          "type": "string",
          "format": "uuid",
          "description": "The legacy Policy Option ID.",
          "readOnly": true,
          "x-nullable": false
        },
        "name": {
          "type": "string",
          "description": "The Policy Option description."
        },
        "configuration": {
          "$ref": "#/definitions/ContentKeyPolicyConfiguration",
          "description": "The key delivery configuration."
        },
        "restriction": {
          "$ref": "#/definitions/ContentKeyPolicyRestriction",
          "description": "The requirements that must be met to deliver keys with this configuration"
        }
      },
      "type": "object",
      "required": [
        "configuration",
        "restriction"
      ],
      "description": "Represents a policy option."
    },
    "ContentKeyPolicyProperties": {
      "properties": {
        "policyId": {
          "type": "string",
          "format": "uuid",
          "description": "The legacy Policy ID.",
          "readOnly": true,
          "x-nullable": false
        },
        "created": {
          "type": "string",
          "format": "date-time",
          "description": "The creation date of the Policy",
          "readOnly": true,
          "x-nullable": false
        },
        "lastModified": {
          "type": "string",
          "format": "date-time",
          "description": "The last modified date of the Policy",
          "readOnly": true,
          "x-nullable": false
        },
        "description": {
          "type": "string",
          "description": "A description for the Policy."
        },
        "options": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/ContentKeyPolicyOption"
          },
          "description": "The Key Policy options."
        }
      },
      "type": "object",
      "required": [
        "options"
      ],
      "description": "The properties of the Content Key Policy."
    },
    "ContentKeyPolicy": {
      "allOf": [
        {
          "$ref": "./Common.json#/definitions/ProxyResource"
        }
      ],
      "properties": {
        "properties": {
          "$ref": "#/definitions/ContentKeyPolicyProperties",
          "x-ms-client-flatten": true
        }
      },
      "type": "object",
      "description": "A Content Key Policy resource."
    },
    "ContentKeyPolicyCollection": {
      "properties": {
        "value": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/ContentKeyPolicy"
          },
          "description": "A collection of ContentKeyPolicy items."
        },
        "@odata.nextLink": {
          "type": "string",
          "description": "A link to the next page of the collection (when the collection contains too many results to return in one response)."
        }
      },
      "type": "object",
      "description": "A collection of ContentKeyPolicy items."
    }
  },
  "paths": {
    "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Media/mediaServices/{accountName}/contentKeyPolicies": {
      "get": {
        "summary": "List Content Key Policies",
        "description": "Lists the Content Key Policies in the account",
        "operationId": "ContentKeyPolicies_List",
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/ContentKeyPolicyCollection"
            }
          },
          "default": {
            "description": "Detailed error information.",
            "schema": {
              "$ref": "./Encoding.json#/definitions/ApiError"
            }
          }
        },
        "parameters": [
          {
            "$ref": "#/parameters/SubscriptionId"
          },
          {
            "$ref": "#/parameters/ResourceGroupName"
          },
          {
            "$ref": "#/parameters/MediaServicesAccountName"
          },
          {
            "$ref": "#/parameters/ApiVersion"
          },
          {
            "name": "$filter",
            "in": "query",
            "required": false,
            "type": "string",
            "description": "Restricts the set of items returned."
          },
          {
            "name": "$top",
            "in": "query",
            "required": false,
            "type": "integer",
            "description": "Specifies a non-negative integer n that limits the number of items returned from a collection. The service returns the number of available items up to but not greater than the specified value n."
          },
          {
            "name": "$orderby",
            "in": "query",
            "required": false,
            "type": "string",
            "description": "Specifies the key by which the result collection should be ordered."
          }
        ],
        "x-ms-pageable": {
          "nextLinkName": "@odata.nextLink"
        },
        "x-ms-odata": "#/definitions/ContentKeyPolicy",
        "x-ms-examples": {
          "Lists all Content Key Policies": {
            "$ref": "examples/content-key-policies-list-all.json"
          },
          "Lists Content Key Policies ordered by last modified.": {
            "$ref": "examples/content-key-policies-list-by-lastModified.json"
          },
          "Lists Content Key Policies with created and last modified filters.": {
            "$ref": "examples/content-key-policies-list-in-date-range.json"
          }
        }
      }
    },
    "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Media/mediaServices/{accountName}/contentKeyPolicies/{contentKeyPolicyName}": {
      "get": {
        "summary": "Get a Content Key Policy",
        "description": "Get the details of a Content Key Policy in the Media Services account",
        "operationId": "ContentKeyPolicies_Get",
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/ContentKeyPolicy"
            }
          },
          "404": {
            "description": "NotFound"
          },
          "default": {
            "description": "Detailed error information.",
            "schema": {
              "$ref": "./Encoding.json#/definitions/ApiError"
            }
          }
        },
        "parameters": [
          {
            "$ref": "#/parameters/SubscriptionId"
          },
          {
            "$ref": "#/parameters/ResourceGroupName"
          },
          {
            "$ref": "#/parameters/MediaServicesAccountName"
          },
          {
            "name": "contentKeyPolicyName",
            "in": "path",
            "required": true,
            "type": "string",
            "description": "The Content Key Policy name."
          },
          {
            "$ref": "#/parameters/ApiVersion"
          }
        ],
        "x-ms-examples": {
          "Get a Content Key Policy by name": {
            "$ref": "examples/content-key-policies-get-by-name.json"
          }
        }
      },
      "put": {
        "summary": "Create or update an Content Key Policy",
        "description": "Create or update a Content Key Policy in the Media Services account",
        "operationId": "ContentKeyPolicies_CreateOrUpdate",
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/ContentKeyPolicy"
            }
          },
          "201": {
            "description": "Created",
            "schema": {
              "$ref": "#/definitions/ContentKeyPolicy"
            }
          },
          "default": {
            "description": "Detailed error information.",
            "schema": {
              "$ref": "./Encoding.json#/definitions/ApiError"
            }
          }
        },
        "parameters": [
          {
            "$ref": "#/parameters/SubscriptionId"
          },
          {
            "$ref": "#/parameters/ResourceGroupName"
          },
          {
            "$ref": "#/parameters/MediaServicesAccountName"
          },
          {
            "name": "contentKeyPolicyName",
            "in": "path",
            "required": true,
            "type": "string",
            "description": "The Content Key Policy name."
          },
          {
            "name": "parameters",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/ContentKeyPolicy"
            },
            "description": "The request parameters"
          },
          {
            "$ref": "#/parameters/ApiVersion"
          }
        ],
        "x-ms-examples": {
          "Creates a Content Key Policy with PlayReady option and Open Restriction": {
            "$ref": "examples/content-key-policies-create-playready-open.json"
          },
          "Creates a Content Key Policy with Widevine option and Token Restriction": {
            "$ref": "examples/content-key-policies-create-widevine-token.json"
          },
          "Creates a Content Key Policy with ClearKey option and Token Restriction": {
            "$ref": "examples/content-key-policies-create-nodrm-token.json"
          },
          "Creates a Content Key Policy with multiple options": {
            "$ref": "examples/content-key-policies-create-multiple-options.json"
          }
        }
      },
      "delete": {
        "summary": "Delete a Content Key Policy",
        "description": "Deletes a Content Key Policy in the Media Services account",
        "operationId": "ContentKeyPolicies_Delete",
        "responses": {
          "200": {
            "description": "OK"
          },
          "204": {
            "description": "NoContent"
          },
          "default": {
            "description": "Detailed error information.",
            "schema": {
              "$ref": "./Encoding.json#/definitions/ApiError"
            }
          }
        },
        "parameters": [
          {
            "$ref": "#/parameters/SubscriptionId"
          },
          {
            "$ref": "#/parameters/ResourceGroupName"
          },
          {
            "$ref": "#/parameters/MediaServicesAccountName"
          },
          {
            "name": "contentKeyPolicyName",
            "in": "path",
            "required": true,
            "type": "string",
            "description": "The Content Key Policy name."
          },
          {
            "$ref": "#/parameters/ApiVersion"
          }
        ],
        "x-ms-examples": {
          "Delete a Key Policy": {
            "$ref": "examples/content-key-policies-delete.json"
          }
        }
      },
      "patch": {
        "summary": "Update a Content Key Policy",
        "description": "Updates an existing Content Key Policy in the Media Services account",
        "operationId": "ContentKeyPolicies_Update",
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/ContentKeyPolicy"
            }
          },
          "default": {
            "description": "Detailed error information.",
            "schema": {
              "$ref": "./Encoding.json#/definitions/ApiError"
            }
          }
        },
        "parameters": [
          {
            "$ref": "#/parameters/SubscriptionId"
          },
          {
            "$ref": "#/parameters/ResourceGroupName"
          },
          {
            "$ref": "#/parameters/MediaServicesAccountName"
          },
          {
            "name": "contentKeyPolicyName",
            "in": "path",
            "required": true,
            "type": "string",
            "description": "The Content Key Policy name."
          },
          {
            "name": "parameters",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/ContentKeyPolicy"
            },
            "description": "The request parameters"
          },
          {
            "$ref": "#/parameters/ApiVersion"
          }
        ],
        "x-ms-examples": {
          "Update a Content Key Policy": {
            "$ref": "examples/content-key-policies-update.json"
          }
        }
      }
    },
    "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Media/mediaServices/{accountName}/contentKeyPolicies/{contentKeyPolicyName}/getPolicyPropertiesWithSecrets": {
      "post": {
        "summary": "Get a Content Key Policy with secrets",
        "description": "Get a Content Key Policy including secret values",
        "operationId": "ContentKeyPolicies_GetPolicyPropertiesWithSecrets",
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/ContentKeyPolicyProperties"
            }
          },
          "404": {
            "description": "NotFound"
          },
          "default": {
            "description": "Detailed error information.",
            "schema": {
              "$ref": "./Encoding.json#/definitions/ApiError"
            }
          }
        },
        "parameters": [
          {
            "$ref": "#/parameters/SubscriptionId"
          },
          {
            "$ref": "#/parameters/ResourceGroupName"
          },
          {
            "$ref": "#/parameters/MediaServicesAccountName"
          },
          {
            "name": "contentKeyPolicyName",
            "in": "path",
            "required": true,
            "type": "string",
            "description": "The Content Key Policy name."
          },
          {
            "$ref": "#/parameters/ApiVersion"
          }
        ],
        "x-ms-examples": {
          "Get an Content Key Policy with secrets": {
            "$ref": "examples/content-key-policies-get-with-secrets.json"
          }
        }
      }
    }
  },
  "parameters": {
    "SubscriptionId": {
      "name": "subscriptionId",
      "in": "path",
      "required": true,
      "type": "string",
      "description": "The unique identifier for a Microsoft Azure subscription."
    },
    "ResourceGroupName": {
      "name": "resourceGroupName",
      "in": "path",
      "required": true,
      "type": "string",
      "description": "The name of the resource group within the Azure subscription.",
      "x-ms-parameter-location": "method"
    },
    "MediaServicesAccountName": {
      "name": "accountName",
      "in": "path",
      "required": true,
      "type": "string",
      "description": "The Media Services account name.",
      "x-ms-parameter-location": "method"
    },
    "ApiVersion": {
      "name": "api-version",
      "in": "query",
      "required": true,
      "type": "string",
      "description": "The Version of the API to be used with the client request."
    }
  }
}
