{
  "operationId": "Pools_CreatePool",
  "title": "Creates a VirtualMachineConfiguration pool with extensions",
  "parameters": {
    "batchUrl": "account.region.batch.azure.com",
    "api-version": "2025-06-01",
    "client-request-id": "00000000-0000-0000-0000-000000000000",
    "ocp-date": "Fri, 17 Feb 2025 00:00:00 GMT",
    "pool": {
      "id": "pool2",
      "vmSize": "Standard_D4d_v5",
      "virtualMachineConfiguration": {
        "imageReference": {
          "publisher": "Canonical",
          "offer": "ubuntu-24_04-lts",
          "sku": "server"
        },
        "nodeAgentSKUId": "batch.node.ubuntu 20.04",
        "extensions": [
          {
            "name": "batchextension1",
            "type": "KeyVaultForLinux",
            "publisher": "Microsoft.Azure.KeyVault",
            "typeHandlerVersion": "2.0",
            "autoUpgradeMinorVersion": true,
            "enableAutomaticUpgrade": true,
            "settings": {
              "secretsManagementSettingsKey": "secretsManagementSettingsValue",
              "authenticationSettingsKey": "authenticationSettingsValue"
            }
          }
        ]
      },
      "resizeTimeout": "PT15M",
      "targetDedicatedNodes": 5,
      "targetLowPriorityNodes": 0,
      "taskSlotsPerNode": 3,
      "taskSchedulingPolicy": {
        "nodeFillType": "spread"
      },
      "enableAutoScale": false,
      "enableInterNodeCommunication": true,
      "metadata": [
        {
          "name": "myproperty",
          "value": "myvalue"
        }
      ]
    }
  },
  "responses": {
    "201": {
      "request-id": "00000000-0000-0000-0000-000000000000",
      "ETag": "0x8D45765A6A2DC04",
      "Last-Modified": "Fri, 17 Feb 2025 00:00:00 GMT"
    }
  }
}
