{
  "operationId": "Pools_CreatePool",
  "title": "Creates a pool with disk encryption set for user subscription accounts",
  "parameters": {
    "batchUrl": "account.region.batch.azure.com",
    "api-version": "2025-06-01",
    "client-request-id": "00000000-0000-0000-0000-000000000000",
    "ocp-date": "Fri, 17 Feb 2017 00:00:00 GMT",
    "pool": {
      "id": "pool",
      "vmSize": "Standard_D2S_V3",
      "virtualMachineConfiguration": {
        "imageReference": {
          "publisher": "MicrosoftWindowsServer",
          "offer": "WindowsServer",
          "sku": "2019-datacenter-core-g2",
          "version": "latest"
        },
        "osDisk": {
          "managedDisk": {
            "storageAccountType": "Standard_LRS",
            "diskEncryptionSet": {
              "id": "/subscriptions/subid/resourceGroups/default-azurebatch-japaneast/providers/Microsoft.Compute/diskEncryptionSets/DiskEncryptionSetId"
            }
          }
        },
        "dataDisks": [
          {
            "lun": 0,
            "diskSizeGB": 1024,
            "managedDisk": {
              "storageAccountType": "Standard_LRS",
              "diskEncryptionSet": {
                "id": "/subscriptions/subid/resourceGroups/default-azurebatch-japaneast/providers/Microsoft.Compute/diskEncryptionSets/DiskEncryptionSetId"
              }
            }
          }
        ],
        "nodeAgentSKUId": "batch.node.windows amd64"
      },
      "targetDedicatedNodes": 1
    }
  },
  "responses": {
    "201": {
      "request-id": "00000000-0000-0000-0000-000000000000",
      "ETag": "0x8D45765A6A2DC04",
      "Last-Modified": "Fri, 17 Feb 2017 00:00:00 GMT"
    }
  }
}
