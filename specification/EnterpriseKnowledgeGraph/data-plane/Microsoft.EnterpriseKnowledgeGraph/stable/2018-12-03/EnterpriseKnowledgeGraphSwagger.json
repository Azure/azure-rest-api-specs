{
   "swagger":"2.0",
   "info":{
      "title":"Microsoft Enterprise Graph",
      "version":"v1"
   },
   "paths":{
      "/converse/conversations":{
         "post":{
            "tags":[
               "Converse"
            ],
            "operationId":"ExecNLQuery",
            "consumes":[
               "application/json-patch+json",
               "application/json",
               "text/json",
               "application/*+json"
            ],
            "produces":[
               "application/json"
            ],
            "parameters":[
               {
                  "in":"body",
                  "name":"body",
                  "schema":{
                     "$ref":"#/definitions/ConverseRequest"
                  }
               }
            ],
            "responses":{
               "401":{
                  "description":"Unauthorized access"
               },
               "403":{
                  "description":"Forbidden access"
               },
               "200":{
                  "description":"Success",
                  "schema":{
                     "$ref":"#/definitions/ConverseResponse"
                  }
               }
            }
         }
      },
      "/entityDocument/entities/{id}":{
         "get":{
            "tags":[
               "EntityDocument"
            ],
            "operationId":"GetEntityDocument",
            "produces":[
               "text/plain",
               "application/json",
               "text/json"
            ],
            "parameters":[
               {
                  "in":"path",
                  "name":"id",
                  "required":true,
                  "type":"string"
               }
            ],
            "responses":{
               "401":{
                  "description":"Unauthorized"
               },
               "403":{
                  "description":"Forbidden access"
               },
               "200":{
                  "description":"Success",
                  "schema":{
                     "$ref":"#/definitions/EntityDocument"
                  }
               }
            }
         }
      },
      "/entityDocument/entities":{
         "post":{
            "tags":[
               "EntityDocument"
            ],
            "operationId":"GetEntityDocuments",
            "consumes":[
               "application/json-patch+json",
               "application/json",
               "text/json",
               "application/*+json"
            ],
            "produces":[
               "text/plain",
               "application/json",
               "text/json"
            ],
            "parameters":[
               {
                  "in":"body",
                  "name":"body",
                  "schema":{
                     "$ref":"#/definitions/SearchOptions"
                  }
               }
            ],
            "responses":{
               "401":{
                  "description":"Unauthorized"
               },
               "403":{
                  "description":"Forbidden access"
               },
               "200":{
                  "description":"Success",
                  "schema":{
                     "type":"object",
                     "additionalProperties":{
                        "$ref":"#/definitions/EntityDocument"
                     }
                  }
               }
            }
         }
      },
      "/graph/graph-query":{
         "post":{
            "tags":[
               "Graph"
            ],
            "operationId":"ExecGraphQuery",
            "consumes":[
               "application/json-patch+json",
               "application/json",
               "text/json",
               "application/*+json"
            ],
            "produces":[
               "text/plain",
               "application/json",
               "text/json"
            ],
            "parameters":[
               {
                  "in":"body",
                  "name":"body",
                  "schema":{
                     "type":"string"
                  }
               }
            ],
            "responses":{
               "401":{
                  "description":"Unauthorized"
               },
               "403":{
                  "description":"Forbidden access"
               },
               "200":{
                  "description":"Success",
                  "schema":{
                     "$ref":"#/definitions/SparqlQueryResponse"
                  }
               }
            }
         }
      },
      "/ingestion/sources/{sourceId}/documents/{documentId}":{
         "delete":{
            "tags":[
               "Ingestion"
            ],
            "operationId":"DeleteDocument",
            "produces":[
               "application/json",
               "text/json"
            ],
            "parameters":[
               {
                  "in":"path",
                  "name":"sourceId",
                  "required":true,
                  "type":"integer",
                  "format":"int32"
               },
               {
                  "in":"path",
                  "name":"documentId",
                  "required":true,
                  "type":"string"
               },
               {
                  "in":"query",
                  "name":"hardDelete",
                  "type":"boolean"
               }
            ],
            "responses":{
               "401":{
                  "description":"Unauthorized access"
               },
               "403":{
                  "description":"Forbidden access"
               },
               "200":{
                  "description":"OK",
                  "schema":{
                     "$ref":"#/definitions/IngestionJobResponse"
                  }
               }
            }
         }
      },
      "/ingestion/sources/{sourceId}":{
         "delete":{
            "tags":[
               "Ingestion"
            ],
            "operationId":"DeleteSource",
            "produces":[
               "application/json",
               "text/json"
            ],
            "parameters":[
               {
                  "in":"path",
                  "name":"sourceId",
                  "required":true,
                  "type":"integer",
                  "format":"int32"
               }
            ],
            "responses":{
               "401":{
                  "description":"Unauthorized access"
               },
               "403":{
                  "description":"Forbidden access"
               },
               "200":{
                  "description":"OK",
                  "schema":{
                     "$ref":"#/definitions/IngestionJobResponse"
                  }
               }
            }
         }
      },
      "/ingestion/ingestion-jobs":{
         "post":{
            "tags":[
               "Ingestion"
            ],
            "operationId":"CreateIngestionJob",
            "consumes":[
               "application/json",
               "text/json",
               "application/xml",
               "text/xml",
               "application/x-www-form-urlencoded"
            ],
            "produces":[
               "application/json",
               "text/json"
            ],
            "parameters":[
               {
                  "in":"formData",
                  "name":"Type",
                  "type":"integer",
                  "format":"int32",
                  "enum":[
                     0,
                     1
                  ]
               },
               {
                  "in":"formData",
                  "name":"SourceId",
                  "type":"integer",
                  "format":"int32"
               },
               {
                  "in":"formData",
                  "name":"BlobUrls",
                  "type":"array",
                  "items": {
   
                  }
               },
               {
                  "in":"formData",
                  "name":"RawPayloads",
                  "type":"array",
                  "items": {

                  }
               },
               {
                  "in":"formData",
                  "name":"ForceUpdate",
                  "type":"boolean"
               },
               {
                  "in":"formData",
                  "name":"IngestionMode",
                  "type":"integer",
                  "format":"int32",
                  "enum":[
                     0,
                     1
                  ]
               }
            ],
            "responses":{
               "401":{
                  "description":"Unauthorized access"
               },
               "403":{
                  "description":"Forbidden access"
               },
               "200":{
                  "description":"OK",
                  "schema":{
                     "$ref":"#/definitions/IngestionJobResponse"
                  }
               }
            }
         },
         "get":{
            "tags":[
               "Ingestion"
            ],
            "operationId":"GetAllJobsStatus",
            "produces":[
               "application/json",
               "text/json",
               "application/xml",
               "text/xml"
            ],
            "parameters":[
               {
                  "in":"query",
                  "name":"startTime",
                  "required":true,
                  "type":"string"
               },
               {
                  "in":"query",
                  "name":"endTime",
                  "required":true,
                  "type":"string"
               }
            ],
            "responses":{
               "401":{
                  "description":"Unauthorized access"
               },
               "403":{
                  "description":"Forbidden access"
               },
               "200":{
                  "description":"OK",
                  "schema":{
                     "type":"array",
                     "items":{
                        "$ref":"#/definitions/BatchInfoApiResponse"
                     }
                  }
               }
            }
         }
      },
      "/ingestion/ingestion-jobs/{jobId}":{
         "get":{
            "tags":[
               "Ingestion"
            ],
            "operationId":"GetJobStatus",
            "produces":[
               "application/json",
               "text/json",
               "application/xml",
               "text/xml"
            ],
            "parameters":[
               {
                  "in":"path",
                  "name":"jobId",
                  "required":true,
                  "type":"string"
               }
            ],
            "responses":{
               "401":{
                  "description":"Unauthorized access"
               },
               "403":{
                  "description":"Forbidden access"
               },
               "200":{
                  "description":"OK",
                  "schema":{
                     "type":"array",
                     "items":{
                        "$ref":"#/definitions/BatchStatusEntity"
                     }
                  }
               }
            }
         }
      },
      "/intent/intentions":{
         "get":{
            "tags":[
               "Intent"
            ],
            "operationId":"GetIntention",
            "produces":[
               "text/plain",
               "application/json",
               "text/json"
            ],
            "parameters":[
               {
                  "in":"query",
                  "name":"q",
                  "type":"string"
               }
            ],
            "responses":{
               "401":{
                  "description":"Unauthorized access"
               },
               "403":{
                  "description":"Forbidden access"
               },
               "200":{
                  "description":"Success",
                  "schema":{
                     "$ref":"#/definitions/IntentionResponse"
                  }
               }
            }
         }
      },
      "/search/entities":{
         "get":{
            "tags":[
               "Search"
            ],
            "operationId":"ExecFreeTextQuery",
            "produces":[
               "text/plain",
               "application/json",
               "text/json"
            ],
            "parameters":[
               {
                  "in":"query",
                  "name":"q",
                  "type":"string"
               },
               {
                  "in":"query",
                  "name":"top",
                  "type":"integer",
                  "format":"int32",
                  "default":10
               },
               {
                  "in":"query",
                  "name":"filter",
                  "type":"string",
                  "default":""
               },
               {
                  "in":"query",
                  "name":"includeEntityDocument",
                  "type":"integer",
                  "format":"int32",
                  "default":0
               },
               {
                  "in":"query",
                  "name":"enableQueryRewrite",
                  "type":"integer",
                  "format":"int32",
                  "default":0
               },
               {
                  "in":"query",
                  "name":"debug",
                  "type":"integer",
                  "format":"int32",
                  "default":0
               }
            ],
            "responses":{
               "401":{
                  "description":"Unauthorized access"
               },
               "403":{
                  "description":"Forbidden access"
               },
               "200":{
                  "description":"Success",
                  "schema":{
                     "$ref":"#/definitions/DocumentSearchResult"
                  }
               }
            }
         }
      },
      "/search/suggestions":{
         "get":{
            "tags":[
               "Search"
            ],
            "operationId":"GetQuerySuggestion",
            "produces":[
               "text/plain",
               "application/json",
               "text/json"
            ],
            "parameters":[
               {
                  "in":"query",
                  "name":"q",
                  "type":"string"
               },
               {
                  "in":"query",
                  "name":"top",
                  "type":"integer",
                  "format":"int32",
                  "default":10
               }
            ],
            "responses":{
               "401":{
                  "description":"Unauthorized access"
               },
               "403":{
                  "description":"Forbidden access"
               },
               "200":{
                  "description":"Success",
                  "schema":{
                     "uniqueItems":false,
                     "type":"array",
                     "items":{
                        "type":"string"
                     }
                  }
               }
            }
         }
      }
   },
   "definitions":{
      "ConverseRequest":{
         "required":[
            "utterance"
         ],
         "type":"object",
         "properties":{
            "utterance":{
               "type":"string"
            },
            "entityType":{
               "type":"string"
            },
            "maximumNumberOfInterpretations":{
               "format":"int32",
               "maximum":2147483647,
               "minimum":1,
               "type":"integer"
            },
            "thresholdForDisambiguation":{
               "format":"int32",
               "maximum":2147483647,
               "minimum":1,
               "type":"integer"
            },
            "maximumNumberOfDisambiguation":{
               "format":"int32",
               "maximum":2147483647,
               "minimum":1,
               "type":"integer"
            },
            "maximumNumberOfEntities":{
               "format":"int32",
               "maximum":2147483647,
               "minimum":1,
               "type":"integer"
            },
            "previousInterpretations":{
               "uniqueItems":false,
               "type":"array",
               "items":{
                  "$ref":"#/definitions/InterpretationResult"
               }
            },
            "entityIdOnly":{
               "type":"boolean"
            },
            "modelId":{
               "type":"string"
            }
         }
      },
      "ConverseResponse":{
         "type":"object",
         "properties":{
            "totalNumberOfEntitiesFound":{
               "format":"int32",
               "type":"integer"
            },
            "entityDocuments":{
               "uniqueItems":false,
               "type":"array",
               "items":{
                  "$ref":"#/definitions/EntityDocument"
               }
            },
            "interpretationResult":{
               "$ref":"#/definitions/InterpretationResult"
            },
            "restatement":{
               "type":"string"
            },
            "suggestions":{
               "uniqueItems":false,
               "type":"array",
               "items":{
                  "$ref":"#/definitions/EntityDocumentSuggestionChip"
               }
            }
         }
      },
      "EntityDocument":{
         "type":"object",
         "properties":{
            "id":{
               "type":"string",
               "readOnly":true
            },
            "types":{
               "uniqueItems":false,
               "type":"array",
               "items":{
                  "$ref":"#/definitions/EntityType"
               },
               "readOnly":true
            },
            "dominantType":{
               "$ref":"#/definitions/EntityType"
            },
            "properties":{
               "type":"object",
               "additionalProperties":{
                  "uniqueItems":false,
                  "type":"array",
                  "items":{
                     "$ref":"#/definitions/EntityNode"
                  }
               },
               "readOnly":true
            },
            "timeStamp":{
               "format":"date-time",
               "type":"string"
            },
            "sourceIds":{
               "uniqueItems":false,
               "type":"array",
               "items":{
                  "format":"int32",
                  "type":"integer"
               },
               "readOnly":true
            }
         }
      },
      "InterpretationResult":{
         "type":"object",
         "properties":{
            "utterance":{
               "$ref":"#/definitions/Utterance"
            },
            "sparql":{
               "type":"string"
            },
            "confidence":{
               "format":"double",
               "type":"number"
            },
            "mainProjection":{
               "type":"string"
            },
            "mainProjectionEntityType":{
               "type":"string"
            },
            "restatement":{
               "type":"string"
            }
         }
      },
      "EntityDocumentSuggestionChip":{
         "type":"object",
         "properties":{
            "actionEntityDocument":{
               "$ref":"#/definitions/EntityDocument"
            },
            "suggestionInterpretation":{
               "$ref":"#/definitions/InterpretationResult"
            },
            "actionEntityId":{
               "type":"string",
               "readOnly":true
            }
         }
      },
      "EntityType":{
         "type":"object",
         "properties":{
            "name":{
               "type":"string",
               "readOnly":true
            }
         }
      },
      "EntityNode":{
         "type":"object",
         "properties":{
            "sourceIds":{
               "uniqueItems":false,
               "type":"array",
               "items":{
                  "format":"int32",
                  "type":"integer"
               },
               "readOnly":true
            }
         }
      },
      "Utterance":{
         "type":"object",
         "properties":{
            "text":{
               "type":"string",
               "readOnly":true
            },
            "unrecognizedTerms":{
               "uniqueItems":false,
               "type":"array",
               "items":{
                  "type":"string"
               },
               "readOnly":true
            }
         }
      },
      "SearchOptions":{
         "type":"object",
         "properties":{
            "entities":{
               "uniqueItems":false,
               "type":"array",
               "items":{
                  "type":"string"
               }
            }
         }
      },
      "SparqlQueryResponse":{
         "type":"object",
         "properties":{
            "sparqlResponse":{
               "$ref":"#/definitions/SparqlQueryDbResponse"
            },
            "metadata":{
               "type":"object",
               "additionalProperties":{
                  "type":"object"
               }
            }
         }
      },
      "SparqlQueryDbResponse":{
         "type":"object",
         "properties":{
            "head":{
               "$ref":"#/definitions/ResultHeader"
            },
            "results":{
               "$ref":"#/definitions/Result"
            }
         }
      },
      "ResultHeader":{
         "type":"object",
         "properties":{
            "vars":{
               "uniqueItems":false,
               "type":"array",
               "items":{
                  "type":"string"
               }
            }
         }
      },
      "Result":{
         "type":"object",
         "properties":{
            "bindings":{
               "uniqueItems":false,
               "type":"array",
               "items":{
                  "type":"object",
                  "additionalProperties":{
                     "$ref":"#/definitions/RdfTerm"
                  }
               }
            }
         }
      },
      "RdfTerm":{
         "type":"object",
         "properties":{
            "type":{
               "type":"string"
            },
            "value":{
               "type":"string",
               "readOnly":true
            }
         }
      },
      "IngestionJobResponse":{
         "type":"object",
         "properties":{
            "JobId":{
               "type":"string"
            }
         }
      },
      "IngestionJobPostRequest":{
         "type":"object",
         "properties":{
            "Type":{
               "format":"int32",
               "enum":[
                  0,
                  1
               ],
               "type":"integer"
            },
            "SourceId":{
               "format":"int32",
               "type":"integer"
            },
            "BlobUrls":{
               "type":"array",
               "items":{
                  "type":"string"
               }
            },
            "RawPayloads":{
               "type":"array",
               "items":{
                  "$ref":"#/definitions/LoadRequest"
               }
            },
            "ForceUpdate":{
               "type":"boolean"
            },
            "IngestionMode":{
               "format":"int32",
               "enum":[
                  0,
                  1
               ],
               "type":"integer"
            }
         }
      },
      "BatchInfoApiResponse":{
         "type":"object",
         "properties":{
            "JobId":{
               "type":"string"
            },
            "SourceId":{
               "format":"int32",
               "type":"integer"
            },
            "BatchState":{
               "type":"string"
            },
            "StartTime":{
               "type":"string"
            },
            "LastUpdated":{
               "type":"string"
            },
            "OntologyVersionId":{
               "format":"int32",
               "type":"integer"
            }
         }
      },
      "BatchStatusEntity":{
         "type":"object",
         "properties":{
            "TotalDocsInBatch":{
               "format":"int32",
               "type":"integer"
            },
            "SuccessDocsCount":{
               "format":"int32",
               "type":"integer"
            },
            "FailedDocsCount":{
               "format":"int32",
               "type":"integer"
            },
            "ExceptionMessage":{
               "type":"string"
            },
            "TimeTakenInStage":{
               "type":"string"
            },
            "PartitionKey":{
               "type":"string"
            },
            "RowKey":{
               "type":"string"
            },
            "Timestamp":{
               "format":"date-time",
               "type":"string"
            },
            "ETag":{
               "type":"string"
            }
         }
      },
      "LoadRequest":{
         "type":"object",
         "properties":{
            "Id":{
               "type":"string"
            },
            "PayLoad":{
               "type":"string"
            }
         }
      },
      "IntentionResponse":{
         "type":"object",
         "properties":{
            "sentence":{
               "type":"string"
            },
            "intentionLabel":{
               "type":"string"
            },
            "isGraphIntention":{
               "type":"boolean"
            },
            "intentionGraphType":{
               "type":"string"
            },
            "intentionScore":{
               "format":"float",
               "type":"number"
            },
            "mentions":{
               "uniqueItems":false,
               "type":"array",
               "items":{
                  "$ref":"#/definitions/MentionResponse"
               }
            }
         }
      },
      "MentionResponse":{
         "type":"object",
         "properties":{
            "mention":{
               "type":"string"
            },
            "type":{
               "type":"string"
            }
         }
      },
      "DocumentSearchResult":{
         "type":"object",
         "properties":{
            "debugInfo":{
               "type":"string"
            },
            "recommendedQuery":{
               "type":"string"
            },
            "rewrittenQuery":{
               "type":"string"
            },
            "originalQuery":{
               "type":"string"
            },
            "engineName":{
               "type":"string"
            },
            "indexName":{
               "type":"string"
            },
            "totalHits":{
               "format":"int64",
               "type":"integer"
            },
            "results":{
               "uniqueItems":false,
               "type":"array",
               "items":{
                  "$ref":"#/definitions/EntityBaseResult"
               }
            },
            "filter":{
               "type":"string"
            }
         }
      },
      "EntityBaseResult":{
         "type":"object",
         "properties":{
            "score":{
               "format":"double",
               "type":"number"
            },
            "highlights":{
               "type":"object",
               "additionalProperties":{
                  "uniqueItems":false,
                  "type":"array",
                  "items":{
                     "type":"string"
                  }
               }
            }
         }
      }
   }
}