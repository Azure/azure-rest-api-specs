{
  "parameters": {
    "api-version": "2020-01-01-preview",
    "connectorName": "aws_dev2",
    "connectorSetting": {
      "properties": {
        "authenticationDetails": {
          "authenticationType": "awsAssumeRole",
          "awsAssumeRoleArn": "arn:aws:iam::81231569658:role/AscConnector",
          "awsExternalId": "20ff7fc3-e762-44dd-bd96-b71116dcdc23"
        },
        "hybridComputeSettings": {
          "autoProvision": "On",
          "proxyServer": {
            "ip": "167.220.197.140",
            "port": "34"
          },
          "region": "West US 2",
          "resourceGroupName": "AwsConnectorRG",
          "servicePrincipal": {
            "applicationId": "ad9bcd79-be9c-45ab-abd8-80ca1654a7d1",
            "secret": "<secret>"
          }
        }
      }
    },
    "subscriptionId": "20ff7fc3-e762-44dd-bd96-b71116dcdc23"
  },
  "responses": {
    "200": {
      "body": {
        "name": "aws_dev2",
        "type": "Microsoft.Security/connectors",
        "id": "/subscriptions/20ff7fc3-e762-44dd-bd96-b71116dcdc23/providers/Microsoft.Security/connectors/aws_dev2",
        "properties": {
          "authenticationDetails": {
            "accountId": "81231569658",
            "authenticationProvisioningState": "Valid",
            "authenticationType": "awsAssumeRole",
            "awsAssumeRoleArn": "arn:aws:iam::81231569658:role/AscConnector",
            "awsExternalId": "20ff7fc3-e762-44dd-bd96-b71116dcdc23",
            "grantedPermissions": [
              "AWS::AWSSecurityHubReadOnlyAccess",
              "AWS::SecurityAudit",
              "AWS::AmazonSSMAutomationRole"
            ]
          },
          "hybridComputeSettings": {
            "autoProvision": "On",
            "hybridComputeProvisioningState": "Valid",
            "proxyServer": {
              "ip": "167.220.197.140",
              "port": "34"
            },
            "region": "West US 2",
            "resourceGroupName": "AwsConnectorRG",
            "servicePrincipal": {
              "applicationId": "ad9bcd79-be9c-45ab-abd8-80ca1654a7d1"
            }
          }
        }
      }
    }
  },
  "operationId": "Connectors_CreateOrUpdate",
  "title": "AwsAssumeRole - Create a cloud account connector for a subscription"
}