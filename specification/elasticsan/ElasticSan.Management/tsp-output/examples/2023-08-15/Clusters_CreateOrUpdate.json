{
  "parameters": {
    "api-version": "2023-08-15",
    "clusterName": "kustoCluster",
    "parameters": {
      "identity": {
        "type": "SystemAssigned"
      },
      "location": "westus",
      "properties": {
        "allowedIpRangeList": [
          "0.0.0.0/0"
        ],
        "enableAutoStop": true,
        "enableDoubleEncryption": false,
        "enablePurge": true,
        "enableStreamingIngest": true,
        "languageExtensions": {
          "value": [
            {
              "languageExtensionCustomImageName": "customImage8",
              "languageExtensionImageName": "Python_Custom_Image",
              "languageExtensionName": "PYTHON"
            },
            {
              "languageExtensionImageName": "R",
              "languageExtensionName": "R"
            }
          ]
        },
        "publicIPType": "DualStack",
        "publicNetworkAccess": "Enabled"
      },
      "sku": {
        "name": "Standard_L16as_v3",
        "capacity": 2,
        "tier": "Standard"
      }
    },
    "resourceGroupName": "kustorptest",
    "subscriptionId": "12345678-1234-1234-1234-123456789098"
  },
  "responses": {
    "200": {
      "body": {
        "name": "kustoCluster",
        "type": "Microsoft.Kusto/Clusters",
        "etag": "abcd",
        "id": "/subscriptions/12345678-1234-1234-1234-123456789098/resourceGroups/kustorptest/providers/Microsoft.Kusto/Clusters/kustoCluster",
        "identity": {
          "type": "SystemAssigned",
          "principalId": "faabad1f-4876-463c-af9d-6ba2d2d2394c",
          "tenantId": "b932977f-6277-4ab7-a2cd-5bd21f07aaf4",
          "userAssignedIdentities": {}
        },
        "location": "westus",
        "properties": {
          "allowedIpRangeList": [
            "0.0.0.0/0"
          ],
          "enableAutoStop": true,
          "enableDiskEncryption": false,
          "enableDoubleEncryption": false,
          "enablePurge": true,
          "enableStreamingIngest": true,
          "engineType": "V3",
          "keyVaultProperties": {
            "keyName": "keyName",
            "keyVaultUri": "https://dummy.keyvault.com",
            "keyVersion": "keyVersion"
          },
          "languageExtensions": {
            "value": [
              {
                "languageExtensionCustomImageName": "customImage8",
                "languageExtensionImageName": "Python_Custom_Image",
                "languageExtensionName": "PYTHON"
              },
              {
                "languageExtensionImageName": "R",
                "languageExtensionName": "R"
              }
            ]
          },
          "provisioningState": "Succeeded",
          "publicIPType": "DualStack",
          "publicNetworkAccess": "Enabled",
          "restrictOutboundNetworkAccess": "Disabled"
        },
        "sku": {
          "name": "Standard_L16as_v3",
          "capacity": 2,
          "tier": "Standard"
        }
      }
    },
    "201": {
      "body": {
        "name": "kustoCluster",
        "type": "Microsoft.Kusto/Clusters",
        "etag": "abcd123",
        "id": "/subscriptions/12345678-1234-1234-1234-123456789098/resourceGroups/kustorptest/providers/Microsoft.Kusto/Clusters/kustoCluster",
        "identity": {
          "type": "SystemAssigned",
          "principalId": "faabad1f-4876-463c-af9d-6ba2d2d2394c",
          "tenantId": "b932977f-6277-4ab7-a2cd-5bd21f07aaf4",
          "userAssignedIdentities": {}
        },
        "location": "westus",
        "properties": {
          "allowedIpRangeList": [
            "0.0.0.0/0"
          ],
          "enableAutoStop": true,
          "enableDiskEncryption": false,
          "enableDoubleEncryption": false,
          "enablePurge": true,
          "enableStreamingIngest": true,
          "engineType": "V3",
          "keyVaultProperties": {
            "keyName": "keyName",
            "keyVaultUri": "https://dummy.keyvault.com",
            "keyVersion": "keyVersion"
          },
          "languageExtensions": {
            "value": [
              {
                "languageExtensionCustomImageName": "customImage8",
                "languageExtensionImageName": "Python_Custom_Image",
                "languageExtensionName": "PYTHON"
              },
              {
                "languageExtensionImageName": "R",
                "languageExtensionName": "R"
              }
            ]
          },
          "provisioningState": "Succeeded",
          "publicIPType": "DualStack",
          "publicNetworkAccess": "Enabled",
          "restrictOutboundNetworkAccess": "Disabled"
        },
        "sku": {
          "name": "Standard_L16as_v3",
          "capacity": 2,
          "tier": "Standard"
        }
      }
    }
  },
  "operationId": "Clusters_CreateOrUpdate",
  "title": "KustoClustersCreateOrUpdate"
}