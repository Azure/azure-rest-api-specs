{
  "operationId": "DeploymentStacksWhatIfResultsAtSubscription_List",
  "title": "List the available Deployment stack what-if results at subscription scope",
  "parameters": {
    "api-version": "2025-07-01",
    "subscriptionId": "00000000-0000-0000-0000-000000000000"
  },
  "responses": {
    "200": {
      "body": {
        "value": [
          {
            "id": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Resources/deploymentStackWhatIfResults/simpleDeploymentStackWhatIfResult",
            "type": "Microsoft.Resources/deploymentStacksWhatIfResults",
            "name": "simpleDeploymentStackWhatIfResult",
            "location": "eastus",
            "systemData": {
              "createdBy": "string",
              "createdByType": "Application", 
              "createdAt": "2025-02-01T01:01:01.1075056Z",
              "lastModifiedBy": "string",
              "lastModifiedByType": "Application",
              "lastModifiedAt": "2025-02-02T02:03:01.1974346Z"
            },
            "properties": {
              "deploymentStackResourceId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Resources/deploymentStacks/simpleDeploymentStack",
              "deploymentStackLastModified": "2025-01-01T01:01:01.1075056Z",
              "retentionInterval": "P7D",
              "correlationId": "00000000-0000-0000-0000-000000000000",
              "templateLink": {
                "uri": "https://example.com/exampleTemplate.json"
              },
              "parameters": {},
              "actionOnUnmanage": {
                "resources": "delete",
                "resourceGroups": "delete",
                "managementGroups": "detach"
              },
              "denySettings": {
                "mode": "none",
                "applyToChildScopes": false
              },
              "provisioningState": "succeeded",
              "changes": {
                "resourceChanges": [
                  {
                    "resourceId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyAssignments/myPolicyAssignment",
                    "managementStatusChange": {
                      "before": "notManaged",
                      "after": "managed"
                    },
                    "changeType": "create",
                    "changeCertainty": "definite"
                  }
                ],
                "denySettingsChange": {
                  "after": {
                    "mode": "None",
                    "excludedPrincipals": [],
                    "excludedActions": [],
                    "applyToChildScopes": false
                  },
                  "delta": [
                    {
                      "path": "Mode",
                      "propertyChangeType": "create",
                      "after": "None"
                    },
                    {
                      "path": "ApplyToChildScopes",
                      "propertyChangeType": "create",
                      "after": "False"
                    }
                  ]
                }
              }
            }
          },
          {
            "id": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Resources/deploymentStackWhatIfResults/changedDeploymentStackWhatIfResult",
            "type": "Microsoft.Resources/deploymentStacksWhatIfResults",
            "name": "changedDeploymentStackWhatIfResult",
            "location": "eastus",
            "systemData": {
              "createdBy": "string",
              "createdByType": "Application", 
              "createdAt": "2025-02-01T01:01:01.1075056Z",
              "lastModifiedBy": "string",
              "lastModifiedByType": "Application",
              "lastModifiedAt": "2025-02-02T02:03:01.1974346Z"
            },
            "properties": {
              "deploymentStackResourceId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Resources/deploymentStacks/deploymentStack2",
              "deploymentStackLastModified": "2025-01-03T03:01:01.3141592Z",
              "retentionInterval": "P7D",
              "correlationId": "00000000-0000-0000-0000-000000000000",
              "templateLink": {
                "uri": "https://example.com/anotherTemplate.json"
              },
              "parameters": {},
              "actionOnUnmanage": {
                "resources": "delete",
                "resourceGroups": "delete",
                "managementGroups": "detach"
              },
              "denySettings": {
                "mode": "none",
                "applyToChildScopes": false
              },
              "provisioningState": "succeeded",
              "changes": {
                "resourceChanges": [
                  {
                    "resourceId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyAssignments/anotherPolicyAssignment",
                    "managementStatusChange": {
                      "before": "notManaged",
                      "after": "managed"
                    },
                    "changeType": "create",
                    "changeCertainty": "definite"
                  },
                  {
                    "resourceId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyAssignments/thirdPolicyAssignment",
                    "managementStatusChange": {
                      "before": "managed",
                      "after": "managed"
                    },
                    "changeType": "noChange",
                    "changeCertainty": "definite"
                  }
                ],
                "denySettingsChange": {
                  "before": {
                    "mode": "None",
                    "excludedPrincipals": [],
                    "excludedActions": [],
                    "applyToChildScopes": false
                  },
                  "after": {
                    "mode": "None",
                    "excludedPrincipals": [],
                    "excludedActions": [],
                    "applyToChildScopes": false
                  },
                  "delta": []
                }
              }
            }
          }
        ]
      }
    }
  }
}
