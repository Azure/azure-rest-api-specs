{
  "parameters": {
    "api-version": "2023-06-15",
    "body": {
      "properties": {
        "annotation": "annotation1",
        "fabricASN": 12345,
        "ipv4Prefix": "10.18.0.0/17",
        "ipv6Prefix": "3FFE:FFFF:0:CD40::/60",
        "managementNetworkConfiguration": {
          "infrastructureVpnConfiguration": {
            "networkToNetworkInterconnectId": "/subscriptions/1234ABCD-0A1B-1234-5678-123456ABCDEF/resourceGroups/example-rg/providers/Microsoft.ManagedNetworkFabric/networkFabrics/example-fabric/networkToNetworkInterconnects/example-nni",
            "optionAProperties": {
              "bfdConfiguration": {
                "intervalInMilliSeconds": 300,
                "multiplier": 10
              },
              "mtu": 1501,
              "peerASN": 1235,
              "primaryIpv4Prefix": "10.0.0.12/30",
              "primaryIpv6Prefix": "4FFE:FFFF:0:CD30::a8/127",
              "secondaryIpv4Prefix": "20.0.0.13/30",
              "secondaryIpv6Prefix": "6FFE:FFFF:0:CD30::ac/127",
              "vlanId": 3001
            },
            "optionBProperties": {
              "exportRouteTargets": [
                "65046:10050"
              ],
              "importRouteTargets": [
                "65046:10050"
              ],
              "routeTargets": {
                "exportIpv4RouteTargets": [
                  "65046:10050"
                ],
                "exportIpv6RouteTargets": [
                  "65046:10050"
                ],
                "importIpv4RouteTargets": [
                  "65046:10050"
                ],
                "importIpv6RouteTargets": [
                  "65046:10050"
                ]
              }
            },
            "peeringOption": "OptionB"
          },
          "workloadVpnConfiguration": {
            "networkToNetworkInterconnectId": "/subscriptions/1234ABCD-0A1B-1234-5678-123456ABCDEF/resourceGroups/example-rg/providers/Microsoft.ManagedNetworkFabric/networkFabrics/example-fabric/networkToNetworkInterconnects/example-nni",
            "optionAProperties": {
              "bfdConfiguration": {
                "intervalInMilliSeconds": 300,
                "multiplier": 5
              },
              "mtu": 1500,
              "peerASN": 61234,
              "primaryIpv4Prefix": "10.0.0.14/30",
              "primaryIpv6Prefix": "2FFE:FFFF:0:CD30::a7/126",
              "secondaryIpv4Prefix": "10.0.0.15/30",
              "secondaryIpv6Prefix": "2FFE:FFFF:0:CD30::ac/126",
              "vlanId": 3000
            },
            "optionBProperties": {
              "exportRouteTargets": [
                "65046:10050"
              ],
              "importRouteTargets": [
                "65046:10050"
              ],
              "routeTargets": {
                "exportIpv4RouteTargets": [
                  "65046:10050"
                ],
                "exportIpv6RouteTargets": [
                  "65046:10050"
                ],
                "importIpv4RouteTargets": [
                  "65046:10050"
                ],
                "importIpv6RouteTargets": [
                  "65046:10050"
                ]
              }
            },
            "peeringOption": "OptionA"
          }
        },
        "rackCount": 6,
        "serverCountPerRack": 10,
        "terminalServerConfiguration": {
          "password": "xxxxxxxx",
          "primaryIpv4Prefix": "10.0.0.12/30",
          "primaryIpv6Prefix": "4FFE:FFFF:0:CD30::a8/127",
          "secondaryIpv4Prefix": "40.0.0.14/30",
          "secondaryIpv6Prefix": "6FFE:FFFF:0:CD30::ac/127",
          "serialNumber": "1234567",
          "username": "username1"
        }
      },
      "tags": {
        "keyID": "KeyValue"
      }
    },
    "networkFabricName": "example-fabric",
    "resourceGroupName": "example-rg",
    "subscriptionId": "1234ABCD-0A1B-1234-5678-123456ABCDEF"
  },
  "responses": {
    "200": {
      "body": {
        "name": "example-fabric",
        "type": "Microsoft.ManagedNetworkFabric/networkFabrics",
        "id": "/subscriptions/1234ABCD-0A1B-1234-5678-123456ABCDEF/resourceGroups/example-rg/providers/Microsoft.ManagedNetworkFabric/networkFabrics/example-fabric",
        "location": "eastuseuap",
        "properties": {
          "administrativeState": "Enabled",
          "annotation": "annotation",
          "configurationState": "Succeeded",
          "fabricASN": 12345,
          "fabricVersion": "version1",
          "ipv4Prefix": "10.18.0.0/17",
          "ipv6Prefix": "3FFE:FFFF:0:CD40::/60",
          "l2IsolationDomains": [
            "/subscriptions/1234ABCD-0A1B-1234-5678-123456ABCDEF/resourceGroups/example-rg/providers/Microsoft.ManagedNetworkFabric/l2IsolationDomains/example-l2Domain"
          ],
          "l3IsolationDomains": [
            "/subscriptions/1234ABCD-0A1B-1234-5678-123456ABCDEF/resourceGroups/example-rg/providers/Microsoft.ManagedNetworkFabric/l3IsolationDomains/example-l3Domain"
          ],
          "managementNetworkConfiguration": {
            "infrastructureVpnConfiguration": {
              "administrativeState": "Enabled",
              "networkToNetworkInterconnectId": "/subscriptions/1234ABCD-0A1B-1234-5678-123456ABCDEF/resourceGroups/example-rg/providers/Microsoft.ManagedNetworkFabric/networkFabrics/example-fabric/networkToNetworkInterconnects/example-nni",
              "optionAProperties": {
                "bfdConfiguration": {
                  "administrativeState": "Enabled",
                  "intervalInMilliSeconds": 300,
                  "multiplier": 10
                },
                "mtu": 1501,
                "peerASN": 1235,
                "primaryIpv4Prefix": "10.0.0.12/30",
                "primaryIpv6Prefix": "4FFE:FFFF:0:CD30::a8/127",
                "secondaryIpv4Prefix": "20.0.0.13/30",
                "secondaryIpv6Prefix": "6FFE:FFFF:0:CD30::ac/127",
                "vlanId": 3001
              },
              "optionBProperties": {
                "exportRouteTargets": [
                  "65046:10050"
                ],
                "importRouteTargets": [
                  "65046:10050"
                ],
                "routeTargets": {
                  "exportIpv4RouteTargets": [
                    "65046:10050"
                  ],
                  "exportIpv6RouteTargets": [
                    "65046:10050"
                  ],
                  "importIpv4RouteTargets": [
                    "65046:10050"
                  ],
                  "importIpv6RouteTargets": [
                    "65046:10050"
                  ]
                }
              },
              "peeringOption": "OptionB"
            },
            "workloadVpnConfiguration": {
              "administrativeState": "Enabled",
              "networkToNetworkInterconnectId": "/subscriptions/1234ABCD-0A1B-1234-5678-123456ABCDEF/resourceGroups/example-rg/providers/Microsoft.ManagedNetworkFabric/networkFabrics/example-fabric/networkToNetworkInterconnects/example-nni",
              "optionAProperties": {
                "bfdConfiguration": {
                  "administrativeState": "Enabled",
                  "intervalInMilliSeconds": 300,
                  "multiplier": 5
                },
                "mtu": 1500,
                "peerASN": 61234,
                "primaryIpv4Prefix": "10.0.0.14/30",
                "primaryIpv6Prefix": "2FFE:FFFF:0:CD30::a7/126",
                "secondaryIpv4Prefix": "10.0.0.15/30",
                "secondaryIpv6Prefix": "2FFE:FFFF:0:CD30::ac/126",
                "vlanId": 3000
              },
              "optionBProperties": {
                "exportRouteTargets": [
                  "65046:10050"
                ],
                "importRouteTargets": [
                  "65046:10050"
                ],
                "routeTargets": {
                  "exportIpv4RouteTargets": [
                    "65046:10050"
                  ],
                  "exportIpv6RouteTargets": [
                    "65046:10050"
                  ],
                  "importIpv4RouteTargets": [
                    "65046:10050"
                  ],
                  "importIpv6RouteTargets": [
                    "65046:10050"
                  ]
                }
              },
              "peeringOption": "OptionA"
            }
          },
          "networkFabricControllerId": "/subscriptions/1234ABCD-0A1B-1234-5678-123456ABCDEF/resourceGroups/example-rg/providers/Microsoft.ManagedNetworkFabric/networkFabricControllers/example-fabricController",
          "networkFabricSku": "M4-A400-A100-C16-aa",
          "provisioningState": "Accepted",
          "rackCount": 6,
          "racks": [
            "/subscriptions/1234ABCD-0A1B-1234-5678-123456ABCDEF/resourceGroups/example-rg/providers/Microsoft.ManagedNetworkFabric/networkRacks/example-networkRack"
          ],
          "routerIds": [
            "routerId"
          ],
          "serverCountPerRack": 10,
          "terminalServerConfiguration": {
            "networkDeviceId": "/subscriptions/1234ABCD-0A1B-1234-5678-123456ABCDEF/resourceGroups/example-rg/providers/Microsoft.ManagedNetworkFabric/networkDevices/example-networkDevice",
            "primaryIpv4Prefix": "10.0.0.12/30",
            "primaryIpv6Prefix": "4FFE:FFFF:0:CD30::a8/127",
            "secondaryIpv4Prefix": "40.0.0.14/30",
            "secondaryIpv6Prefix": "6FFE:FFFF:0:CD30::ac/127",
            "serialNumber": "1234567",
            "username": "username1"
          }
        },
        "systemData": {
          "createdAt": "2023-06-07T09:53:31.314Z",
          "createdBy": "email@email.com",
          "createdByType": "User",
          "lastModifiedAt": "2023-06-07T09:53:31.314Z",
          "lastModifiedBy": "user@mail.com",
          "lastModifiedByType": "User"
        },
        "tags": {
          "keyID": "KeyValue"
        }
      }
    },
    "202": {
      "headers": {
        "location": "https://contoso.com/operationstatus"
      }
    }
  },
  "operationId": "NetworkFabrics_Update",
  "title": "NetworkFabrics_Update_MaximumSet_Gen"
}