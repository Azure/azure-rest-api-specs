{
  "swagger": "2.0",
  "info": {
    "title": "BillingManagementClient",
    "description": "Documentation for Microsoft.Billing.",
    "contact": {
      "name": "Microsoft.Billing",
      "url": "https://learn.microsoft.com/en-us/rest/api/billing/",
      "email": "cabbpt@microsoft.com"
    },
    "version": "2023-04-01"
  },
  "paths": {
    "/providers/Microsoft.Billing/billingAccounts": {
      "get": {
        "tags": [
          "BillingAccount"
        ],
        "description": "Lists the billing accounts that a user has access to.",
        "externalDocs": {
          "url": "https://docs.microsoft.com/en-us/rest/api/billing/"
        },
        "operationId": "BillingAccounts_List",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "includeAllBillingAccounts",
            "description": "When true, results will include Billing Accounts that the user does not have a direct role assignment on if the user has one of the following AAD roles: Global Administrator, Global Reader, Billing Administrator.",
            "type": "boolean",
            "default": false
          },
          {
            "in": "query",
            "name": "excludeAccountsWithoutBillingProfiles",
            "description": "When true, results will exclude Billing Accounts that are not fully created if the user has one of the following AAD roles: Global Administrator, Global Reader, Billing Administrator.",
            "type": "boolean",
            "default": true
          },
          {
            "in": "query",
            "name": "includeDeletedBillingAccounts",
            "description": "When true, results will include Billing Accounts that have been deleted.",
            "type": "boolean",
            "default": false
          },
          {
            "in": "query",
            "name": "legalOwnerTID",
            "description": "Must be combined with legalOwnerOID, results will only include Billing Accounts for whom is legally responsible for the Billing Accounts. Optional.",
            "type": "string"
          },
          {
            "in": "query",
            "name": "legalOwnerOID",
            "description": "Must be combined with legalOwnerTID, results will only include Billing Accounts for whom is legally responsible for the Billing Accounts. Optional.",
            "type": "string"
          },
          {
            "in": "query",
            "name": "includeTenantAccount",
            "description": "When true, results will include the tenant's Microsoft Online Services Program Billing Account if the user has one of the following AAD roles: Global Administrator, Global Reader, Billing Administrator.",
            "type": "boolean",
            "default": false
          },
          {
            "$ref": "./types.json#/parameters/apiVersionParameter"
          },
          {
            "$ref": "./types.json#/parameters/filter"
          },
          {
            "$ref": "./types.json#/parameters/orderBy"
          },
          {
            "$ref": "./types.json#/parameters/top"
          },
          {
            "$ref": "./types.json#/parameters/skip"
          },
          {
            "$ref": "./types.json#/parameters/count"
          },
          {
            "$ref": "./types.json#/parameters/search"
          }
        ],
        "responses": {
          "200": {
            "description": "The list of billing accounts.",
            "schema": {
              "$ref": "#/definitions/BillingAccountListResult"
            }
          },
          "default": {
            "description": "Default response",
            "schema": {
              "$ref": "./types.json#/definitions/ArmErrorResponse"
            }
          }
        },
        "x-ms-examples": {
          "BillingAccountsList": {
            "$ref": "./examples/billingAccountsList.json"
          },
          "BillingAccountForLegacyAccountDetails": {
            "$ref": "./examples/billingAccountForLegacyAccountDetails.json"
          },
          "BillingAccountsListWithExpandForPONumber": {
            "$ref": "./examples/billingAccountsListWithExpandForPONumber.json"
          }
        },
        "x-ms-pageable": {
          "nextLinkName": "nextLink"
        }
      }
    },
    "/providers/Microsoft.Billing/billingAccounts/{billingAccountName}": {
      "get": {
        "tags": [
          "BillingAccount"
        ],
        "description": "Gets a billing account by its ID.",
        "externalDocs": {
          "url": "https://docs.microsoft.com/en-us/rest/api/billing/"
        },
        "operationId": "BillingAccounts_Get",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "$ref": "./types.json#/parameters/billingAccountName"
          },
          {
            "in": "query",
            "name": "includeDeletedBillingAccounts",
            "description": "When true, results will include Billing Accounts that have been deleted.",
            "type": "boolean",
            "default": false
          },
          {
            "$ref": "./types.json#/parameters/apiVersionParameter"
          },
          {
            "in": "query",
            "name": "expand",
            "description": "Expand is allowed for SoldTo and EnrollmentDetails/PONumber.",
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "A billing account.",
            "schema": {
              "$ref": "#/definitions/BillingAccount"
            }
          },
          "default": {
            "description": "Default response",
            "schema": {
              "$ref": "./types.json#/definitions/ArmErrorResponse"
            }
          }
        },
        "x-ms-examples": {
          "BillingAccountsGet": {
            "$ref": "./examples/billingAccountsGet.json"
          },
          "BillingAccountsGetWithExpand": {
            "$ref": "./examples/billingAccountsGetWithExpand.json"
          },
          "BillingAccountWithRegistrationNumberWithDefaultType": {
            "$ref": "./examples/billingAccountWithRegistrationNumberWithDefaultType.json"
          },
          "BillingAccountWithRegistrationNumberWithType": {
            "$ref": "./examples/billingAccountWithRegistrationNumberWithType.json"
          },
          "BillingAccountEA": {
            "$ref": "./examples/billingAccountEA.json"
          },
          "BillingAccountWithExpandForPONumber": {
            "$ref": "./examples/billingAccountWithExpandForPONumber.json"
          }
        }
      },
      "patch": {
        "tags": [
          "BillingAccount"
        ],
        "description": "Updates the properties of a billing account. Currently, displayName and address can be updated for billing accounts with agreement type Microsoft Customer Agreement. Currently address and notification email address can be updated for billing accounts with agreement type Microsoft Online Services Agreement. Currently, purchase order number can be edited for billing accounts with agreement type Enterprise Agreement.",
        "externalDocs": {
          "url": "https://docs.microsoft.com/en-us/rest/api/billing/"
        },
        "operationId": "BillingAccounts_Update",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "$ref": "./types.json#/parameters/billingAccountName"
          },
          {
            "$ref": "./types.json#/parameters/apiVersionParameter"
          },
          {
            "in": "body",
            "name": "body",
            "description": "The billing properties of a subscription.",
            "schema": {
              "$ref": "#/definitions/BillingAccountPatch"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "A billing account.",
            "schema": {
              "$ref": "#/definitions/BillingAccount"
            }
          },
          "202": {
            "description": "An operation accepted result that returns a 'Location' header that the client can poll to view the result of the operation.",
            "headers": {
              "Location": {
                "type": "string"
              }
            }
          },
          "default": {
            "description": "Default response",
            "schema": {
              "$ref": "./types.json#/definitions/ArmErrorResponse"
            }
          }
        },
        "x-ms-long-running-operation": true,
        "x-ms-long-running-operation-options": {
          "final-state-via": "location"
        },
        "x-ms-examples": {
          "BillingAccountsUpdate": {
            "$ref": "./examples/billingAccountsUpdate.json"
          },
          "UpdateBillingAccountWithPONumber": {
            "$ref": "./examples/updateBillingAccountWithPONumber.json"
          }
        }
      }
    },
    "/providers/Microsoft.Billing/billingAccounts/{billingAccountName}/confirmTransition": {
      "post": {
        "tags": [
          "BillingAccount"
        ],
        "description": "Gets the transition details for a billing account that has transitioned from agreement type Microsoft Online Services Program to agreement type Microsoft Customer Agreement.",
        "externalDocs": {
          "url": "https://docs.microsoft.com/en-us/rest/api/billing/"
        },
        "operationId": "BillingAccounts_ConfirmTransition",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "billingAccountName",
            "description": "",
            "required": true,
            "type": "string"
          },
          {
            "$ref": "./types.json#/parameters/apiVersionParameter"
          }
        ],
        "responses": {
          "200": {
            "description": "The details for a billing account transitioned from agreement type Microsoft Online Services Program to agreement type Microsoft Customer Agreement.",
            "schema": {
              "$ref": "#/definitions/TransitionDetails"
            }
          },
          "default": {
            "description": "Default response",
            "schema": {
              "$ref": "./types.json#/definitions/ArmErrorResponse"
            }
          }
        },
        "x-ms-examples": {
          "BillingAccountsConfirmTransition": {
            "$ref": "./examples/billingAccountsConfirmTransition.json"
          }
        }
      }
    },
    "/providers/Microsoft.Billing/billingAccounts/{billingAccountName}/listInvoiceSectionsWithCreateSubscriptionPermission": {
      "post": {
        "tags": [
          "BillingAccount"
        ],
        "description": "Lists the invoice sections for which the user has permission to create Azure subscriptions. The operation is supported only for billing accounts with agreement type Microsoft Customer Agreement.",
        "externalDocs": {
          "url": "https://docs.microsoft.com/en-us/rest/api/billing/"
        },
        "operationId": "BillingAccounts_ListInvoiceSectionsByCreateSubscriptionPermission",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "$ref": "./types.json#/parameters/billingAccountName"
          },
          {
            "$ref": "./types.json#/parameters/apiVersionParameter"
          },
          {
            "$ref": "./types.json#/parameters/filter"
          },
          {
            "$ref": "./types.json#/parameters/orderBy"
          },
          {
            "$ref": "./types.json#/parameters/top"
          },
          {
            "$ref": "./types.json#/parameters/skip"
          },
          {
            "$ref": "./types.json#/parameters/count"
          },
          {
            "$ref": "./types.json#/parameters/search"
          }
        ],
        "responses": {
          "200": {
            "description": "The list of invoice section properties with create subscription permission.",
            "schema": {
              "$ref": "#/definitions/InvoiceSectionWithCreateSubscriptionPermissionListResult"
            }
          },
          "default": {
            "description": "Default response",
            "schema": {
              "$ref": "./types.json#/definitions/ArmErrorResponse"
            }
          }
        },
        "x-ms-examples": {
          "InvoiceSectionsListWithCreateSubPermission": {
            "$ref": "./examples/invoiceSectionsListWithCreateSubPermission.json"
          }
        },
        "x-ms-pageable": {
          "nextLinkName": "nextLink"
        }
      }
    }
  },
  "definitions": {
    "BillingAccount": {
      "description": "A billing account.",
      "type": "object",
      "allOf": [
        {
          "$ref": "./types.json#/definitions/ArmResource"
        }
      ],
      "properties": {
        "properties": {
          "description": "The properties of a(n) BillingAccount",
          "allOf": [
            {
              "$ref": "#/definitions/BillingAccountProperties"
            }
          ],
          "x-ms-client-flatten": true
        }
      },
      "x-ms-azure-resource": true
    },
    "BillingAccountListResult": {
      "description": "A container for a list of resources",
      "type": "object",
      "properties": {
        "nextLink": {
          "description": "The link (url) to the next page of results.",
          "type": "string",
          "readOnly": true
        },
        "value": {
          "description": "The list of resources.",
          "type": "array",
          "items": {
            "$ref": "#/definitions/BillingAccount"
          },
          "readOnly": true,
          "x-ms-identifiers": [
            "id"
          ]
        }
      }
    },
    "BillingAccountPatch": {
      "description": "A billing account.",
      "type": "object",
      "allOf": [
        {
          "$ref": "./types.json#/definitions/ArmPatchResource"
        }
      ],
      "properties": {
        "properties": {
          "description": "The properties of a(n) BillingAccount",
          "allOf": [
            {
              "$ref": "#/definitions/BillingAccountProperties"
            }
          ],
          "x-ms-client-flatten": true
        }
      },
      "x-ms-azure-resource": true
    },
    "BillingAccountProperties": {
      "description": "A billing account.",
      "type": "object",
      "properties": {
        "accountStatus": {
          "description": "The current status of the billing account.",
          "enum": [
            "Unknown",
            "Active",
            "UnderReview",
            "Disabled",
            "Deleted",
            "Extended",
            "Pending",
            "New"
          ],
          "type": "string",
          "readOnly": true,
          "x-ms-enum": {
            "name": "BillingAccountStatus",
            "modelAsString": true
          }
        },
        "accountType": {
          "description": "The type of customer.",
          "enum": [
            "Unknown",
            "Enterprise",
            "Individual",
            "Partner",
            "Reseller",
            "ClassicPartner",
            "Internal",
            "Tenant",
            "Business"
          ],
          "type": "string",
          "readOnly": true,
          "x-ms-enum": {
            "name": "AccountType",
            "modelAsString": true
          }
        },
        "accountSubType": {
          "description": "The tier of the account.",
          "enum": [
            "Unknown",
            "None",
            "Individual",
            "Standard",
            "Premier"
          ],
          "type": "string",
          "readOnly": true,
          "x-ms-enum": {
            "name": "AccountSubType",
            "modelAsString": true
          }
        },
        "accountStatusReasonCode": {
          "description": "Reason for the specified billing account status.",
          "enum": [
            "UnusualActivity",
            "ManuallyTerminated",
            "Expired",
            "Transferred",
            "TerminateProcessing"
          ],
          "type": "string",
          "readOnly": true,
          "x-ms-enum": {
            "name": "BillingAccountStatusReasonCode",
            "modelAsString": true
          }
        },
        "agreementType": {
          "description": "The type of agreement.",
          "enum": [
            "Unknown",
            "MicrosoftCustomerAgreement",
            "EnterpriseAgreement",
            "MicrosoftOnlineServicesProgram",
            "MicrosoftPartnerAgreement"
          ],
          "type": "string",
          "readOnly": true,
          "x-ms-enum": {
            "name": "AgreementType",
            "modelAsString": true
          }
        },
        "displayName": {
          "description": "The billing account name.",
          "type": "string"
        },
        "enrollmentDetails": {
          "description": "The properties of an enrollment.",
          "allOf": [
            {
              "$ref": "#/definitions/EnrollmentDetails"
            }
          ]
        },
        "hasReadAccess": {
          "description": "Indicates whether user has read access to the billing account.",
          "type": "boolean"
        },
        "notificationEmailAddress": {
          "description": "Notification email address for legacy account. Available for agreement type Microsoft Online Services Program.",
          "type": "string"
        },
        "primaryBillingTenantId": {
          "description": "The tenant that was used to set up the billing account. By default, only users from this tenant can get role assignments on the billing account and all purchases are provisioned in this tenant.",
          "type": "string"
        },
        "soldTo": {
          "description": "Address details.",
          "allOf": [
            {
              "$ref": "./types.json#/definitions/AddressDetails"
            }
          ]
        },
        "registrationNumber": {
          "description": "Describes the registration number of the organization linked with the billing account.",
          "allOf": [
            {
              "$ref": "#/definitions/RegistrationNumber"
            }
          ]
        }
      }
    },
    "EnrollmentDetails": {
      "description": "The properties of an enrollment.",
      "type": "object",
      "properties": {
        "startDate": {
          "description": "The start date of the enrollment.",
          "type": "string"
        },
        "endDate": {
          "description": "The end date of the enrollment.",
          "type": "string"
        },
        "currency": {
          "description": "The billing currency for the enrollment.",
          "type": "string",
          "readOnly": true
        },
        "channel": {
          "description": "The channel type of the enrollment.",
          "type": "string",
          "readOnly": true
        },
        "language": {
          "description": "The language for the enrollment.",
          "type": "string",
          "readOnly": true
        },
        "countryCode": {
          "description": "The country code of the enrollment.",
          "type": "string",
          "readOnly": true
        },
        "billingCycle": {
          "description": "The billing cycle for the enrollment.",
          "type": "string",
          "readOnly": true
        },
        "extendedTermOption": {
          "description": "The billing account extension opted by the company.",
          "enum": [
            "Unknown",
            "Opted-In",
            "Opted-Out"
          ],
          "type": "string",
          "readOnly": true,
          "x-ms-enum": {
            "name": "ExtendedTermOption",
            "modelAsString": true
          }
        },
        "supportLevel": {
          "description": "The support level offer associated with an enrollment.",
          "enum": [
            "None",
            "Standard",
            "Pro-Direct",
            "Developer"
          ],
          "type": "string",
          "readOnly": true,
          "x-ms-enum": {
            "name": "SupportLevel",
            "modelAsString": true
          }
        },
        "supportCoverage": {
          "description": "The support coverage period for the enrollment.",
          "type": "string",
          "readOnly": true
        },
        "cloud": {
          "description": "The cloud of the enrollment.",
          "type": "string",
          "readOnly": true
        },
        "poNumber": {
          "description": "The purchase order number of the enrollment.",
          "type": "string"
        },
        "markupStatus": {
          "description": "Markup status of enrollment, applicable only for indirect enrollments.",
          "enum": [
            "Unknown",
            "Disabled",
            "Preview",
            "Published",
            "Locked"
          ],
          "type": "string",
          "readOnly": true,
          "x-ms-enum": {
            "name": "MarkupStatus",
            "modelAsString": true
          }
        },
        "indirectRelationshipInfo": {
          "description": "Identifies the billing profile that is linked to another billing profile in indirect purchase motion.",
          "allOf": [
            {
              "$ref": "#/definitions/IndirectRelationshipInfo"
            }
          ]
        },
        "enrollmentInvoiceRecipient": {
          "description": "The contact who receives invoices of the enrollment.",
          "type": "string",
          "readOnly": true
        }
      }
    },
    "IndirectRelationshipInfo": {
      "description": "Identifies the billing profile that is linked to another billing profile in indirect purchase motion.",
      "type": "object",
      "properties": {
        "billingAccountName": {
          "description": "The billing account name of the partner or the customer for an indirect motion.",
          "type": "string"
        },
        "billingProfileName": {
          "description": "The billing profile name of the partner or the customer for an indirect motion. This field is not populated for Enterprise Agreement billing accounts.",
          "type": "string"
        },
        "displayName": {
          "description": "The display name of the partner or customer for an indirect motion.",
          "type": "string"
        }
      }
    },
    "InvoiceSectionWithCreateSubscriptionPermission": {
      "description": "Invoice section properties with create subscription permission.",
      "type": "object",
      "properties": {
        "billingProfileDisplayName": {
          "description": "The name of the billing profile for the invoice section or customer.",
          "type": "string",
          "readOnly": true
        },
        "billingProfileId": {
          "description": "The fully qualified ID that uniquely identifies a billing profile.",
          "type": "string",
          "readOnly": true
        },
        "billingProfileSystemId": {
          "description": "The system generated unique identifier for a billing profile.",
          "type": "string",
          "readOnly": true
        },
        "billingProfileStatus": {
          "description": "The status of the billing profile.",
          "enum": [
            "Unknown",
            "Active",
            "Disabled",
            "Warned",
            "Deleted",
            "UnderReview"
          ],
          "type": "string",
          "readOnly": true,
          "x-ms-enum": {
            "name": "BillingProfileStatus",
            "modelAsString": true
          }
        },
        "billingProfileStatusReasonCode": {
          "description": "Reason for the specified billing profile status.",
          "enum": [
            "PastDue",
            "UnusualActivity",
            "SpendingLimitReached",
            "SpendingLimitExpired"
          ],
          "type": "string",
          "readOnly": true,
          "x-ms-enum": {
            "name": "BillingProfileStatusReasonCode",
            "modelAsString": true
          }
        },
        "billingProfileSpendingLimit": {
          "description": "The billing profile spending limit.",
          "enum": [
            "Off",
            "On"
          ],
          "type": "string",
          "readOnly": true,
          "x-ms-enum": {
            "name": "SpendingLimit",
            "modelAsString": true
          }
        },
        "enabledAzurePlans": {
          "description": "Information about the enabled azure plans.",
          "type": "array",
          "items": {
            "$ref": "./types.json#/definitions/AzurePlan"
          },
          "x-ms-identifiers": []
        },
        "invoiceSectionDisplayName": {
          "description": "The name of the invoice section.",
          "type": "string",
          "readOnly": true
        },
        "invoiceSectionId": {
          "description": "The fully qualified ID that uniquely identifies an invoice section.",
          "type": "string",
          "readOnly": true
        },
        "invoiceSectionSystemId": {
          "description": "The system generated unique identifier for an invoice section.",
          "type": "string",
          "readOnly": true
        }
      }
    },
    "InvoiceSectionWithCreateSubscriptionPermissionListResult": {
      "description": "A container for a list of resources",
      "type": "object",
      "properties": {
        "nextLink": {
          "description": "The link (url) to the next page of results.",
          "type": "string",
          "readOnly": true
        },
        "value": {
          "description": "The list of resources.",
          "type": "array",
          "items": {
            "$ref": "#/definitions/InvoiceSectionWithCreateSubscriptionPermission"
          },
          "readOnly": true,
          "x-ms-identifiers": [
            "invoiceSectionId"
          ]
        }
      }
    },
    "RegistrationNumber": {
      "description": "Describes the registration number of the organization linked with the billing account.",
      "type": "object",
      "properties": {
        "id": {
          "description": "The unique identification number of the organization linked with the billing account.",
          "type": "string"
        },
        "required": {
          "description": "Identifies if the registration number is required for the billing account.",
          "type": "boolean",
          "readOnly": true
        },
        "type": {
          "description": "The types of registration number allowed based on the country of the billing account.",
          "type": "array",
          "items": {
            "type": "string"
          },
          "readOnly": true,
          "x-ms-identifiers": []
        }
      }
    },
    "TransitionDetails": {
      "description": "The details for a billing account transitioned from agreement type Microsoft Online Services Program to agreement type Microsoft Customer Agreement.",
      "type": "object",
      "properties": {
        "transitionDate": {
          "format": "date-time",
          "description": "The transition completion date.",
          "type": "string",
          "readOnly": true
        },
        "anniversaryDay": {
          "format": "date-time",
          "description": "The anniversary day of the pre-transitioned account of type Microsoft Online Services Program.",
          "type": "integer",
          "readOnly": true
        }
      }
    }
  },
  "securityDefinitions": {
    "azure_auth": {
      "type": "oauth2",
      "flow": "implicit",
      "authorizationUrl": "https://login.microsoftonline.com/common/oauth2/authorize",
      "scopes": {
        "user_impersonation": "impersonate your user account"
      },
      "description": "Azure Active Directory OAuth2 Flow."
    }
  },
  "host": "management.azure.com",
  "schemes": [
    "https"
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ]
}
