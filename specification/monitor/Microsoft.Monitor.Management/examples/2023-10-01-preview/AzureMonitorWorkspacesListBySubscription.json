{
  "title": "List Azure Monitor Workspaces by subscription",
  "operationId": "AzureMonitorWorkspaces_ListBySubscription",
  "parameters": {
    "subscriptionId": "703362b3-f278-4e4b-9179-c76eaf41ffc2",
    "api-version": "2023-10-01-preview"
  },
  "responses": {
    "200": {
      "body": {
        "value": [
          {
            "id": "/subscriptions/703362b3-f278-4e4b-9179-c76eaf41ffc2/resourceGroups/myResourceGroup/providers/Microsoft.Monitor/accounts/myAzureMonitorWorkspace",
            "name": "myAzureMonitorWorkspace",
            "type": "Microsoft.Monitor/accounts",
            "location": "eastus",
            "tags": {
              "tag1": "A",
              "tag2": "B"
            },
            "properties": {
              "accountId": "2df515bf-c3ce-4920-84d4-1d9d16542d9f",
              "metrics": {
                "prometheusQueryEndpoint": "https://myAzureMonitorWorkspace-v8hx.eastus.prometheus.monitor.azure.com",
                "internalId": "mac_2df515bf-c3ce-4920-84d4-1d9d16542d9f"
              },
              "provisioningState": "Succeeded",
              "defaultIngestionSettings": {
                "dataCollectionRuleResourceId": "/subscriptions/703362b3-f278-4e4b-9179-c76eaf41ffc2/resourceGroups/MA_myAzureMonitorWorkspace_eastus_managed/providers/Microsoft.Insights/dataCollectionRules/myAzureMonitorWorkspace",
                "dataCollectionEndpointResourceId": "/subscriptions/703362b3-f278-4e4b-9179-c76eaf41ffc2/resourceGroups/MA_myAzureMonitorWorkspace_eastus_managed/providers/Microsoft.Insights/dataCollectionEndpoints/myAzureMonitorWorkspace"
              },
              "privateEndpointConnections": [
                {
                  "id": "/subscriptions/703362b3-f278-4e4b-9179-c76eaf41ffc2/resourceGroups/myResourceGroup/providers/Microsoft.Monitor/accounts/myAzureMonitorWorkspace/privateEndpointConnections/myPrivateEndpointConnection",
                  "name": "myPrivateEndpointConnection",
                  "type": "Microsoft.Monitor/accounts/privateEndpointConnections",
                  "properties": {
                    "provisioningState": "Succeeded",
                    "privateEndpoint": {
                      "id": "/subscriptions/703362b3-f278-4e4b-9179-c76eaf41ffc2/resourceGroups/myResourceGroup/providers/Microsoft.Network/privateEndpoints/myPrivateEndpointConnection"
                    },
                    "groupIds": [
                      "prometheusMetrics"
                    ],
                    "privateLinkServiceConnectionState": {
                      "status": "Approved",
                      "description": "Auto-approved",
                      "actionsRequired": "None"
                    }
                  }
                }
              ],
              "publicNetworkAccess": "Enabled"
            },
            "systemData": {
              "createdBy": "user1",
              "createdByType": "User",
              "createdAt": "2021-04-01T12:34:56.1234567Z",
              "lastModifiedBy": "user2",
              "lastModifiedByType": "User",
              "lastModifiedAt": "2021-04-02T12:34:56.1234567Z"
            }
          },
          {
            "id": "/subscriptions/703362b3-f278-4e4b-9179-c76eaf41ffc2/resourceGroups/herResourceGroup/providers/Microsoft.Monitor/accounts/herAzureMonitorWorkspace",
            "name": "herAzureMonitorWorkspace",
            "type": "Microsoft.Monitor/accounts",
            "location": "westus",
            "tags": {
              "tag1": "A",
              "tag2": "B"
            },
            "properties": {
              "accountId": "823220c6-0415-44d8-bfb2-d5c1c9ea1172",
              "metrics": {
                "prometheusQueryEndpoint": "https://herazuremonitorworkspace-xywz.eastus.prometheus.monitor.azure.com",
                "internalId": "mac_823220c6-0415-44d8-bfb2-d5c1c9ea1172"
              },
              "provisioningState": "Succeeded",
              "defaultIngestionSettings": {
                "dataCollectionRuleResourceId": "/subscriptions/703362b3-f278-4e4b-9179-c76eaf41ffc2/resourceGroups/MA_herAzureMonitorWorkspace_eastus_managed/providers/Microsoft.Insights/dataCollectionRules/herAzureMonitorWorkspace",
                "dataCollectionEndpointResourceId": "/subscriptions/703362b3-f278-4e4b-9179-c76eaf41ffc2/resourceGroups/MA_herAzureMonitorWorkspace_eastus_managed/providers/Microsoft.Insights/dataCollectionEndpoints/herAzureMonitorWorkspace"
              },
              "privateEndpointConnections": [
                {
                  "id": "/subscriptions/703362b3-f278-4e4b-9179-c76eaf41ffc2/resourceGroups/myResourceGroup/providers/Microsoft.Monitor/accounts/myAzureMonitorWorkspace/privateEndpointConnections/myPrivateEndpointConnection",
                  "name": "myPrivateEndpointConnection",
                  "type": "Microsoft.Monitor/accounts/privateEndpointConnections",
                  "properties": {
                    "provisioningState": "Succeeded",
                    "privateEndpoint": {
                      "id": "/subscriptions/703362b3-f278-4e4b-9179-c76eaf41ffc2/resourceGroups/myResourceGroup/providers/Microsoft.Network/privateEndpoints/myPrivateEndpointConnection"
                    },
                    "groupIds": [
                      "prometheusMetrics"
                    ],
                    "privateLinkServiceConnectionState": {
                      "status": "Approved",
                      "description": "Auto-approved",
                      "actionsRequired": "None"
                    }
                  }
                }
              ],
              "publicNetworkAccess": "Enabled"
            },
            "systemData": {
              "createdBy": "user1",
              "createdByType": "User",
              "createdAt": "2021-04-01T12:34:56.1234567Z",
              "lastModifiedBy": "user2",
              "lastModifiedByType": "User",
              "lastModifiedAt": "2021-04-02T12:34:56.1234567Z"
            }
          }
        ],
        "nextLink": null
      }
    }
  }
}
