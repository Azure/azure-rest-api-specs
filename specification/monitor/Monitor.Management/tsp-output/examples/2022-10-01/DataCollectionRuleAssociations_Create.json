{
  "parameters": {
    "api-version": "2022-06-01",
    "associationName": "myAssociation",
    "body": {
      "properties": {
        "dataCollectionRuleId": "/subscriptions/703362b3-f278-4e4b-9179-c76eaf41ffc2/resourceGroups/myResourceGroup/providers/Microsoft.Insights/dataCollectionRules/myCollectionRule"
      }
    },
    "resourceUri": "subscriptions/703362b3-f278-4e4b-9179-c76eaf41ffc2/resourceGroups/myResourceGroup/providers/Microsoft.Compute/virtualMachines/myVm"
  },
  "responses": {
    "200": {
      "body": {
        "name": "myAssociation",
        "type": "Microsoft.Insights/dataCollectionRuleAssociations",
        "etag": "070057da-0000-0000-0000-5ba70d6c0000",
        "id": "/subscriptions/703362b3-f278-4e4b-9179-c76eaf41ffc2/resourceGroups/myResourceGroup/providers/Microsoft.Compute/virtualMachines/myVm/providers/Microsoft.Insights/dataCollectionRuleAssociations/myAssociation",
        "properties": {
          "dataCollectionRuleId": "/subscriptions/703362b3-f278-4e4b-9179-c76eaf41ffc2/resourceGroups/myResourceGroup/providers/Microsoft.Insights/dataCollectionRules/myCollectionRule",
          "provisioningState": "Succeeded"
        },
        "systemData": {
          "createdAt": "2021-04-01T12:34:56.1234567Z",
          "createdBy": "user1",
          "createdByType": "User",
          "lastModifiedAt": "2021-04-02T12:34:56.1234567Z",
          "lastModifiedBy": "user2",
          "lastModifiedByType": "User"
        }
      }
    },
    "201": {
      "body": {
        "name": "myAssociation",
        "type": "Microsoft.Insights/dataCollectionRuleAssociations",
        "etag": "070057da-0000-0000-0000-5ba70d6c0000",
        "id": "/subscriptions/703362b3-f278-4e4b-9179-c76eaf41ffc2/resourceGroups/myResourceGroup/providers/Microsoft.Compute/virtualMachines/myVm/providers/Microsoft.Insights/dataCollectionRuleAssociations/myAssociation",
        "properties": {
          "dataCollectionRuleId": "/subscriptions/703362b3-f278-4e4b-9179-c76eaf41ffc2/resourceGroups/myResourceGroup/providers/Microsoft.Insights/dataCollectionRules/myCollectionRule",
          "provisioningState": "Succeeded"
        },
        "systemData": {
          "createdAt": "2021-04-01T12:34:56.1234567Z",
          "createdBy": "user1",
          "createdByType": "User",
          "lastModifiedAt": "2021-04-02T12:34:56.1234567Z",
          "lastModifiedBy": "user2",
          "lastModifiedByType": "User"
        }
      }
    }
  },
  "operationId": "DataCollectionRuleAssociations_Create",
  "title": "Create or update association"
}