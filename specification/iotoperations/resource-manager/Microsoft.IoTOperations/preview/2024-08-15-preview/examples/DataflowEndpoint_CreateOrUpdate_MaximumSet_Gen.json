{
  "title": "DataflowEndpoint_CreateOrUpdate",
  "operationId": "DataflowEndpoint_CreateOrUpdate",
  "parameters": {
    "api-version": "2024-08-15-preview",
    "subscriptionId": "91DCD62F-6232-4335-BAD5-3938C5184B00",
    "resourceGroupName": "rgiotoperations",
    "instanceName": "resource-name123",
    "dataflowEndpointName": "resource-name123",
    "resource": {
      "properties": {
        "endpointType": "DataExplorer",
        "dataExplorerSettings": {
          "authentication": {
            "method": "SystemAssignedManagedIdentity",
            "systemAssignedManagedIdentitySettings": {
              "audience": "oyhldrhuruamoyuhdomtqkvprgplp"
            },
            "userAssignedManagedIdentitySettings": {
              "clientId": "fb90f267-8872-431a-a76a-a1cec5d3c4d2",
              "scope": "qu",
              "tenantId": "ed060aa2-71ff-4d3f-99c4-a9138356fdec"
            }
          },
          "database": "jikmtldzxcoiykwhdvuenlieukaoq",
          "host": "<cluster>.<region>.kusto.windows.net",
          "batching": {
            "latencySeconds": 3929,
            "maxMessages": 2331
          }
        },
        "dataLakeStorageSettings": {
          "authentication": {
            "method": "SystemAssignedManagedIdentity",
            "accessTokenSettings": {
              "secretRef": "dtvnmwdygo"
            },
            "systemAssignedManagedIdentitySettings": {
              "audience": "oyhldrhuruamoyuhdomtqkvprgplp"
            },
            "userAssignedManagedIdentitySettings": {
              "clientId": "fb90f267-8872-431a-a76a-a1cec5d3c4d2",
              "scope": "qu",
              "tenantId": "ed060aa2-71ff-4d3f-99c4-a9138356fdec"
            }
          },
          "host": "<account>.blob.core.windows.net",
          "batching": {
            "latencySeconds": 3929,
            "maxMessages": 2331
          }
        },
        "fabricOneLakeSettings": {
          "authentication": {
            "method": "SystemAssignedManagedIdentity",
            "systemAssignedManagedIdentitySettings": {
              "audience": "oyhldrhuruamoyuhdomtqkvprgplp"
            },
            "userAssignedManagedIdentitySettings": {
              "clientId": "fb90f267-8872-431a-a76a-a1cec5d3c4d2",
              "scope": "qu",
              "tenantId": "ed060aa2-71ff-4d3f-99c4-a9138356fdec"
            }
          },
          "names": {
            "lakehouseName": "rymtrgpmlmsjnhesejxewoqjeafmrs",
            "workspaceName": "tzlmzpzqldwykhyppaypqmjusxl"
          },
          "oneLakePathType": "Files",
          "host": "https://<host>.fabric.microsoft.com",
          "batching": {
            "latencySeconds": 3929,
            "maxMessages": 2331
          }
        },
        "kafkaSettings": {
          "authentication": {
            "method": "SystemAssignedManagedIdentity",
            "systemAssignedManagedIdentitySettings": {
              "audience": "oyhldrhuruamoyuhdomtqkvprgplp"
            },
            "userAssignedManagedIdentitySettings": {
              "clientId": "fb90f267-8872-431a-a76a-a1cec5d3c4d2",
              "scope": "qu",
              "tenantId": "ed060aa2-71ff-4d3f-99c4-a9138356fdec"
            },
            "saslSettings": {
              "saslType": "Plain",
              "secretRef": "ltcuudrfxtxpwdkdwnxrqoa"
            },
            "x509CertificateSettings": {
              "secretRef": "yefksvoqvqzsforskvsl"
            }
          },
          "consumerGroupId": "tpnxmugobicprwzakfevsvbgdwktb",
          "host": "wcb",
          "batching": {
            "mode": "Enabled",
            "latencyMs": 7914,
            "maxBytes": 7817,
            "maxMessages": 3643
          },
          "copyMqttProperties": "Enabled",
          "compression": "None",
          "kafkaAcks": "Zero",
          "partitionStrategy": "Default",
          "tls": {
            "mode": "Enabled",
            "trustedCaCertificateConfigMapRef": "grscmrvczylksfv"
          },
          "cloudEventMapping": "PassThrough"
        },
        "localStorageSettings": {
          "persistentVolumeClaimRef": "xyljs"
        },
        "mqttSettings": {
          "authentication": {
            "method": "SystemAssignedManagedIdentity",
            "systemAssignedManagedIdentitySettings": {
              "audience": "oyhldrhuruamoyuhdomtqkvprgplp"
            },
            "userAssignedManagedIdentitySettings": {
              "clientId": "fb90f267-8872-431a-a76a-a1cec5d3c4d2",
              "scope": "qu",
              "tenantId": "ed060aa2-71ff-4d3f-99c4-a9138356fdec"
            },
            "serviceAccountTokenSettings": {
              "audience": "jqqaaonhkckgsedozkyfqxgyusf"
            },
            "x509CertificateSettings": {
              "secretRef": "yefksvoqvqzsforskvsl"
            }
          },
          "clientIdPrefix": "catnu",
          "host": "k",
          "protocol": "Mqtt",
          "keepAliveSeconds": 0,
          "retain": "Keep",
          "maxInflightMessages": 0,
          "qos": 2,
          "sessionExpirySeconds": 0,
          "tls": {
            "mode": "Enabled",
            "trustedCaCertificateConfigMapRef": "grscmrvczylksfv"
          },
          "cloudEventMapping": "PassThrough"
        }
      },
      "extendedLocation": {
        "name": "ouxnrgwottudubnekqwjqwgjdrqdt",
        "type": "CustomLocation"
      }
    }
  },
  "responses": {
    "200": {
      "body": {
        "properties": {
          "endpointType": "DataExplorer",
          "dataExplorerSettings": {
            "authentication": {
              "method": "SystemAssignedManagedIdentity",
              "systemAssignedManagedIdentitySettings": {
                "audience": "oyhldrhuruamoyuhdomtqkvprgplp"
              },
              "userAssignedManagedIdentitySettings": {
                "clientId": "fb90f267-8872-431a-a76a-a1cec5d3c4d2",
                "scope": "qu",
                "tenantId": "ed060aa2-71ff-4d3f-99c4-a9138356fdec"
              }
            },
            "database": "jikmtldzxcoiykwhdvuenlieukaoq",
            "host": "<cluster>.<region>.kusto.windows.net",
            "batching": {
              "latencySeconds": 3929,
              "maxMessages": 2331
            }
          },
          "dataLakeStorageSettings": {
            "authentication": {
              "method": "SystemAssignedManagedIdentity",
              "accessTokenSettings": {
                "secretRef": "dtvnmwdygo"
              },
              "systemAssignedManagedIdentitySettings": {
                "audience": "oyhldrhuruamoyuhdomtqkvprgplp"
              },
              "userAssignedManagedIdentitySettings": {
                "clientId": "fb90f267-8872-431a-a76a-a1cec5d3c4d2",
                "scope": "qu",
                "tenantId": "ed060aa2-71ff-4d3f-99c4-a9138356fdec"
              }
            },
            "host": "<account>.blob.core.windows.net",
            "batching": {
              "latencySeconds": 3929,
              "maxMessages": 2331
            }
          },
          "fabricOneLakeSettings": {
            "authentication": {
              "method": "SystemAssignedManagedIdentity",
              "systemAssignedManagedIdentitySettings": {
                "audience": "oyhldrhuruamoyuhdomtqkvprgplp"
              },
              "userAssignedManagedIdentitySettings": {
                "clientId": "fb90f267-8872-431a-a76a-a1cec5d3c4d2",
                "scope": "qu",
                "tenantId": "ed060aa2-71ff-4d3f-99c4-a9138356fdec"
              }
            },
            "names": {
              "lakehouseName": "rymtrgpmlmsjnhesejxewoqjeafmrs",
              "workspaceName": "tzlmzpzqldwykhyppaypqmjusxl"
            },
            "oneLakePathType": "Files",
            "host": "https://<host>.fabric.microsoft.com",
            "batching": {
              "latencySeconds": 3929,
              "maxMessages": 2331
            }
          },
          "kafkaSettings": {
            "authentication": {
              "method": "SystemAssignedManagedIdentity",
              "systemAssignedManagedIdentitySettings": {
                "audience": "oyhldrhuruamoyuhdomtqkvprgplp"
              },
              "userAssignedManagedIdentitySettings": {
                "clientId": "fb90f267-8872-431a-a76a-a1cec5d3c4d2",
                "scope": "qu",
                "tenantId": "ed060aa2-71ff-4d3f-99c4-a9138356fdec"
              },
              "saslSettings": {
                "saslType": "Plain",
                "secretRef": "ltcuudrfxtxpwdkdwnxrqoa"
              },
              "x509CertificateSettings": {
                "secretRef": "yefksvoqvqzsforskvsl"
              }
            },
            "consumerGroupId": "tpnxmugobicprwzakfevsvbgdwktb",
            "host": "wcb",
            "batching": {
              "mode": "Enabled",
              "latencyMs": 7914,
              "maxBytes": 7817,
              "maxMessages": 3643
            },
            "copyMqttProperties": "Enabled",
            "compression": "None",
            "kafkaAcks": "Zero",
            "partitionStrategy": "Default",
            "tls": {
              "mode": "Enabled",
              "trustedCaCertificateConfigMapRef": "grscmrvczylksfv"
            },
            "cloudEventMapping": "PassThrough"
          },
          "localStorageSettings": {
            "persistentVolumeClaimRef": "xyljs"
          },
          "mqttSettings": {
            "authentication": {
              "method": "SystemAssignedManagedIdentity",
              "systemAssignedManagedIdentitySettings": {
                "audience": "oyhldrhuruamoyuhdomtqkvprgplp"
              },
              "userAssignedManagedIdentitySettings": {
                "clientId": "fb90f267-8872-431a-a76a-a1cec5d3c4d2",
                "scope": "qu",
                "tenantId": "ed060aa2-71ff-4d3f-99c4-a9138356fdec"
              },
              "serviceAccountTokenSettings": {
                "audience": "jqqaaonhkckgsedozkyfqxgyusf"
              },
              "x509CertificateSettings": {
                "secretRef": "yefksvoqvqzsforskvsl"
              }
            },
            "clientIdPrefix": "catnu",
            "host": "k",
            "protocol": "Mqtt",
            "keepAliveSeconds": 0,
            "retain": "Keep",
            "maxInflightMessages": 0,
            "qos": 2,
            "sessionExpirySeconds": 0,
            "tls": {
              "mode": "Enabled",
              "trustedCaCertificateConfigMapRef": "grscmrvczylksfv"
            },
            "cloudEventMapping": "PassThrough"
          },
          "provisioningState": "Succeeded"
        },
        "extendedLocation": {
          "name": "ouxnrgwottudubnekqwjqwgjdrqdt",
          "type": "CustomLocation"
        },
        "id": "/subscriptions/0000000-0000-0000-0000-000000000000/resourceGroups/resourceGroup123/providers/Microsoft.IoTOperations/instances/resource-name123/dataflowEndpoints/resource-name123",
        "name": "n",
        "type": "wmddphvkyerhqttz",
        "systemData": {
          "createdBy": "viutkanbcyjwfocmwqhxvm",
          "createdByType": "User",
          "createdAt": "2024-08-09T13:42:55.225Z",
          "lastModifiedBy": "tcmwoclybiimahcowbbxxmye",
          "lastModifiedByType": "User",
          "lastModifiedAt": "2024-08-09T13:42:55.225Z"
        }
      }
    },
    "201": {
      "headers": {
        "Azure-AsyncOperation": "https://contoso.com/operationstatus"
      },
      "body": {
        "properties": {
          "endpointType": "DataExplorer",
          "dataExplorerSettings": {
            "authentication": {
              "method": "SystemAssignedManagedIdentity",
              "systemAssignedManagedIdentitySettings": {
                "audience": "oyhldrhuruamoyuhdomtqkvprgplp"
              },
              "userAssignedManagedIdentitySettings": {
                "clientId": "fb90f267-8872-431a-a76a-a1cec5d3c4d2",
                "scope": "qu",
                "tenantId": "ed060aa2-71ff-4d3f-99c4-a9138356fdec"
              }
            },
            "database": "jikmtldzxcoiykwhdvuenlieukaoq",
            "host": "<cluster>.<region>.kusto.windows.net",
            "batching": {
              "latencySeconds": 3929,
              "maxMessages": 2331
            }
          },
          "dataLakeStorageSettings": {
            "authentication": {
              "method": "SystemAssignedManagedIdentity",
              "accessTokenSettings": {
                "secretRef": "dtvnmwdygo"
              },
              "systemAssignedManagedIdentitySettings": {
                "audience": "oyhldrhuruamoyuhdomtqkvprgplp"
              },
              "userAssignedManagedIdentitySettings": {
                "clientId": "fb90f267-8872-431a-a76a-a1cec5d3c4d2",
                "scope": "qu",
                "tenantId": "ed060aa2-71ff-4d3f-99c4-a9138356fdec"
              }
            },
            "host": "<account>.blob.core.windows.net",
            "batching": {
              "latencySeconds": 3929,
              "maxMessages": 2331
            }
          },
          "fabricOneLakeSettings": {
            "authentication": {
              "method": "SystemAssignedManagedIdentity",
              "systemAssignedManagedIdentitySettings": {
                "audience": "oyhldrhuruamoyuhdomtqkvprgplp"
              },
              "userAssignedManagedIdentitySettings": {
                "clientId": "fb90f267-8872-431a-a76a-a1cec5d3c4d2",
                "scope": "qu",
                "tenantId": "ed060aa2-71ff-4d3f-99c4-a9138356fdec"
              }
            },
            "names": {
              "lakehouseName": "rymtrgpmlmsjnhesejxewoqjeafmrs",
              "workspaceName": "tzlmzpzqldwykhyppaypqmjusxl"
            },
            "oneLakePathType": "Files",
            "host": "https://<host>.fabric.microsoft.com",
            "batching": {
              "latencySeconds": 3929,
              "maxMessages": 2331
            }
          },
          "kafkaSettings": {
            "authentication": {
              "method": "SystemAssignedManagedIdentity",
              "systemAssignedManagedIdentitySettings": {
                "audience": "oyhldrhuruamoyuhdomtqkvprgplp"
              },
              "userAssignedManagedIdentitySettings": {
                "clientId": "fb90f267-8872-431a-a76a-a1cec5d3c4d2",
                "scope": "qu",
                "tenantId": "ed060aa2-71ff-4d3f-99c4-a9138356fdec"
              },
              "saslSettings": {
                "saslType": "Plain",
                "secretRef": "ltcuudrfxtxpwdkdwnxrqoa"
              },
              "x509CertificateSettings": {
                "secretRef": "yefksvoqvqzsforskvsl"
              }
            },
            "consumerGroupId": "tpnxmugobicprwzakfevsvbgdwktb",
            "host": "wcb",
            "batching": {
              "mode": "Enabled",
              "latencyMs": 7914,
              "maxBytes": 7817,
              "maxMessages": 3643
            },
            "copyMqttProperties": "Enabled",
            "compression": "None",
            "kafkaAcks": "Zero",
            "partitionStrategy": "Default",
            "tls": {
              "mode": "Enabled",
              "trustedCaCertificateConfigMapRef": "grscmrvczylksfv"
            },
            "cloudEventMapping": "PassThrough"
          },
          "localStorageSettings": {
            "persistentVolumeClaimRef": "xyljs"
          },
          "mqttSettings": {
            "authentication": {
              "method": "SystemAssignedManagedIdentity",
              "systemAssignedManagedIdentitySettings": {
                "audience": "oyhldrhuruamoyuhdomtqkvprgplp"
              },
              "userAssignedManagedIdentitySettings": {
                "clientId": "fb90f267-8872-431a-a76a-a1cec5d3c4d2",
                "scope": "qu",
                "tenantId": "ed060aa2-71ff-4d3f-99c4-a9138356fdec"
              },
              "serviceAccountTokenSettings": {
                "audience": "jqqaaonhkckgsedozkyfqxgyusf"
              },
              "x509CertificateSettings": {
                "secretRef": "yefksvoqvqzsforskvsl"
              }
            },
            "clientIdPrefix": "catnu",
            "host": "k",
            "protocol": "Mqtt",
            "keepAliveSeconds": 0,
            "retain": "Keep",
            "maxInflightMessages": 0,
            "qos": 2,
            "sessionExpirySeconds": 0,
            "tls": {
              "mode": "Enabled",
              "trustedCaCertificateConfigMapRef": "grscmrvczylksfv"
            },
            "cloudEventMapping": "PassThrough"
          },
          "provisioningState": "Succeeded"
        },
        "extendedLocation": {
          "name": "ouxnrgwottudubnekqwjqwgjdrqdt",
          "type": "CustomLocation"
        },
        "id": "/subscriptions/0000000-0000-0000-0000-000000000000/resourceGroups/resourceGroup123/providers/Microsoft.IoTOperations/instances/resource-name123/dataflowEndpoints/resource-name123",
        "name": "n",
        "type": "wmddphvkyerhqttz",
        "systemData": {
          "createdBy": "viutkanbcyjwfocmwqhxvm",
          "createdByType": "User",
          "createdAt": "2024-08-09T13:42:55.225Z",
          "lastModifiedBy": "tcmwoclybiimahcowbbxxmye",
          "lastModifiedByType": "User",
          "lastModifiedAt": "2024-08-09T13:42:55.225Z"
        }
      }
    }
  }
}
