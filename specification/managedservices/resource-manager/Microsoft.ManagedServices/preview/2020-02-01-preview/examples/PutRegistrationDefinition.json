{
  "parameters": {
    "scope": "subscription/0afefe50-734e-4610-8a82-a144ahf49dea",
    "registrationDefinitionId": "26c128c2-fefa-4340-9bb1-6e081c90ada2",
    "api-version": "2020-02-01-preview",
    "requestBody": {
      "properties": {
        "registrationDefinitionName": "DefinitionName",
        "description": "Tes1t",
        "managedByTenantId": "83abe5cd-bcc3-441a-bd86-e6a75360cecc",
        "authorizations": [
          {
            "principalId": "f98d86a2-4cc4-4e9d-ad47-b3e80a1bcdfc",
            "principalIdDisplayName": "Support User",
            "roleDefinitionId": "acdd72a7-3385-48ef-bd42-f606fba81ae7"
          },
          {
            "principalId": "f98d86a2-4cc4-4e9d-ad47-b3e80a1bcdfc",
            "principalIdDisplayName": "User Access Administrator",
            "roleDefinitionId": "18d7d88d-d35e-4fb5-a5c3-7773c20a72d9",
            "delegatedRoleDefinitionIds": [
              "b24988ac-6180-42a0-ab88-20f7382dd24c"
            ]
          }
        ],
        "eligibleAuthorizations": [
          {
            "principalId": "3e0ed8c6-e902-4fc5-863c-e3ddbb2ae2a2",
            "principalIdDisplayName": "Support User",
            "roleDefinitionId": "ae349356-3a1b-4a5e-921d-050484c6347e",
            "justInTimeAccessPolicy": {
              "multiFactorAuthProvider": "Azure",
              "maximumActivationDuration": "PT8H",
              "managedByTenantApprovers": [
                {
                  "principalId": "d9b22cd6-6407-43cc-8c60-07c56df0b51a",
                  "principalIdDisplayName": "Approver Group"
                }
              ]
            }
          }
        ]
      },
      "plan": {
        "name": "addesai-plan",
        "product": "test",
        "publisher": "marketplace-test",
        "version": "1.0.0"
      }
    }
  },
  "responses": {
    "200": {
      "body": {
        "properties": {
          "description": "Test",
          "managedByTenantId": "83ace5cd-bcc3-441a-hd86-e6a75360cecc",
          "registrationDefinitionName": "DefinitionName",
          "authorizations": [
            {
              "principalId": "f98g86a2-4cc4-4e6d-ad47-b3e80a1bcdfc",
              "principalIdDisplayName": "Support User",
              "roleDefinitionId": "acdd72a7-3385-48ef-bd42-f606fba81ae7"
            },
            {
              "principalId": "f98d86a2-4cc4-4e9d-ad47-b3e80a1bcdfc",
              "principalIdDisplayName": "User Access Administrator",
              "roleDefinitionId": "18d7d88d-d35e-4fb5-a5c3-7773c20a72d9",
              "delegatedRoleDefinitionIds": [
                "b24988ac-6180-42a0-ab88-20f7382dd24c"
              ]
            }
          ],
          "eligibleAuthorizations": [
            {
              "justInTimeAccessPolicy": {
                "multiFactorAuthProvider": "Azure",
                "maximumActivationDuration": "PT8H",
                "managedByTenantApprovers": [
                  {
                    "principalId": "d9b22cd6-6407-43cc-8c60-07c56df0b51a",
                    "principalIdDisplayName": "Approver Group"
                  }
                ]
              },
              "principalId": "3e0ed8c6-e902-4fc5-863c-e3ddbb2ae2a2",
              "principalIdDisplayName": "Support User",
              "roleDefinitionId": "ae349356-3a1b-4a5e-921d-050484c6347e"
            }
          ],
          "provisioningState": "Succeeded",
          "managedByTenantName": "Test Tenant"
        },
        "plan": {
          "name": "addesai-plan",
          "product": "test",
          "publisher": "marketplace-test",
          "version": "1.0.0"
        },
        "id": "/subscriptions/0afefe50-734e-4610-8a82-a144ahf49dea/providers/Microsoft.ManagedServices/registrationDefinitions/26c128c2-fefa-4340-9bb1-6e081c90ada2",
        "type": "Microsoft.ManagedServices/registrationDefinitions",
        "name": "26c128c2-fefa-4340-9bb1-6e081c90ada2"
      }
    },
    "201": {
      "body": {
        "properties": {
          "description": "Test",
          "managedByTenantId": "83ace5cd-bcc3-441a-hd86-e6a75360cecc",
          "registrationDefinitionName": "DefinitionName",
          "authorizations": [
            {
              "principalId": "f98g86a2-4cc4-4e6d-ad47-b3e80a1bcdfc",
              "principalIdDisplayName": "Support User",
              "roleDefinitionId": "acdd72a7-3385-48ef-bd42-f606fba81ae7"
            },
            {
              "principalId": "f98d86a2-4cc4-4e9d-ad47-b3e80a1bcdfc",
              "principalIdDisplayName": "User Access Administrator",
              "roleDefinitionId": "18d7d88d-d35e-4fb5-a5c3-7773c20a72d9",
              "delegatedRoleDefinitionIds": [
                "b24988ac-6180-42a0-ab88-20f7382dd24c"
              ]
            }
          ],
          "eligibleAuthorizations": [
            {
              "justInTimeAccessPolicy": {
                "multiFactorAuthProvider": "Azure",
                "maximumActivationDuration": "PT8H",
                "managedByTenantApprovers": [
                  {
                    "principalId": "d9b22cd6-6407-43cc-8c60-07c56df0b51a",
                    "principalIdDisplayName": "Approver Group"
                  }
                ]
              },
              "principalId": "3e0ed8c6-e902-4fc5-863c-e3ddbb2ae2a2",
              "principalIdDisplayName": "Support User",
              "roleDefinitionId": "ae349356-3a1b-4a5e-921d-050484c6347e"
            }
          ],
          "provisioningState": "Succeeded",
          "managedByTenantName": "Test Tenant"
        },
        "plan": {
          "name": "addesai-plan",
          "product": "test",
          "publisher": "marketplace-test",
          "version": "1.0.0"
        },
        "id": "/subscriptions/0afefe50-734e-4610-8a82-a144ahf49dea/providers/Microsoft.ManagedServices/registrationDefinitions/26c128c2-fefa-4340-9bb1-6e081c90ada2",
        "type": "Microsoft.ManagedServices/registrationDefinitions",
        "name": "26c128c2-fefa-4340-9bb1-6e081c90ada2"
      }
    }
  }
}
