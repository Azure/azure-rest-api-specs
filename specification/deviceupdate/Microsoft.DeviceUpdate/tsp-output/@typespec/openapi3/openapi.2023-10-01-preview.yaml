openapi: 3.0.0
info:
  title: DeviceUpdateClient
  version: 2023-10-01-preview
tags: []
paths:
  /deviceUpdate/{instanceId}/management/deviceClasses:
    get:
      operationId: DeviceManagementOperations_listDeviceClasses
      description: |-
        Gets a list of all device classes (sets of devices compatible with the same
        updates based on the model Id and compat properties reported in the Device
        Update PnP interface in IoT Hub) for all devices connected to Device Update for
        IoT Hub.
      parameters:
        - $ref: '#/components/parameters/Azure.Core.Foundations.ApiVersionParameter'
        - name: instanceId
          in: path
          required: true
          description: The Device Update for IoT Hub account instance identifier.
          schema:
            type: string
        - name: filter
          in: query
          required: true
          description: Restricts the set of device classes returned. You can filter on friendly name.
          schema:
            type: string
        - $ref: '#/components/parameters/Azure.Core.ClientRequestIdHeader'
      responses:
        '200':
          description: The request has succeeded.
          headers:
            x-ms-client-request-id:
              required: false
              description: An opaque, globally-unique, client-generated string identifier for the request.
              schema:
                type: string
                format: uuid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PagedDeviceClass'
        default:
          description: An unexpected error response.
          headers:
            x-ms-error-code:
              required: false
              description: String error code indicating what went wrong.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Azure.Core.Foundations.ErrorResponse'
  /deviceUpdate/{instanceId}/management/deviceClasses/{deviceClassId}:
    get:
      operationId: DeviceManagementOperations_getDeviceClass
      description: Gets the properties of a device class.
      parameters:
        - $ref: '#/components/parameters/Azure.Core.Foundations.ApiVersionParameter'
        - name: instanceId
          in: path
          required: true
          description: The Device Update for IoT Hub account instance identifier.
          schema:
            type: string
        - name: deviceClassId
          in: path
          required: true
          description: |-
            The device class identifier. This is generated from the model Id and the compat
            properties reported by the device update agent in the Device Update PnP
            interface in IoT Hub. It is a hex-encoded SHA1 hash.
          schema:
            type: string
        - $ref: '#/components/parameters/Azure.Core.ClientRequestIdHeader'
      responses:
        '200':
          description: The request has succeeded.
          headers:
            x-ms-client-request-id:
              required: false
              description: An opaque, globally-unique, client-generated string identifier for the request.
              schema:
                type: string
                format: uuid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeviceClass'
        default:
          description: An unexpected error response.
          headers:
            x-ms-error-code:
              required: false
              description: String error code indicating what went wrong.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Azure.Core.Foundations.ErrorResponse'
    patch:
      operationId: DeviceManagementOperations_updateDeviceClass
      description: Update device class details.
      parameters:
        - $ref: '#/components/parameters/Azure.Core.Foundations.ApiVersionParameter'
        - name: instanceId
          in: path
          required: true
          description: The Device Update for IoT Hub account instance identifier.
          schema:
            type: string
        - name: deviceClassId
          in: path
          required: true
          description: |-
            The device class identifier. This is generated from the model Id and the compat
            properties reported by the device update agent in the Device Update PnP
            interface in IoT Hub. It is a hex-encoded SHA1 hash.
          schema:
            type: string
        - $ref: '#/components/parameters/Azure.Core.ClientRequestIdHeader'
      responses:
        '200':
          description: The request has succeeded.
          headers:
            x-ms-client-request-id:
              required: false
              description: An opaque, globally-unique, client-generated string identifier for the request.
              schema:
                type: string
                format: uuid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeviceClass'
        default:
          description: An unexpected error response.
          headers:
            x-ms-error-code:
              required: false
              description: String error code indicating what went wrong.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Azure.Core.Foundations.ErrorResponse'
      requestBody:
        description: The resource instance.
        required: true
        content:
          application/merge-patch+json:
            schema:
              $ref: '#/components/schemas/DeviceClassUpdate'
    delete:
      operationId: DeviceManagementOperations_deleteDeviceClass
      description: |-
        Deletes a device class. Device classes are created automatically when Device
        Update-enabled devices are connected to the hub but are not automatically
        cleaned up since they are referenced by DeviceClassSubgroups. If the user has
        deleted all DeviceClassSubgroups for a device class they can also delete the
        device class to remove the records from the system and to stop checking the
        compatibility of this device class with new updates. If a device is ever
        reconnected for this device class it will be re-created.
      parameters:
        - $ref: '#/components/parameters/Azure.Core.Foundations.ApiVersionParameter'
        - name: instanceId
          in: path
          required: true
          description: The Device Update for IoT Hub account instance identifier.
          schema:
            type: string
        - name: deviceClassId
          in: path
          required: true
          description: |-
            The device class identifier. This is generated from the model Id and the compat
            properties reported by the device update agent in the Device Update PnP
            interface in IoT Hub. It is a hex-encoded SHA1 hash.
          schema:
            type: string
        - $ref: '#/components/parameters/Azure.Core.ClientRequestIdHeader'
      responses:
        '204':
          description: 'There is no content to send for this request, but the headers may be useful. '
          headers:
            x-ms-client-request-id:
              required: false
              description: An opaque, globally-unique, client-generated string identifier for the request.
              schema:
                type: string
                format: uuid
        default:
          description: An unexpected error response.
          headers:
            x-ms-error-code:
              required: false
              description: String error code indicating what went wrong.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Azure.Core.Foundations.ErrorResponse'
  /deviceUpdate/{instanceId}/management/deviceClasses/{deviceClassId}/installableUpdates:
    get:
      operationId: DeviceManagementOperations_listInstallableUpdatesForDeviceClass
      description: Gets a list of installable updates for a device class.
      parameters:
        - $ref: '#/components/parameters/Azure.Core.Foundations.ApiVersionParameter'
        - name: instanceId
          in: path
          required: true
          description: The Device Update for IoT Hub account instance identifier.
          schema:
            type: string
        - name: deviceClassId
          in: path
          required: true
          description: Device class identifier.
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PagedUpdateInfo'
        default:
          description: An unexpected error response.
          headers:
            x-ms-error-code:
              required: false
              description: String error code indicating what went wrong.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Azure.Core.Foundations.ErrorResponse'
  /deviceUpdate/{instanceId}/management/deviceDiagnostics/deviceHealth:
    get:
      operationId: DeviceManagementOperations_listHealthOfDevices
      description: Get list of device health
      parameters:
        - $ref: '#/components/parameters/Azure.Core.Foundations.ApiVersionParameter'
        - name: instanceId
          in: path
          required: true
          description: The Device Update for IoT Hub account instance identifier.
          schema:
            type: string
        - name: filter
          in: query
          required: true
          description: |-
            Restricts the set of devices for which device health is returned. You can
            filter on status, device id and module id.
          schema:
            type: string
        - $ref: '#/components/parameters/Azure.Core.ClientRequestIdHeader'
      responses:
        '200':
          description: The request has succeeded.
          headers:
            x-ms-client-request-id:
              required: false
              description: An opaque, globally-unique, client-generated string identifier for the request.
              schema:
                type: string
                format: uuid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PagedDeviceHealth'
        default:
          description: An unexpected error response.
          headers:
            x-ms-error-code:
              required: false
              description: String error code indicating what went wrong.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Azure.Core.Foundations.ErrorResponse'
  /deviceUpdate/{instanceId}/management/deviceDiagnostics/logCollections:
    get:
      operationId: DeviceManagementOperations_listLogCollections
      description: Get all device diagnostics log collections
      parameters:
        - $ref: '#/components/parameters/Azure.Core.Foundations.ApiVersionParameter'
        - name: instanceId
          in: path
          required: true
          description: The Device Update for IoT Hub account instance identifier.
          schema:
            type: string
        - $ref: '#/components/parameters/Azure.Core.ClientRequestIdHeader'
      responses:
        '200':
          description: The request has succeeded.
          headers:
            x-ms-client-request-id:
              required: false
              description: An opaque, globally-unique, client-generated string identifier for the request.
              schema:
                type: string
                format: uuid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PagedLogCollection'
        default:
          description: An unexpected error response.
          headers:
            x-ms-error-code:
              required: false
              description: String error code indicating what went wrong.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Azure.Core.Foundations.ErrorResponse'
  /deviceUpdate/{instanceId}/management/deviceDiagnostics/logCollections/{operationId}:
    get:
      operationId: DeviceManagementOperations_getLogCollection
      description: Get the device diagnostics log collection
      parameters:
        - $ref: '#/components/parameters/Azure.Core.Foundations.ApiVersionParameter'
        - name: instanceId
          in: path
          required: true
          description: The Device Update for IoT Hub account instance identifier.
          schema:
            type: string
        - name: operationId
          in: path
          required: true
          description: The log collection id.
          schema:
            type: string
        - $ref: '#/components/parameters/Azure.Core.ClientRequestIdHeader'
      responses:
        '200':
          description: The request has succeeded.
          headers:
            x-ms-client-request-id:
              required: false
              description: An opaque, globally-unique, client-generated string identifier for the request.
              schema:
                type: string
                format: uuid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LogCollection'
        default:
          description: An unexpected error response.
          headers:
            x-ms-error-code:
              required: false
              description: String error code indicating what went wrong.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Azure.Core.Foundations.ErrorResponse'
    put:
      operationId: DeviceManagementOperations_startLogCollection
      description: Start the device diagnostics log collection on specified devices.
      parameters:
        - $ref: '#/components/parameters/Azure.Core.Foundations.ApiVersionParameter'
        - name: instanceId
          in: path
          required: true
          description: The Device Update for IoT Hub account instance identifier.
          schema:
            type: string
        - name: operationId
          in: path
          required: true
          description: The log collection id.
          schema:
            type: string
        - $ref: '#/components/parameters/Azure.Core.ClientRequestIdHeader'
      responses:
        '200':
          description: The request has succeeded.
          headers:
            x-ms-client-request-id:
              required: false
              description: An opaque, globally-unique, client-generated string identifier for the request.
              schema:
                type: string
                format: uuid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LogCollection'
        '201':
          description: The request has succeeded and a new resource has been created as a result.
          headers:
            x-ms-client-request-id:
              required: false
              description: An opaque, globally-unique, client-generated string identifier for the request.
              schema:
                type: string
                format: uuid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LogCollection'
        default:
          description: An unexpected error response.
          headers:
            x-ms-error-code:
              required: false
              description: String error code indicating what went wrong.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Azure.Core.Foundations.ErrorResponse'
      requestBody:
        description: The resource instance.
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LogCollectionCreateOrUpdate'
  /deviceUpdate/{instanceId}/management/deviceDiagnostics/logCollections/{operationId}/detailedStatus:
    get:
      operationId: DeviceManagementOperations_getLogCollectionDetailedStatus
      description: Get log collection with detailed status
      parameters:
        - $ref: '#/components/parameters/Azure.Core.Foundations.ApiVersionParameter'
        - name: instanceId
          in: path
          required: true
          description: The Device Update for IoT Hub account instance identifier.
          schema:
            type: string
        - name: operationId
          in: path
          required: true
          description: The log collection id.
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LogCollectionOperationDetailedStatus'
        default:
          description: An unexpected error response.
          headers:
            x-ms-error-code:
              required: false
              description: String error code indicating what went wrong.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Azure.Core.Foundations.ErrorResponse'
  /deviceUpdate/{instanceId}/management/devices:
    get:
      operationId: DeviceManagementOperations_listDevices
      description: Gets a list of devices connected to Device Update for IoT Hub.
      parameters:
        - $ref: '#/components/parameters/Azure.Core.Foundations.ApiVersionParameter'
        - name: instanceId
          in: path
          required: true
          description: The Device Update for IoT Hub account instance identifier.
          schema:
            type: string
        - name: filter
          in: query
          required: true
          description: |-
            Restricts the set of devices returned. You can filter on GroupId,
            DeviceClassId, or GroupId and DeploymentStatus. Use DeploymentStatus eq null to
            query for devices with no deployment status (that have never been deployed to).
          schema:
            type: string
        - $ref: '#/components/parameters/Azure.Core.ClientRequestIdHeader'
      responses:
        '200':
          description: The request has succeeded.
          headers:
            x-ms-client-request-id:
              required: false
              description: An opaque, globally-unique, client-generated string identifier for the request.
              schema:
                type: string
                format: uuid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PagedDevice'
        default:
          description: An unexpected error response.
          headers:
            x-ms-error-code:
              required: false
              description: String error code indicating what went wrong.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Azure.Core.Foundations.ErrorResponse'
  /deviceUpdate/{instanceId}/management/devices/{deviceId}:
    get:
      operationId: DeviceManagementOperations_getDevice
      description: |-
        Gets the device properties and latest deployment status for a device connected
        to Device Update for IoT Hub.
      parameters:
        - $ref: '#/components/parameters/Azure.Core.Foundations.ApiVersionParameter'
        - name: instanceId
          in: path
          required: true
          description: The Device Update for IoT Hub account instance identifier.
          schema:
            type: string
        - name: deviceId
          in: path
          required: true
          description: Device identity.
          schema:
            type: string
        - $ref: '#/components/parameters/Azure.Core.ClientRequestIdHeader'
      responses:
        '200':
          description: The request has succeeded.
          headers:
            x-ms-client-request-id:
              required: false
              description: An opaque, globally-unique, client-generated string identifier for the request.
              schema:
                type: string
                format: uuid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Device'
        default:
          description: An unexpected error response.
          headers:
            x-ms-error-code:
              required: false
              description: String error code indicating what went wrong.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Azure.Core.Foundations.ErrorResponse'
  /deviceUpdate/{instanceId}/management/devices/{deviceId}/modules/{moduleId}:
    get:
      operationId: DeviceManagementOperations_getDeviceModule
      description: |-
        Gets the device module properties and latest deployment status for a device
        module connected to Device Update for IoT Hub.
      parameters:
        - $ref: '#/components/parameters/Azure.Core.Foundations.ApiVersionParameter'
        - $ref: '#/components/parameters/InstanceIdParameter'
        - name: deviceId
          in: path
          required: true
          description: Device identifier in Azure IoT Hub.
          schema:
            type: string
        - name: moduleId
          in: path
          required: true
          description: Device module identifier in Azure IoT Hub.
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Device'
        default:
          description: An unexpected error response.
          headers:
            x-ms-error-code:
              required: false
              description: String error code indicating what went wrong.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Azure.Core.Foundations.ErrorResponse'
  /deviceUpdate/{instanceId}/management/devices:import:
    post:
      operationId: DeviceManagementOperations_importDevice
      description: |-
        Import existing devices from IoT Hub. This is a long-running-operation; use
        Operation-Location response header value to check for operation status.
      parameters:
        - $ref: '#/components/parameters/Azure.Core.Foundations.ApiVersionParameter'
        - $ref: '#/components/parameters/InstanceIdParameter'
      responses:
        '202':
          description: The request has been accepted for processing, but processing has not yet completed.
          headers:
            Operation-Location:
              required: false
              schema:
                type: string
                format: uri
        default:
          description: An unexpected error response.
          headers:
            x-ms-error-code:
              required: false
              description: String error code indicating what went wrong.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Azure.Core.Foundations.ErrorResponse'
      requestBody:
        description: The types of devices to import.
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ImportType'
  /deviceUpdate/{instanceId}/management/groups:
    get:
      operationId: DeviceManagementOperations_listGroups
      description: Gets a list of all device groups.  The $default group will always be returned first.
      parameters:
        - $ref: '#/components/parameters/Azure.Core.Foundations.ApiVersionParameter'
        - name: instanceId
          in: path
          required: true
          description: The Device Update for IoT Hub account instance identifier.
          schema:
            type: string
        - name: orderby
          in: query
          required: true
          description: |-
            Orders the set of groups returned. You can order by groupId, deviceCount,
            createdDate, subgroupsWithNewUpdatesAvailableCount,
            subgroupsWithUpdatesInProgressCount, or subgroupsOnLatestUpdateCount.
          schema:
            type: string
        - $ref: '#/components/parameters/Azure.Core.ClientRequestIdHeader'
      responses:
        '200':
          description: The request has succeeded.
          headers:
            x-ms-client-request-id:
              required: false
              description: An opaque, globally-unique, client-generated string identifier for the request.
              schema:
                type: string
                format: uuid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PagedGroup'
        default:
          description: An unexpected error response.
          headers:
            x-ms-error-code:
              required: false
              description: String error code indicating what went wrong.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Azure.Core.Foundations.ErrorResponse'
  /deviceUpdate/{instanceId}/management/groups/{groupId}:
    get:
      operationId: DeviceManagementOperations_getGroup
      description: Gets the device group properties.
      parameters:
        - $ref: '#/components/parameters/Azure.Core.Foundations.ApiVersionParameter'
        - name: instanceId
          in: path
          required: true
          description: The Device Update for IoT Hub account instance identifier.
          schema:
            type: string
        - name: groupId
          in: path
          required: true
          description: |-
            Group identity. This is created from the value of the ADUGroup tag in the Iot
            Hub's device/module twin or $default for devices with no tag.
          schema:
            type: string
        - $ref: '#/components/parameters/Azure.Core.ClientRequestIdHeader'
      responses:
        '200':
          description: The request has succeeded.
          headers:
            x-ms-client-request-id:
              required: false
              description: An opaque, globally-unique, client-generated string identifier for the request.
              schema:
                type: string
                format: uuid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Group'
        default:
          description: An unexpected error response.
          headers:
            x-ms-error-code:
              required: false
              description: String error code indicating what went wrong.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Azure.Core.Foundations.ErrorResponse'
    delete:
      operationId: DeviceManagementOperations_deleteGroup
      description: |-
        Deletes a device group. This group is automatically created when a Device
        Update-enabled device is connected to the hub and reports its properties.
        Groups, subgroups, and deployments are not automatically cleaned up but are
        retained for history purposes. Users can call this method to delete a group if
        they do not need to retain any of the history of the group and no longer need
        it. If a device is ever connected again for this group after the group was
        deleted it will be automatically re-created but there will be no history.
      parameters:
        - $ref: '#/components/parameters/Azure.Core.Foundations.ApiVersionParameter'
        - name: instanceId
          in: path
          required: true
          description: The Device Update for IoT Hub account instance identifier.
          schema:
            type: string
        - name: groupId
          in: path
          required: true
          description: |-
            Group identity. This is created from the value of the ADUGroup tag in the Iot
            Hub's device/module twin or $default for devices with no tag.
          schema:
            type: string
        - $ref: '#/components/parameters/Azure.Core.ClientRequestIdHeader'
      responses:
        '204':
          description: 'There is no content to send for this request, but the headers may be useful. '
          headers:
            x-ms-client-request-id:
              required: false
              description: An opaque, globally-unique, client-generated string identifier for the request.
              schema:
                type: string
                format: uuid
        default:
          description: An unexpected error response.
          headers:
            x-ms-error-code:
              required: false
              description: String error code indicating what went wrong.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Azure.Core.Foundations.ErrorResponse'
  /deviceUpdate/{instanceId}/management/groups/{groupId}/bestUpdates:
    get:
      operationId: DeviceManagementOperations_listBestUpdatesForGroup
      description: |-
        Get the best available updates for a device group and a count of how many
        devices need each update.
      parameters:
        - $ref: '#/components/parameters/Azure.Core.Foundations.ApiVersionParameter'
        - name: instanceId
          in: path
          required: true
          description: The Device Update for IoT Hub account instance identifier.
          schema:
            type: string
        - name: groupId
          in: path
          required: true
          description: |-
            Group identity. This is created from the value of the ADUGroup tag in the Iot
            Hub's device/module twin or $default for devices with no tag.
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PagedDeviceClassSubgroupUpdatableDevices'
        default:
          description: An unexpected error response.
          headers:
            x-ms-error-code:
              required: false
              description: String error code indicating what went wrong.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Azure.Core.Foundations.ErrorResponse'
  /deviceUpdate/{instanceId}/management/groups/{groupId}/deployments:
    get:
      operationId: DeviceManagementOperations_listDeploymentsForGroup
      description: Gets a list of deployments for a device group.
      parameters:
        - $ref: '#/components/parameters/Azure.Core.Foundations.ApiVersionParameter'
        - name: instanceId
          in: path
          required: true
          description: The Device Update for IoT Hub account instance identifier.
          schema:
            type: string
        - name: groupId
          in: path
          required: true
          description: |-
            Group identity. This is created from the value of the ADUGroup tag in the Iot
            Hub's device/module twin or $default for devices with no tag.
          schema:
            type: string
        - name: orderby
          in: query
          required: true
          description: Orders the set of deployments returned. You can order by start date.
          schema:
            type: string
        - $ref: '#/components/parameters/Azure.Core.ClientRequestIdHeader'
      responses:
        '200':
          description: The request has succeeded.
          headers:
            x-ms-client-request-id:
              required: false
              description: An opaque, globally-unique, client-generated string identifier for the request.
              schema:
                type: string
                format: uuid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PagedDeployment'
        default:
          description: An unexpected error response.
          headers:
            x-ms-error-code:
              required: false
              description: String error code indicating what went wrong.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Azure.Core.Foundations.ErrorResponse'
  /deviceUpdate/{instanceId}/management/groups/{groupId}/deployments/{deploymentId}:
    get:
      operationId: DeviceManagementOperations_getDeployment
      description: Gets the deployment properties.
      parameters:
        - $ref: '#/components/parameters/Azure.Core.Foundations.ApiVersionParameter'
        - name: instanceId
          in: path
          required: true
          description: The Device Update for IoT Hub account instance identifier.
          schema:
            type: string
        - name: groupId
          in: path
          required: true
          description: |-
            Group identity. This is created from the value of the ADUGroup tag in the Iot
            Hub's device/module twin or $default for devices with no tag.
          schema:
            type: string
        - name: deploymentId
          in: path
          required: true
          description: |-
            The caller-provided deployment identifier. This cannot be longer than 73
            characters, must be all lower-case, and cannot contain '&', '^', '[', ']', '{',
            '}', '|', '<', '>', forward slash, backslash, or double quote. The Updates view
            in the Azure Portal IoT Hub resource generates a GUID for deploymentId when you
            create a deployment.
          schema:
            type: string
        - $ref: '#/components/parameters/Azure.Core.ClientRequestIdHeader'
      responses:
        '200':
          description: The request has succeeded.
          headers:
            x-ms-client-request-id:
              required: false
              description: An opaque, globally-unique, client-generated string identifier for the request.
              schema:
                type: string
                format: uuid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Deployment'
        default:
          description: An unexpected error response.
          headers:
            x-ms-error-code:
              required: false
              description: String error code indicating what went wrong.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Azure.Core.Foundations.ErrorResponse'
    patch:
      operationId: DeviceManagementOperations_createOrUpdateDeployment
      description: Creates or updates a deployment.
      parameters:
        - $ref: '#/components/parameters/Azure.Core.Foundations.ApiVersionParameter'
        - name: instanceId
          in: path
          required: true
          description: The Device Update for IoT Hub account instance identifier.
          schema:
            type: string
        - name: groupId
          in: path
          required: true
          description: |-
            Group identity. This is created from the value of the ADUGroup tag in the Iot
            Hub's device/module twin or $default for devices with no tag.
          schema:
            type: string
        - name: deploymentId
          in: path
          required: true
          description: |-
            The caller-provided deployment identifier. This cannot be longer than 73
            characters, must be all lower-case, and cannot contain '&', '^', '[', ']', '{',
            '}', '|', '<', '>', forward slash, backslash, or double quote. The Updates view
            in the Azure Portal IoT Hub resource generates a GUID for deploymentId when you
            create a deployment.
          schema:
            type: string
        - $ref: '#/components/parameters/Azure.Core.ClientRequestIdHeader'
      responses:
        '200':
          description: The request has succeeded.
          headers:
            x-ms-client-request-id:
              required: false
              description: An opaque, globally-unique, client-generated string identifier for the request.
              schema:
                type: string
                format: uuid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Deployment'
        '201':
          description: The request has succeeded and a new resource has been created as a result.
          headers:
            x-ms-client-request-id:
              required: false
              description: An opaque, globally-unique, client-generated string identifier for the request.
              schema:
                type: string
                format: uuid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Deployment'
        default:
          description: An unexpected error response.
          headers:
            x-ms-error-code:
              required: false
              description: String error code indicating what went wrong.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Azure.Core.Foundations.ErrorResponse'
      requestBody:
        description: The resource instance.
        required: true
        content:
          application/merge-patch+json:
            schema:
              $ref: '#/components/schemas/DeploymentCreateOrUpdate'
    delete:
      operationId: DeviceManagementOperations_deleteDeployment
      description: Deletes a deployment.
      parameters:
        - $ref: '#/components/parameters/Azure.Core.Foundations.ApiVersionParameter'
        - name: instanceId
          in: path
          required: true
          description: The Device Update for IoT Hub account instance identifier.
          schema:
            type: string
        - name: groupId
          in: path
          required: true
          description: |-
            Group identity. This is created from the value of the ADUGroup tag in the Iot
            Hub's device/module twin or $default for devices with no tag.
          schema:
            type: string
        - name: deploymentId
          in: path
          required: true
          description: |-
            The caller-provided deployment identifier. This cannot be longer than 73
            characters, must be all lower-case, and cannot contain '&', '^', '[', ']', '{',
            '}', '|', '<', '>', forward slash, backslash, or double quote. The Updates view
            in the Azure Portal IoT Hub resource generates a GUID for deploymentId when you
            create a deployment.
          schema:
            type: string
        - $ref: '#/components/parameters/Azure.Core.ClientRequestIdHeader'
      responses:
        '204':
          description: 'There is no content to send for this request, but the headers may be useful. '
          headers:
            x-ms-client-request-id:
              required: false
              description: An opaque, globally-unique, client-generated string identifier for the request.
              schema:
                type: string
                format: uuid
        default:
          description: An unexpected error response.
          headers:
            x-ms-error-code:
              required: false
              description: String error code indicating what went wrong.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Azure.Core.Foundations.ErrorResponse'
  /deviceUpdate/{instanceId}/management/groups/{groupId}/deployments/{deploymentId}/status:
    get:
      operationId: DeviceManagementOperations_getDeploymentStatus
      description: |-
        Gets the status of a deployment including a breakdown of how many devices in
        the deployment are in progress, completed, or failed.
      parameters:
        - $ref: '#/components/parameters/Azure.Core.Foundations.ApiVersionParameter'
        - name: instanceId
          in: path
          required: true
          description: The Device Update for IoT Hub account instance identifier.
          schema:
            type: string
        - name: groupId
          in: path
          required: true
          description: |-
            Group identity. This is created from the value of the ADUGroup tag in the Iot
            Hub's device/module twin or $default for devices with no tag.
          schema:
            type: string
        - name: deploymentId
          in: path
          required: true
          description: Deployment identifier.
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeploymentStatus'
        default:
          description: An unexpected error response.
          headers:
            x-ms-error-code:
              required: false
              description: String error code indicating what went wrong.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Azure.Core.Foundations.ErrorResponse'
  /deviceUpdate/{instanceId}/management/groups/{groupId}/deviceClassSubgroups:
    get:
      operationId: DeviceManagementOperations_listDeviceClassSubgroupsForGroup
      description: |-
        Get the device class subgroups for the group. A device class subgroup is the
        set of devices within the group that share the same device class. All devices
        within the same device class are compatible with the same updates.
      parameters:
        - $ref: '#/components/parameters/Azure.Core.Foundations.ApiVersionParameter'
        - name: instanceId
          in: path
          required: true
          description: The Device Update for IoT Hub account instance identifier.
          schema:
            type: string
        - name: groupId
          in: path
          required: true
          description: |-
            Group identity. This is created from the value of the ADUGroup tag in the Iot
            Hub's device/module twin or $default for devices with no tag.
          schema:
            type: string
        - name: filter
          in: query
          required: true
          description: |-
            Restricts the set of device class subgroups returned. You can filter on compat
            properties by name and value. (i.e. filter=compatProperties/propertyName1 eq
            'value1' and compatProperties/propertyName2 eq 'value2')
          schema:
            type: string
        - $ref: '#/components/parameters/Azure.Core.ClientRequestIdHeader'
      responses:
        '200':
          description: The request has succeeded.
          headers:
            x-ms-client-request-id:
              required: false
              description: An opaque, globally-unique, client-generated string identifier for the request.
              schema:
                type: string
                format: uuid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PagedDeviceClassSubgroup'
        default:
          description: An unexpected error response.
          headers:
            x-ms-error-code:
              required: false
              description: String error code indicating what went wrong.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Azure.Core.Foundations.ErrorResponse'
  /deviceUpdate/{instanceId}/management/groups/{groupId}/deviceClassSubgroups/{deviceClassId}:
    get:
      operationId: DeviceManagementOperations_getDeviceClassSubgroup
      description: |-
        Gets device class subgroup details. A device class subgroup is the set of
        devices within the group that share the same device class. All devices within
        the same device class are compatible with the same updates.
      parameters:
        - $ref: '#/components/parameters/Azure.Core.Foundations.ApiVersionParameter'
        - name: instanceId
          in: path
          required: true
          description: The Device Update for IoT Hub account instance identifier.
          schema:
            type: string
        - name: groupId
          in: path
          required: true
          description: |-
            Group identity. This is created from the value of the ADUGroup tag in the Iot
            Hub's device/module twin or $default for devices with no tag.
          schema:
            type: string
        - name: deviceClassId
          in: path
          required: true
          description: |-
            Device class subgroup identity. This is generated from the model Id and the
            compat properties reported by the device update agent in the Device Update PnP
            interface in IoT Hub. It is a hex-encoded SHA1 hash.
          schema:
            type: string
        - $ref: '#/components/parameters/Azure.Core.ClientRequestIdHeader'
      responses:
        '200':
          description: The request has succeeded.
          headers:
            x-ms-client-request-id:
              required: false
              description: An opaque, globally-unique, client-generated string identifier for the request.
              schema:
                type: string
                format: uuid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeviceClassSubgroup'
        default:
          description: An unexpected error response.
          headers:
            x-ms-error-code:
              required: false
              description: String error code indicating what went wrong.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Azure.Core.Foundations.ErrorResponse'
    delete:
      operationId: DeviceManagementOperations_deleteDeviceClassSubgroup
      description: |-
        Deletes a device class subgroup. This subgroup is automatically created when a
        Device Update-enabled device is connected to the hub and reports its
        properties. Groups, subgroups, and deployments are not automatically cleaned up
        but are retained for history purposes. Users can call this method to delete a
        subgroup if they do not need to retain any of the history of the subgroup and
        no longer need it. If a device is ever connected again for this subgroup after
        the subgroup was deleted it will be automatically re-created but there will be
        no history.
      parameters:
        - $ref: '#/components/parameters/Azure.Core.Foundations.ApiVersionParameter'
        - name: instanceId
          in: path
          required: true
          description: The Device Update for IoT Hub account instance identifier.
          schema:
            type: string
        - name: groupId
          in: path
          required: true
          description: |-
            Group identity. This is created from the value of the ADUGroup tag in the Iot
            Hub's device/module twin or $default for devices with no tag.
          schema:
            type: string
        - name: deviceClassId
          in: path
          required: true
          description: |-
            Device class subgroup identity. This is generated from the model Id and the
            compat properties reported by the device update agent in the Device Update PnP
            interface in IoT Hub. It is a hex-encoded SHA1 hash.
          schema:
            type: string
        - $ref: '#/components/parameters/Azure.Core.ClientRequestIdHeader'
      responses:
        '204':
          description: 'There is no content to send for this request, but the headers may be useful. '
          headers:
            x-ms-client-request-id:
              required: false
              description: An opaque, globally-unique, client-generated string identifier for the request.
              schema:
                type: string
                format: uuid
        default:
          description: An unexpected error response.
          headers:
            x-ms-error-code:
              required: false
              description: String error code indicating what went wrong.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Azure.Core.Foundations.ErrorResponse'
  /deviceUpdate/{instanceId}/management/groups/{groupId}/deviceClassSubgroups/{deviceClassId}/bestUpdates:
    get:
      operationId: DeviceManagementOperations_getBestUpdatesForDeviceClassSubgroup
      description: |-
        Get the best available update for a device class subgroup and a count of how
        many devices need this update.
      parameters:
        - $ref: '#/components/parameters/Azure.Core.Foundations.ApiVersionParameter'
        - name: instanceId
          in: path
          required: true
          description: The Device Update for IoT Hub account instance identifier.
          schema:
            type: string
        - name: groupId
          in: path
          required: true
          description: |-
            Group identity. This is created from the value of the ADUGroup tag in the Iot
            Hub's device/module twin or $default for devices with no tag.
          schema:
            type: string
        - name: deviceClassId
          in: path
          required: true
          description: |-
            Device class subgroup identity. This is generated from the model Id and the
            compat properties reported by the device update agent in the Device Update PnP
            interface in IoT Hub. It is a hex-encoded SHA1 hash.
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeviceClassSubgroupUpdatableDevices'
        default:
          description: An unexpected error response.
          headers:
            x-ms-error-code:
              required: false
              description: String error code indicating what went wrong.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Azure.Core.Foundations.ErrorResponse'
  /deviceUpdate/{instanceId}/management/groups/{groupId}/deviceClassSubgroups/{deviceClassId}/deployments:
    get:
      operationId: DeviceManagementOperations_listDeploymentsForDeviceClassSubgroup
      description: Gets a list of deployments for a device class subgroup.
      parameters:
        - $ref: '#/components/parameters/Azure.Core.Foundations.ApiVersionParameter'
        - name: instanceId
          in: path
          required: true
          description: The Device Update for IoT Hub account instance identifier.
          schema:
            type: string
        - name: groupId
          in: path
          required: true
          description: |-
            Group identity. This is created from the value of the ADUGroup tag in the Iot
            Hub's device/module twin or $default for devices with no tag.
          schema:
            type: string
        - name: deviceClassId
          in: path
          required: true
          description: |-
            Device class subgroup identity. This is generated from the model Id and the
            compat properties reported by the device update agent in the Device Update PnP
            interface in IoT Hub. It is a hex-encoded SHA1 hash.
          schema:
            type: string
        - name: orderby
          in: query
          required: true
          description: Orders the set of deployments returned. You can order by start date.
          schema:
            type: string
        - $ref: '#/components/parameters/Azure.Core.ClientRequestIdHeader'
      responses:
        '200':
          description: The request has succeeded.
          headers:
            x-ms-client-request-id:
              required: false
              description: An opaque, globally-unique, client-generated string identifier for the request.
              schema:
                type: string
                format: uuid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PagedDeviceClassSubgroupDeployment'
        default:
          description: An unexpected error response.
          headers:
            x-ms-error-code:
              required: false
              description: String error code indicating what went wrong.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Azure.Core.Foundations.ErrorResponse'
  /deviceUpdate/{instanceId}/management/groups/{groupId}/deviceClassSubgroups/{deviceClassId}/deployments/{deploymentId}:
    get:
      operationId: DeviceManagementOperations_getDeploymentForDeviceClassSubgroup
      description: Gets the deployment properties.
      parameters:
        - $ref: '#/components/parameters/Azure.Core.Foundations.ApiVersionParameter'
        - name: instanceId
          in: path
          required: true
          description: The Device Update for IoT Hub account instance identifier.
          schema:
            type: string
        - name: groupId
          in: path
          required: true
          description: |-
            Group identity. This is created from the value of the ADUGroup tag in the Iot
            Hub's device/module twin or $default for devices with no tag.
          schema:
            type: string
        - name: deviceClassId
          in: path
          required: true
          description: |-
            Device class subgroup identity. This is generated from the model Id and the
            compat properties reported by the device update agent in the Device Update PnP
            interface in IoT Hub. It is a hex-encoded SHA1 hash.
          schema:
            type: string
        - name: deploymentId
          in: path
          required: true
          description: |-
            The caller-provided deployment identifier. This cannot be longer than 73
            characters, must be all lower-case, and cannot contain '&', '^', '[', ']', '{',
            '}', '|', '<', '>', forward slash, backslash, or double quote. The Updates view
            in the Azure Portal IoT Hub resource generates a GUID for deploymentId when you
            create a deployment.
          schema:
            type: string
        - $ref: '#/components/parameters/Azure.Core.ClientRequestIdHeader'
      responses:
        '200':
          description: The request has succeeded.
          headers:
            x-ms-client-request-id:
              required: false
              description: An opaque, globally-unique, client-generated string identifier for the request.
              schema:
                type: string
                format: uuid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeviceClassSubgroupDeployment'
        default:
          description: An unexpected error response.
          headers:
            x-ms-error-code:
              required: false
              description: String error code indicating what went wrong.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Azure.Core.Foundations.ErrorResponse'
    delete:
      operationId: DeviceManagementOperations_deleteDeploymentForDeviceClassSubgroup
      description: Deletes a device class subgroup deployment.
      parameters:
        - $ref: '#/components/parameters/Azure.Core.Foundations.ApiVersionParameter'
        - name: instanceId
          in: path
          required: true
          description: The Device Update for IoT Hub account instance identifier.
          schema:
            type: string
        - name: groupId
          in: path
          required: true
          description: |-
            Group identity. This is created from the value of the ADUGroup tag in the Iot
            Hub's device/module twin or $default for devices with no tag.
          schema:
            type: string
        - name: deviceClassId
          in: path
          required: true
          description: |-
            Device class subgroup identity. This is generated from the model Id and the
            compat properties reported by the device update agent in the Device Update PnP
            interface in IoT Hub. It is a hex-encoded SHA1 hash.
          schema:
            type: string
        - name: deploymentId
          in: path
          required: true
          description: |-
            The caller-provided deployment identifier. This cannot be longer than 73
            characters, must be all lower-case, and cannot contain '&', '^', '[', ']', '{',
            '}', '|', '<', '>', forward slash, backslash, or double quote. The Updates view
            in the Azure Portal IoT Hub resource generates a GUID for deploymentId when you
            create a deployment.
          schema:
            type: string
        - $ref: '#/components/parameters/Azure.Core.ClientRequestIdHeader'
      responses:
        '204':
          description: 'There is no content to send for this request, but the headers may be useful. '
          headers:
            x-ms-client-request-id:
              required: false
              description: An opaque, globally-unique, client-generated string identifier for the request.
              schema:
                type: string
                format: uuid
        default:
          description: An unexpected error response.
          headers:
            x-ms-error-code:
              required: false
              description: String error code indicating what went wrong.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Azure.Core.Foundations.ErrorResponse'
  /deviceUpdate/{instanceId}/management/groups/{groupId}/deviceClassSubgroups/{deviceClassId}/deployments/{deploymentId}/devicestates:
    get:
      operationId: DeviceManagementOperations_listDeviceStatesForDeviceClassSubgroupDeployment
      description: |-
        Gets a list of devices in a deployment along with their state. Useful for
        getting a list of failed devices.
      parameters:
        - $ref: '#/components/parameters/Azure.Core.Foundations.ApiVersionParameter'
        - name: instanceId
          in: path
          required: true
          description: The Device Update for IoT Hub account instance identifier.
          schema:
            type: string
        - name: groupId
          in: path
          required: true
          description: |-
            Group identity. This is created from the value of the ADUGroup tag in the Iot
            Hub's device/module twin or $default for devices with no tag.
          schema:
            type: string
        - name: deviceClassId
          in: path
          required: true
          description: |-
            Device class subgroup identity. This is generated from the model Id and the
            compat properties reported by the device update agent in the Device Update PnP
            interface in IoT Hub. It is a hex-encoded SHA1 hash.
          schema:
            type: string
        - name: deploymentId
          in: path
          required: true
          description: |-
            The caller-provided deployment identifier. This cannot be longer than 73
            characters, must be all lower-case, and cannot contain '&', '^', '[', ']', '{',
            '}', '|', '<', '>', forward slash, backslash, or double quote. The Updates view
            in the Azure Portal IoT Hub resource generates a GUID for deploymentId when you
            create a deployment.
          schema:
            type: string
        - name: filter
          in: query
          required: true
          description: |-
            Restricts the set of deployment device states returned. You can filter on
            deviceId and moduleId and/or deviceState.
          schema:
            type: string
        - $ref: '#/components/parameters/Azure.Core.ClientRequestIdHeader'
      responses:
        '200':
          description: The request has succeeded.
          headers:
            x-ms-client-request-id:
              required: false
              description: An opaque, globally-unique, client-generated string identifier for the request.
              schema:
                type: string
                format: uuid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PagedDeploymentDeviceState'
        default:
          description: An unexpected error response.
          headers:
            x-ms-error-code:
              required: false
              description: String error code indicating what went wrong.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Azure.Core.Foundations.ErrorResponse'
  /deviceUpdate/{instanceId}/management/groups/{groupId}/deviceClassSubgroups/{deviceClassId}/deployments/{deploymentId}/status:
    get:
      operationId: DeviceManagementOperations_getDeviceClassSubgroupDeploymentStatus
      description: |-
        Gets the status of a deployment including a breakdown of how many devices in
        the deployment are in progress, completed, or failed.
      parameters:
        - $ref: '#/components/parameters/Azure.Core.Foundations.ApiVersionParameter'
        - name: instanceId
          in: path
          required: true
          description: The Device Update for IoT Hub account instance identifier.
          schema:
            type: string
        - name: groupId
          in: path
          required: true
          description: |-
            Group identity. This is created from the value of the ADUGroup tag in the Iot
            Hub's device/module twin or $default for devices with no tag.
          schema:
            type: string
        - name: deviceClassId
          in: path
          required: true
          description: |-
            Device class subgroup identity. This is generated from the model Id and the
            compat properties reported by the device update agent in the Device Update PnP
            interface in IoT Hub. It is a hex-encoded SHA1 hash.
          schema:
            type: string
        - name: deploymentId
          in: path
          required: true
          description: |-
            The caller-provided deployment identifier. This cannot be longer than 73
            characters, must be all lower-case, and cannot contain '&', '^', '[', ']', '{',
            '}', '|', '<', '>', forward slash, backslash, or double quote. The Updates view
            in the Azure Portal IoT Hub resource generates a GUID for deploymentId when you
            create a deployment.
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeviceClassSubgroupDeploymentStatus'
        default:
          description: An unexpected error response.
          headers:
            x-ms-error-code:
              required: false
              description: String error code indicating what went wrong.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Azure.Core.Foundations.ErrorResponse'
  /deviceUpdate/{instanceId}/management/groups/{groupId}/deviceClassSubgroups/{deviceClassId}/deployments/{deploymentId}:cancel:
    post:
      operationId: DeviceManagementOperations_cancel
      description: Stops a deployment.
      parameters:
        - $ref: '#/components/parameters/Azure.Core.Foundations.ApiVersionParameter'
        - name: instanceId
          in: path
          required: true
          description: The Device Update for IoT Hub account instance identifier.
          schema:
            type: string
        - name: groupId
          in: path
          required: true
          description: |-
            Group identity. This is created from the value of the ADUGroup tag in the Iot
            Hub's device/module twin or $default for devices with no tag.
          schema:
            type: string
        - name: deviceClassId
          in: path
          required: true
          description: |-
            Device class subgroup identity. This is generated from the model Id and the
            compat properties reported by the device update agent in the Device Update PnP
            interface in IoT Hub. It is a hex-encoded SHA1 hash.
          schema:
            type: string
        - name: deploymentId
          in: path
          required: true
          description: |-
            The caller-provided deployment identifier. This cannot be longer than 73
            characters, must be all lower-case, and cannot contain '&', '^', '[', ']', '{',
            '}', '|', '<', '>', forward slash, backslash, or double quote. The Updates view
            in the Azure Portal IoT Hub resource generates a GUID for deploymentId when you
            create a deployment.
          schema:
            type: string
        - $ref: '#/components/parameters/Azure.Core.ClientRequestIdHeader'
      responses:
        '200':
          description: The request has succeeded.
          headers:
            x-ms-client-request-id:
              required: false
              description: An opaque, globally-unique, client-generated string identifier for the request.
              schema:
                type: string
                format: uuid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeviceClassSubgroupDeployment'
        default:
          description: An unexpected error response.
          headers:
            x-ms-error-code:
              required: false
              description: String error code indicating what went wrong.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Azure.Core.Foundations.ErrorResponse'
  /deviceUpdate/{instanceId}/management/groups/{groupId}/deviceClassSubgroups/{deviceClassId}/deployments/{deploymentId}:retry:
    post:
      operationId: DeviceManagementOperations_retry
      description: Retries a deployment with failed devices.
      parameters:
        - $ref: '#/components/parameters/Azure.Core.Foundations.ApiVersionParameter'
        - name: instanceId
          in: path
          required: true
          description: The Device Update for IoT Hub account instance identifier.
          schema:
            type: string
        - name: groupId
          in: path
          required: true
          description: |-
            Group identity. This is created from the value of the ADUGroup tag in the Iot
            Hub's device/module twin or $default for devices with no tag.
          schema:
            type: string
        - name: deviceClassId
          in: path
          required: true
          description: |-
            Device class subgroup identity. This is generated from the model Id and the
            compat properties reported by the device update agent in the Device Update PnP
            interface in IoT Hub. It is a hex-encoded SHA1 hash.
          schema:
            type: string
        - name: deploymentId
          in: path
          required: true
          description: |-
            The caller-provided deployment identifier. This cannot be longer than 73
            characters, must be all lower-case, and cannot contain '&', '^', '[', ']', '{',
            '}', '|', '<', '>', forward slash, backslash, or double quote. The Updates view
            in the Azure Portal IoT Hub resource generates a GUID for deploymentId when you
            create a deployment.
          schema:
            type: string
        - $ref: '#/components/parameters/Azure.Core.ClientRequestIdHeader'
      responses:
        '200':
          description: The request has succeeded.
          headers:
            x-ms-client-request-id:
              required: false
              description: An opaque, globally-unique, client-generated string identifier for the request.
              schema:
                type: string
                format: uuid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeviceClassSubgroupDeployment'
        default:
          description: An unexpected error response.
          headers:
            x-ms-error-code:
              required: false
              description: String error code indicating what went wrong.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Azure.Core.Foundations.ErrorResponse'
  /deviceUpdate/{instanceId}/management/groups/{groupId}/deviceClassSubgroups/{deviceClassId}/updateCompliance:
    get:
      operationId: DeviceManagementOperations_getDeviceClassSubgroupUpdateCompliance
      description: |-
        Get device class subgroup update compliance information such as how many
        devices are on their latest update, how many need new updates, and how many are
        in progress on receiving a new update.
      parameters:
        - $ref: '#/components/parameters/Azure.Core.Foundations.ApiVersionParameter'
        - name: instanceId
          in: path
          required: true
          description: The Device Update for IoT Hub account instance identifier.
          schema:
            type: string
        - name: groupId
          in: path
          required: true
          description: |-
            Group identity. This is created from the value of the ADUGroup tag in the Iot
            Hub's device/module twin or $default for devices with no tag.
          schema:
            type: string
        - name: deviceClassId
          in: path
          required: true
          description: |-
            Device class subgroup identity. This is generated from the model Id and the
            compat properties reported by the device update agent in the Device Update PnP
            interface in IoT Hub. It is a hex-encoded SHA1 hash.
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UpdateCompliance'
        default:
          description: An unexpected error response.
          headers:
            x-ms-error-code:
              required: false
              description: String error code indicating what went wrong.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Azure.Core.Foundations.ErrorResponse'
  /deviceUpdate/{instanceId}/management/groups/{groupId}/updateCompliance:
    get:
      operationId: DeviceManagementOperations_getUpdateComplianceForGroup
      description: |-
        Get device group update compliance information such as how many devices are on
        their latest update, how many need new updates, and how many are in progress on
        receiving a new update.
      parameters:
        - $ref: '#/components/parameters/Azure.Core.Foundations.ApiVersionParameter'
        - name: instanceId
          in: path
          required: true
          description: The Device Update for IoT Hub account instance identifier.
          schema:
            type: string
        - name: groupId
          in: path
          required: true
          description: |-
            Group identity. This is created from the value of the ADUGroup tag in the Iot
            Hub's device/module twin or $default for devices with no tag.
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UpdateCompliance'
        default:
          description: An unexpected error response.
          headers:
            x-ms-error-code:
              required: false
              description: String error code indicating what went wrong.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Azure.Core.Foundations.ErrorResponse'
  /deviceUpdate/{instanceId}/management/operations:
    get:
      operationId: DeviceManagementOperations_listOperationStatuses
      description: Get a list of all device import operations. Completed operations are kept for 7 days before auto-deleted.
      parameters:
        - $ref: '#/components/parameters/Azure.Core.Foundations.ApiVersionParameter'
        - name: instanceId
          in: path
          required: true
          description: The Device Update for IoT Hub account instance identifier.
          schema:
            type: string
        - name: filter
          in: query
          required: true
          description: 'Restricts the set of operations returned. Only one specific filter is supported: \"status eq ''NotStarted'' or status eq ''Running''\"'
          schema:
            type: string
        - name: top
          in: query
          required: true
          description: |-
            Specifies a non-negative integer n that limits the number of items returned
            from a collection. The service returns the number of available items up to but
            not greater than the specified value n.
          schema:
            type: integer
            format: int32
        - $ref: '#/components/parameters/Azure.Core.ClientRequestIdHeader'
      responses:
        '200':
          description: The request has succeeded.
          headers:
            x-ms-client-request-id:
              required: false
              description: An opaque, globally-unique, client-generated string identifier for the request.
              schema:
                type: string
                format: uuid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PagedDeviceOperation'
        default:
          description: An unexpected error response.
          headers:
            x-ms-error-code:
              required: false
              description: String error code indicating what went wrong.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Azure.Core.Foundations.ErrorResponse'
  /deviceUpdate/{instanceId}/management/operations/{operationId}:
    get:
      operationId: DeviceManagementOperations_getOperationStatus
      description: Retrieve operation status.
      parameters:
        - $ref: '#/components/parameters/Azure.Core.Foundations.ApiVersionParameter'
        - name: instanceId
          in: path
          required: true
          description: The Device Update for IoT Hub account instance identifier.
          schema:
            type: string
        - name: operationId
          in: path
          required: true
          description: Operation Id.
          schema:
            type: string
        - $ref: '#/components/parameters/Azure.Core.ClientRequestIdHeader'
      responses:
        '200':
          description: The request has succeeded.
          headers:
            x-ms-client-request-id:
              required: false
              description: An opaque, globally-unique, client-generated string identifier for the request.
              schema:
                type: string
                format: uuid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeviceOperation'
        default:
          description: An unexpected error response.
          headers:
            x-ms-error-code:
              required: false
              description: String error code indicating what went wrong.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Azure.Core.Foundations.ErrorResponse'
  /deviceUpdate/{instanceId}/management/updateCompliance:
    get:
      operationId: DeviceManagementOperations_getUpdateCompliance
      description: |-
        Gets the breakdown of how many devices are on their latest update, have new
        updates available, or are in progress receiving new updates.
      parameters:
        - $ref: '#/components/parameters/Azure.Core.Foundations.ApiVersionParameter'
        - $ref: '#/components/parameters/InstanceIdParameter'
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UpdateCompliance'
        default:
          description: An unexpected error response.
          headers:
            x-ms-error-code:
              required: false
              description: String error code indicating what went wrong.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Azure.Core.Foundations.ErrorResponse'
  /deviceUpdate/{instanceId}/updates:
    get:
      operationId: DeviceUpdateOperations_listUpdates
      description: Get a list of all updates that have been imported to Device Update for IoT Hub.
      parameters:
        - $ref: '#/components/parameters/Azure.Core.Foundations.ApiVersionParameter'
        - name: instanceId
          in: path
          required: true
          description: The Device Update for IoT Hub account instance identifier.
          schema:
            type: string
        - name: search
          in: query
          required: true
          description: Request updates matching a free-text search expression.
          schema:
            type: string
        - name: filter
          in: query
          required: true
          description: Optional to filter updates by isDeployable property.
          schema:
            type: string
        - $ref: '#/components/parameters/Azure.Core.ClientRequestIdHeader'
      responses:
        '200':
          description: The request has succeeded.
          headers:
            x-ms-client-request-id:
              required: false
              description: An opaque, globally-unique, client-generated string identifier for the request.
              schema:
                type: string
                format: uuid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PagedUpdate'
        default:
          description: An unexpected error response.
          headers:
            x-ms-error-code:
              required: false
              description: String error code indicating what went wrong.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Azure.Core.Foundations.ErrorResponse'
  /deviceUpdate/{instanceId}/updates/operations:
    get:
      operationId: DeviceUpdateOperations_listOperationStatuses
      description: |-
        Get a list of all import update operations. Completed operations are kept for 7
        days before auto-deleted. Delete operations are not returned by this API
        version.
      parameters:
        - $ref: '#/components/parameters/Azure.Core.Foundations.ApiVersionParameter'
        - name: instanceId
          in: path
          required: true
          description: The Device Update for IoT Hub account instance identifier.
          schema:
            type: string
        - name: filter
          in: query
          required: true
          description: |-
            Optional to filter operations by status property. Only one specific filter is
            supported: \"status eq 'NotStarted' or status eq 'Running'\"
          schema:
            type: string
        - name: top
          in: query
          required: true
          description: |-
            Specifies a non-negative integer n that limits the number of items returned
            from a collection. The service returns the number of available items up to but
            not greater than the specified value n.
          schema:
            type: integer
            format: int32
        - $ref: '#/components/parameters/Azure.Core.ClientRequestIdHeader'
      responses:
        '200':
          description: The request has succeeded.
          headers:
            x-ms-client-request-id:
              required: false
              description: An opaque, globally-unique, client-generated string identifier for the request.
              schema:
                type: string
                format: uuid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PagedUpdateOperation'
        default:
          description: An unexpected error response.
          headers:
            x-ms-error-code:
              required: false
              description: String error code indicating what went wrong.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Azure.Core.Foundations.ErrorResponse'
  /deviceUpdate/{instanceId}/updates/operations/{operationId}:
    get:
      operationId: DeviceUpdateOperations_getOperationStatus
      description: Retrieve operation status.
      parameters:
        - $ref: '#/components/parameters/Azure.Core.Foundations.ApiVersionParameter'
        - name: instanceId
          in: path
          required: true
          description: The Device Update for IoT Hub account instance identifier.
          schema:
            type: string
        - name: operationId
          in: path
          required: true
          description: Operation Id.
          schema:
            type: string
        - $ref: '#/components/parameters/IfNoneMatchParameter'
        - $ref: '#/components/parameters/Azure.Core.ClientRequestIdHeader'
      responses:
        '200':
          description: The request has succeeded.
          headers:
            x-ms-client-request-id:
              required: false
              description: An opaque, globally-unique, client-generated string identifier for the request.
              schema:
                type: string
                format: uuid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UpdateOperation'
        default:
          description: An unexpected error response.
          headers:
            x-ms-error-code:
              required: false
              description: String error code indicating what went wrong.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Azure.Core.Foundations.ErrorResponse'
  /deviceUpdate/{instanceId}/updates/providers:
    get:
      operationId: DeviceUpdateOperations_listProviders
      description: Get a list of all update providers that have been imported to Device Update for IoT Hub.
      parameters:
        - $ref: '#/components/parameters/Azure.Core.Foundations.ApiVersionParameter'
        - $ref: '#/components/parameters/InstanceIdParameter'
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StringsList'
        default:
          description: An unexpected error response.
          headers:
            x-ms-error-code:
              required: false
              description: String error code indicating what went wrong.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Azure.Core.Foundations.ErrorResponse'
  /deviceUpdate/{instanceId}/updates/providers/{provider}/names:
    get:
      operationId: DeviceUpdateOperations_listNames
      description: Get a list of all update names that match the specified provider.
      parameters:
        - $ref: '#/components/parameters/Azure.Core.Foundations.ApiVersionParameter'
        - $ref: '#/components/parameters/InstanceIdParameter'
        - $ref: '#/components/parameters/UpdateProviderParameter.provider'
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StringsList'
        default:
          description: An unexpected error response.
          headers:
            x-ms-error-code:
              required: false
              description: String error code indicating what went wrong.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Azure.Core.Foundations.ErrorResponse'
  /deviceUpdate/{instanceId}/updates/providers/{provider}/names/{name}/versions:
    get:
      operationId: DeviceUpdateOperations_listVersions
      description: Get a list of all update versions that match the specified provider and name.
      parameters:
        - $ref: '#/components/parameters/Azure.Core.Foundations.ApiVersionParameter'
        - $ref: '#/components/parameters/InstanceIdParameter'
        - $ref: '#/components/parameters/UpdateProviderParameter.provider'
        - $ref: '#/components/parameters/UpdateNameParameter.name'
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StringsList'
        default:
          description: An unexpected error response.
          headers:
            x-ms-error-code:
              required: false
              description: String error code indicating what went wrong.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Azure.Core.Foundations.ErrorResponse'
  /deviceUpdate/{instanceId}/updates/providers/{provider}/names/{name}/versions/{version}:
    get:
      operationId: DeviceUpdateOperations_getUpdate
      description: Get a specific update version.
      parameters:
        - $ref: '#/components/parameters/Azure.Core.Foundations.ApiVersionParameter'
        - $ref: '#/components/parameters/InstanceIdParameter'
        - $ref: '#/components/parameters/UpdateProviderParameter.provider'
        - $ref: '#/components/parameters/UpdateNameParameter.name'
        - $ref: '#/components/parameters/UpdateVersionParameter.version'
        - $ref: '#/components/parameters/IfNoneMatchParameter'
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Update'
        default:
          description: An unexpected error response.
          headers:
            x-ms-error-code:
              required: false
              description: String error code indicating what went wrong.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Azure.Core.Foundations.ErrorResponse'
    delete:
      operationId: DeviceUpdateOperations_deleteUpdate
      description: |-
        Delete a specific update version. This is a long-running-operation; use
        Operation-Location response header value to check for operation status.
      parameters:
        - $ref: '#/components/parameters/Azure.Core.Foundations.ApiVersionParameter'
        - $ref: '#/components/parameters/InstanceIdParameter'
        - $ref: '#/components/parameters/UpdateProviderParameter.provider'
        - $ref: '#/components/parameters/UpdateNameParameter.name'
        - $ref: '#/components/parameters/UpdateVersionParameter.version'
      responses:
        '202':
          description: The request has been accepted for processing, but processing has not yet completed.
          headers:
            Operation-Location:
              required: false
              schema:
                type: string
                format: uri
        default:
          description: An unexpected error response.
          headers:
            x-ms-error-code:
              required: false
              description: String error code indicating what went wrong.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Azure.Core.Foundations.ErrorResponse'
  /deviceUpdate/{instanceId}/updates/providers/{provider}/names/{name}/versions/{version}/files:
    get:
      operationId: DeviceUpdateOperations_listFiles
      description: Get a list of all update file identifiers for the specified version.
      parameters:
        - $ref: '#/components/parameters/Azure.Core.Foundations.ApiVersionParameter'
        - $ref: '#/components/parameters/InstanceIdParameter'
        - $ref: '#/components/parameters/UpdateProviderParameter.provider'
        - $ref: '#/components/parameters/UpdateNameParameter.name'
        - $ref: '#/components/parameters/UpdateVersionParameter.version'
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StringsList'
        default:
          description: An unexpected error response.
          headers:
            x-ms-error-code:
              required: false
              description: String error code indicating what went wrong.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Azure.Core.Foundations.ErrorResponse'
  /deviceUpdate/{instanceId}/updates/providers/{provider}/names/{name}/versions/{version}/files/{fileId}:
    get:
      operationId: DeviceUpdateOperations_getFile
      description: Get a specific update file from the version.
      parameters:
        - $ref: '#/components/parameters/Azure.Core.Foundations.ApiVersionParameter'
        - $ref: '#/components/parameters/InstanceIdParameter'
        - $ref: '#/components/parameters/UpdateProviderParameter.provider'
        - $ref: '#/components/parameters/UpdateNameParameter.name'
        - $ref: '#/components/parameters/UpdateVersionParameter.version'
        - name: fileId
          in: path
          required: true
          description: File identifier.
          schema:
            type: string
        - $ref: '#/components/parameters/IfNoneMatchParameter'
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UpdateFile'
        default:
          description: An unexpected error response.
          headers:
            x-ms-error-code:
              required: false
              description: String error code indicating what went wrong.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Azure.Core.Foundations.ErrorResponse'
  /deviceUpdate/{instanceId}/updates:import:
    post:
      operationId: DeviceUpdateOperations_importUpdate
      description: |-
        Import new update version. This is a long-running-operation; use
        Operation-Location response header value to check for operation status.
      parameters:
        - $ref: '#/components/parameters/Azure.Core.Foundations.ApiVersionParameter'
        - $ref: '#/components/parameters/InstanceIdParameter'
      responses:
        '202':
          description: The request has been accepted for processing, but processing has not yet completed.
          headers:
            Operation-Location:
              required: false
              schema:
                type: string
                format: uri
        default:
          description: An unexpected error response.
          headers:
            x-ms-error-code:
              required: false
              description: String error code indicating what went wrong.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Azure.Core.Foundations.ErrorResponse'
      requestBody:
        description: The update to be imported (see schema https://json.schemastore.org/azure-deviceupdate-import-manifest-5.0.json for details).
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ImportUpdateInput'
components:
  parameters:
    Azure.Core.ClientRequestIdHeader:
      name: x-ms-client-request-id
      in: header
      required: false
      description: An opaque, globally-unique, client-generated string identifier for the request.
      schema:
        type: string
        format: uuid
    Azure.Core.Foundations.ApiVersionParameter:
      name: api-version
      in: query
      required: true
      description: The API version to use for this operation.
      schema:
        type: string
        minLength: 1
    IfNoneMatchParameter:
      name: if-none-match
      in: header
      required: false
      description: |-
        Defines the If-None-Match condition. The operation will be performed only if
        the ETag on the server does not match this value.
      schema:
        type: string
    InstanceIdParameter:
      name: instanceId
      in: path
      required: true
      description: The Device Update for IoT Hub account instance identifier.
      schema:
        type: string
    UpdateNameParameter.name:
      name: name
      in: path
      required: true
      description: Update name
      schema:
        type: string
    UpdateProviderParameter.provider:
      name: provider
      in: path
      required: true
      description: Update provider
      schema:
        type: string
    UpdateVersionParameter.version:
      name: version
      in: path
      required: true
      description: Update version
      schema:
        type: string
  schemas:
    Azure.Core.Foundations.Error:
      type: object
      description: The error object.
      required:
        - code
        - message
      properties:
        code:
          type: string
          description: One of a server-defined set of error codes.
        message:
          type: string
          description: A human-readable representation of the error.
        target:
          type: string
          description: The target of the error.
        details:
          type: array
          items:
            $ref: '#/components/schemas/Azure.Core.Foundations.Error'
          description: An array of details about specific errors that led to this reported error.
        innererror:
          allOf:
            - $ref: '#/components/schemas/Azure.Core.Foundations.InnerError'
          description: An object containing more specific information than the current object about the error.
    Azure.Core.Foundations.ErrorResponse:
      type: object
      description: A response containing error details.
      required:
        - error
      properties:
        error:
          allOf:
            - $ref: '#/components/schemas/Azure.Core.Foundations.Error'
          description: The error object.
    Azure.Core.Foundations.InnerError:
      type: object
      description: An object containing more specific information about the error. As per Microsoft One API guidelines - https://github.com/Microsoft/api-guidelines/blob/vNext/Guidelines.md#7102-error-condition-responses.
      properties:
        code:
          type: string
          description: One of a server-defined set of error codes.
        innererror:
          allOf:
            - $ref: '#/components/schemas/Azure.Core.Foundations.InnerError'
          description: Inner error.
    CloudInitiatedRollbackPolicy:
      type: object
      description: Rollback policy for deployment
      required:
        - update
        - failure
      properties:
        update:
          allOf:
            - $ref: '#/components/schemas/UpdateInfo'
          description: Update to rollback to.
        failure:
          allOf:
            - $ref: '#/components/schemas/CloudInitiatedRollbackPolicyFailure'
          description: Failure conditions to initiate rollback policy.
    CloudInitiatedRollbackPolicyCreateOrUpdate:
      type: object
      description: Rollback policy for deployment
      properties:
        update:
          allOf:
            - $ref: '#/components/schemas/UpdateInfoCreateOrUpdate'
          description: Update to rollback to.
        failure:
          allOf:
            - $ref: '#/components/schemas/CloudInitiatedRollbackPolicyFailureCreateOrUpdate'
          description: Failure conditions to initiate rollback policy.
    CloudInitiatedRollbackPolicyFailure:
      type: object
      description: Failure conditions to initiate rollback policy
      required:
        - devicesFailedPercentage
        - devicesFailedCount
      properties:
        devicesFailedPercentage:
          type: integer
          format: int32
          description: Percentage of devices that failed.
        devicesFailedCount:
          type: integer
          format: int32
          description: Number of devices that failed.
    CloudInitiatedRollbackPolicyFailureCreateOrUpdate:
      type: object
      description: Failure conditions to initiate rollback policy
      properties:
        devicesFailedPercentage:
          type: integer
          format: int32
          description: Percentage of devices that failed.
        devicesFailedCount:
          type: integer
          format: int32
          description: Number of devices that failed.
    ContractModel:
      type: object
      description: The Device Update agent contract model.
      required:
        - id
        - name
      properties:
        id:
          type: string
          description: |-
            The Device Update agent contract model Id of the device class. This is also
            used to calculate the device class Id.
        name:
          type: string
          description: |-
            The Device Update agent contract model name of the device class. Intended to be
            a more readable form of the contract model Id.
    ContractModelUpdate:
      type: object
      description: The Device Update agent contract model.
      properties:
        id:
          type: string
          description: |-
            The Device Update agent contract model Id of the device class. This is also
            used to calculate the device class Id.
        name:
          type: string
          description: |-
            The Device Update agent contract model name of the device class. Intended to be
            a more readable form of the contract model Id.
    Counters:
      type: object
      description: The list of counts of each limited resource with both current usage and overall quota.
      properties:
        deviceCount:
          allOf:
            - $ref: '#/components/schemas/UsageQuotaCounter'
          description: The current usage and quota of devices.
        deviceClassCount:
          allOf:
            - $ref: '#/components/schemas/UsageQuotaCounter'
          description: The current usage and quota of device classes.
        deviceGroupCount:
          allOf:
            - $ref: '#/components/schemas/UsageQuotaCounter'
          description: The current usage and quota of device groups.
        activeDeploymentCount:
          allOf:
            - $ref: '#/components/schemas/UsageQuotaCounter'
          description: The current usage and quota of active deployments.
        deploymentCount:
          allOf:
            - $ref: '#/components/schemas/UsageQuotaCounter'
          description: The current usage and quota of deployments.
    Deployment:
      type: object
      description: Deployment metadata.
      required:
        - deploymentId
        - startDateTime
        - update
        - groupId
      properties:
        deploymentId:
          type: string
          description: |-
            The caller-provided deployment identifier. This cannot be longer than 73
            characters, must be all lower-case, and cannot contain '&', '^', '[', ']', '{',
            '}', '|', '<', '>', forward slash, backslash, or double quote. The Updates view
            in the Azure Portal IoT Hub resource generates a GUID for deploymentId when you
            create a deployment.
        startDateTime:
          type: string
          format: date-time
          description: The deployment start datetime.
        update:
          allOf:
            - $ref: '#/components/schemas/UpdateInfo'
          description: Update information for the update in the deployment.
        groupId:
          type: string
          description: The group identity for the devices the deployment is intended to update.
        deviceClassSubgroups:
          type: array
          items:
            type: string
          description: |-
            The device class subgroups the deployment is compatible with and subgroup
            deployments have been created for. This is not provided by the caller during
            CreateOrUpdateDeployment but is automatically determined by Device Update
        isCanceled:
          type: boolean
          description: Boolean flag indicating whether the deployment was canceled.
        isRetried:
          type: boolean
          description: Boolean flag indicating whether the deployment has been retried.
        rollbackPolicy:
          allOf:
            - $ref: '#/components/schemas/CloudInitiatedRollbackPolicy'
          description: The rollback policy for the deployment.
        isCloudInitiatedRollback:
          type: boolean
          description: Boolean flag indicating whether the deployment is a rollback deployment.
    DeploymentCreateOrUpdate:
      type: object
      description: Deployment metadata.
      properties:
        startDateTime:
          type: string
          format: date-time
          description: The deployment start datetime.
        update:
          allOf:
            - $ref: '#/components/schemas/UpdateInfoCreateOrUpdate'
          description: Update information for the update in the deployment.
        groupId:
          type: string
          description: The group identity for the devices the deployment is intended to update.
        deviceClassSubgroups:
          type: array
          items:
            type: string
          description: |-
            The device class subgroups the deployment is compatible with and subgroup
            deployments have been created for. This is not provided by the caller during
            CreateOrUpdateDeployment but is automatically determined by Device Update
        isCanceled:
          type: boolean
          description: Boolean flag indicating whether the deployment was canceled.
        isRetried:
          type: boolean
          description: Boolean flag indicating whether the deployment has been retried.
        rollbackPolicy:
          allOf:
            - $ref: '#/components/schemas/CloudInitiatedRollbackPolicyCreateOrUpdate'
          description: The rollback policy for the deployment.
        isCloudInitiatedRollback:
          type: boolean
          description: Boolean flag indicating whether the deployment is a rollback deployment.
    DeploymentDeviceState:
      type: object
      description: Deployment device status.
      required:
        - deviceId
        - retryCount
        - movedOnToNewDeployment
        - deviceState
      properties:
        deviceId:
          type: string
          description: Device identity.
          readOnly: true
        moduleId:
          type: string
          description: Device module identity.
        retryCount:
          type: integer
          format: int32
          description: The number of times this deployment has been retried on this device.
        movedOnToNewDeployment:
          type: boolean
          description: |-
            Boolean flag indicating whether this device is in a newer deployment and can no
            longer retry this deployment.
        deviceState:
          allOf:
            - $ref: '#/components/schemas/DeviceDeploymentState'
          description: Deployment device state.
    DeploymentOrderBy:
      type: object
      description: Deployment order by.
      properties:
        startDateTime:
          type: string
          format: date-time
          description: The deployment start datetime.
    DeploymentState:
      type: string
      description: Deployment state
      enum:
        - Active
        - ActiveWithSubgroupFailures
        - Failed
        - Inactive
        - Canceled
    DeploymentStatus:
      type: object
      description: Deployment status metadata.
      required:
        - groupId
        - deploymentState
        - subgroupStatus
      properties:
        groupId:
          type: string
          description: The group identity
        deploymentState:
          allOf:
            - $ref: '#/components/schemas/DeploymentState'
          description: The state of the deployment.
        error:
          allOf:
            - $ref: '#/components/schemas/Azure.Core.Foundations.Error'
          description: |-
            The error details of the Failed state.  This is not present if the deployment
            state is not Failed.
        subgroupStatus:
          type: array
          items:
            $ref: '#/components/schemas/DeviceClassSubgroupDeploymentStatus'
          description: The collection of device class subgroup status objects
    Device:
      type: object
      description: Device metadata.
      required:
        - deviceId
        - deviceClassId
        - onLatestUpdate
      properties:
        deviceId:
          type: string
          description: Device identity.
          readOnly: true
        moduleId:
          type: string
          description: Device module identity.
        deviceClassId:
          type: string
          description: Device class identity.
        groupId:
          type: string
          description: Device group identity.
        lastAttemptedUpdate:
          allOf:
            - $ref: '#/components/schemas/UpdateInfo'
          description: The update that device last attempted to install.
        deploymentStatus:
          allOf:
            - $ref: '#/components/schemas/DeviceDeploymentState'
          description: State of the device in its last deployment.
        installedUpdate:
          allOf:
            - $ref: '#/components/schemas/UpdateInfo'
          description: Currently installed update on device.
        onLatestUpdate:
          type: boolean
          description: |-
            Boolean flag indicating whether the latest update (the best compatible update
            for the device's device class and group) is installed on the device
        lastDeploymentId:
          type: string
          description: The deployment identifier for the last deployment to the device
        lastInstallResult:
          allOf:
            - $ref: '#/components/schemas/InstallResult'
          description: Last install result.
    DeviceClass:
      type: object
      description: The list of device classes.Device class metadata.
      required:
        - deviceClassId
        - deviceClassProperties
      properties:
        deviceClassId:
          type: string
          description: |-
            The device class identifier. This is generated from the model Id and the compat
            properties reported by the device update agent in the Device Update PnP
            interface in IoT Hub. It is a hex-encoded SHA1 hash.
          readOnly: true
        friendlyName:
          type: string
          description: |-
            The device class friendly name. This can be updated by callers after the device
            class has been automatically created.
        deviceClassProperties:
          allOf:
            - $ref: '#/components/schemas/DeviceClassProperties'
          description: The device class properties that are used to calculate the device class Id
        bestCompatibleUpdate:
          allOf:
            - $ref: '#/components/schemas/UpdateInfo'
          description: Update that is the highest version compatible with this device class.
    DeviceClassFilter:
      type: object
      description: Device class filter. Filters device classes based on device class friendly name
      properties:
        friendlyName:
          type: string
          description: The friendly name of the device class to use in the filter
    DeviceClassProperties:
      type: object
      description: The device class properties that are used to calculate the device class Id
      required:
        - compatProperties
      properties:
        contractModel:
          allOf:
            - $ref: '#/components/schemas/ContractModel'
          description: The Device Update agent contract model.
        compatProperties:
          type: object
          description: |-
            The compat properties of the device class. This object can be thought of as a
            set of key-value pairs where the key is the name of the compatibility property
            and the value is the value of the compatibility property. There will always be
            at least 1 compat property
          additionalProperties:
            type: string
    DeviceClassPropertiesUpdate:
      type: object
      description: The device class properties that are used to calculate the device class Id
      properties:
        contractModel:
          allOf:
            - $ref: '#/components/schemas/ContractModelUpdate'
          description: The Device Update agent contract model.
        compatProperties:
          type: object
          description: |-
            The compat properties of the device class. This object can be thought of as a
            set of key-value pairs where the key is the name of the compatibility property
            and the value is the value of the compatibility property. There will always be
            at least 1 compat property
          additionalProperties:
            type: string
    DeviceClassSubgroup:
      type: object
      description: |-
        Device class subgroup details. A device class subgroup is a subset of devices
        in a group that share the same device class id.
      required:
        - deviceClassId
        - groupId
        - createdDateTime
      properties:
        deviceClassId:
          type: string
          description: |-
            Device class subgroup identity. This is generated from the model Id and the
            compat properties reported by the device update agent in the Device Update PnP
            interface in IoT Hub. It is a hex-encoded SHA1 hash.
          readOnly: true
        groupId:
          type: string
          description: Group identity.
        createdDateTime:
          type: string
          description: Date and time when the device class subgroup was created.
        deviceCount:
          type: integer
          format: int32
          description: The number of devices in the device class subgroup.
        deploymentId:
          type: string
          description: The active deployment Id for the device class subgroup.
    DeviceClassSubgroupDeployment:
      type: object
      description: DeviceClass Subgroup Deployment metadata
      required:
        - deploymentId
        - startDateTime
        - update
        - groupId
      properties:
        deploymentId:
          type: string
          description: |-
            The caller-provided deployment identifier. This cannot be longer than 73
            characters, must be all lower-case, and cannot contain '&', '^', '[', ']', '{',
            '}', '|', '<', '>', forward slash, backslash, or double quote. The Updates view
            in the Azure Portal IoT Hub resource generates a GUID for deploymentId when you
            create a deployment.
        startDateTime:
          type: string
          format: date-time
          description: The deployment start datetime.
        update:
          allOf:
            - $ref: '#/components/schemas/UpdateInfo'
          description: Update information for the update in the deployment.
        groupId:
          type: string
          description: The group identity for the devices the deployment is intended to update.
        deviceClassSubgroups:
          type: array
          items:
            type: string
          description: |-
            The device class subgroups the deployment is compatible with and subgroup
            deployments have been created for. This is not provided by the caller during
            CreateOrUpdateDeployment but is automatically determined by Device Update
        isCanceled:
          type: boolean
          description: Boolean flag indicating whether the deployment was canceled.
        isRetried:
          type: boolean
          description: Boolean flag indicating whether the deployment has been retried.
        rollbackPolicy:
          allOf:
            - $ref: '#/components/schemas/CloudInitiatedRollbackPolicy'
          description: The rollback policy for the deployment.
        isCloudInitiatedRollback:
          type: boolean
          description: Boolean flag indicating whether the deployment is a rollback deployment.
    DeviceClassSubgroupDeploymentState:
      type: string
      description: Device class subgroup deployment state.
      enum:
        - Active
        - Failed
        - Inactive
        - Canceled
    DeviceClassSubgroupDeploymentStatus:
      type: object
      description: Device class subgroup deployment status metadata.
      required:
        - groupId
        - deviceClassId
        - deploymentState
      properties:
        groupId:
          type: string
          description: The group identity
        deviceClassId:
          type: string
          description: The device class subgroup identity
        deploymentState:
          allOf:
            - $ref: '#/components/schemas/DeviceClassSubgroupDeploymentState'
          description: The state of the subgroup deployment.
        error:
          allOf:
            - $ref: '#/components/schemas/Azure.Core.Foundations.Error'
          description: |-
            The error details of the Failed state.  This is not present if the deployment
            state is not Failed.
        totalDevices:
          type: integer
          format: int32
          description: The total number of devices in the deployment.
        devicesInProgressCount:
          type: integer
          format: int32
          description: The number of devices that are currently in deployment.
        devicesCompletedFailedCount:
          type: integer
          format: int32
          description: The number of devices that have completed deployment with a failure.
        devicesCompletedSucceededCount:
          type: integer
          format: int32
          description: The number of devices which have successfully completed deployment.
        devicesCanceledCount:
          type: integer
          format: int32
          description: The number of devices which have had their deployment canceled.
    DeviceClassSubgroupFilter:
      type: object
      description: |-
        Device class subgroups filter. Filters device class subgroups based on device
        class compat property names and values
      properties:
        compatPropertyName:
          type: string
          description: |-
            The name of the compat property to use in the filter. E.g.
            compatProperties/manufacturer
        compatPropertyValue:
          type: string
          description: The value the compat property to use in the filter. E.g. Contoso
    DeviceClassSubgroupUpdatableDevices:
      type: object
      description: Device class subgroup, update information, and the number of devices for which the update is applicable.
      required:
        - groupId
        - deviceClassId
        - update
        - deviceCount
      properties:
        groupId:
          type: string
          description: The group Id
        deviceClassId:
          type: string
          description: The device class subgroup's device class Id
        update:
          allOf:
            - $ref: '#/components/schemas/UpdateInfo'
          description: Update information.
        deviceCount:
          type: integer
          format: int32
          description: Total number of devices for which the update is applicable.
    DeviceClassUpdate:
      type: object
      description: The list of device classes.Device class metadata.
      properties:
        friendlyName:
          type: string
          description: |-
            The device class friendly name. This can be updated by callers after the device
            class has been automatically created.
        deviceClassProperties:
          allOf:
            - $ref: '#/components/schemas/DeviceClassPropertiesUpdate'
          description: The device class properties that are used to calculate the device class Id
        bestCompatibleUpdate:
          allOf:
            - $ref: '#/components/schemas/UpdateInfoUpdate'
          description: Update that is the highest version compatible with this device class.
    DeviceDeploymentState:
      type: string
      description: Device deployement state
      enum:
        - Succeeded
        - InProgress
        - Canceled
        - Failed
    DeviceFilter:
      type: object
      description: Device filter.
      properties:
        groupId:
          type: string
          description: Device group identity.
        deviceClassId:
          type: string
          description: Device class identity.
        deploymentStatus:
          allOf:
            - $ref: '#/components/schemas/DeviceDeploymentState'
          description: State of the device in its last deployment.
    DeviceHealth:
      type: object
      description: Device Health
      required:
        - deviceId
        - state
        - healthChecks
      properties:
        deviceId:
          type: string
          description: Device id
          readOnly: true
        moduleId:
          type: string
          description: Module id
        state:
          allOf:
            - $ref: '#/components/schemas/DeviceHealthState'
          description: Aggregate device health state
        digitalTwinModelId:
          type: string
          description: Digital twin model Id
        healthChecks:
          type: array
          items:
            $ref: '#/components/schemas/HealthCheck'
          description: Array of health checks and their results
    DeviceHealthFilter:
      type: object
      description: Device health filter.
      properties:
        state:
          allOf:
            - $ref: '#/components/schemas/DeviceHealthState'
          description: Device health state
        deviceId:
          type: string
          description: Device Id
        moduleId:
          type: string
          description: Module Id
    DeviceHealthState:
      type: string
      description: Device health state
      enum:
        - healthy
        - unhealthy
    DeviceOperation:
      type: object
      description: Operation metadata.
      required:
        - operationId
        - status
        - lastActionDateTime
        - createdDateTime
      properties:
        operationId:
          type: string
          description: Operation Id.
          readOnly: true
        status:
          allOf:
            - $ref: '#/components/schemas/OperationStatus'
          description: Operation status.
        error:
          allOf:
            - $ref: '#/components/schemas/Azure.Core.Foundations.Error'
          description: Operation error encountered, if any.
        traceId:
          type: string
          description: Operation correlation identity that can used by Microsoft Support for troubleshooting.
        lastActionDateTime:
          type: string
          format: date-time
          description: Date and time in UTC when the operation status was last updated.
        createdDateTime:
          type: string
          format: date-time
          description: Date and time in UTC when the operation was created.
        etag:
          type: string
          description: Operation ETag.
    DeviceUpdateAgentId:
      type: object
      description: Device Update agent id
      required:
        - deviceId
      properties:
        deviceId:
          type: string
          description: Device Id
        moduleId:
          type: string
          description: Module Id
    FileImportMetadata:
      type: object
      description: Metadata describing an update file.
      required:
        - filename
        - url
      properties:
        filename:
          type: string
          description: Update file name as specified inside import manifest.
        url:
          type: string
          description: |-
            Azure Blob location from which the update file can be downloaded by Device
            Update for IoT Hub. This is typically a read-only SAS-protected blob URL with
            an expiration set to at least 4 hours.
    Group:
      type: object
      description: Group details.
      required:
        - groupId
        - groupType
        - createdDateTime
      properties:
        groupId:
          type: string
          description: |-
            Group identity. This is created from the value of the ADUGroup tag in the Iot
            Hub's device/module twin or $default for devices with no tag.
          readOnly: true
        groupType:
          allOf:
            - $ref: '#/components/schemas/GroupType'
          description: Group type.
        createdDateTime:
          type: string
          description: Date and time when the update was created.
        deviceCount:
          type: integer
          format: int32
          description: The number of devices in the group.
        subgroupsWithNewUpdatesAvailableCount:
          type: integer
          format: int32
          description: The count of subgroups with new updates available.
        subgroupsWithUpdatesInProgressCount:
          type: integer
          format: int32
          description: The count of subgroups with updates in progress.
        subgroupsWithOnLatestUpdateCount:
          type: integer
          format: int32
          description: The count of subgroups with devices on the latest update.
        deployments:
          type: array
          items:
            type: string
          description: The active deployment Ids for the group
    GroupOrderBy:
      type: object
      description: Groups order by.
      properties:
        groupId:
          type: string
          description: The group Id.
        deviceCount:
          type: string
          description: The group device count.
        createdDate:
          type: string
          description: The group created date.
        subgroupsWithNewUpdatesAvailableCount:
          type: string
          description: The number of subgroups with new updates available
        subgroupsWithUpdatesInProgressCount:
          type: string
          description: The number of subgroups with updates in progress
        subgroupsOnLatestUpdateCount:
          type: string
          description: The number of subgroups with devices on the latest update
    GroupType:
      type: string
      description: Group type
      enum:
        - IoTHubTag
        - DefaultNoTag
    HealthCheck:
      type: object
      description: Health check
      properties:
        name:
          type: string
          description: Health check name
        result:
          allOf:
            - $ref: '#/components/schemas/HealthCheckResult'
          description: Health check result
    HealthCheckResult:
      type: string
      description: Health check result
      enum:
        - success
        - userError
    ImportManifestMetadata:
      type: object
      description: |-
        Metadata describing the import manifest, a document which describes the files
        and other metadata about an update version.
      required:
        - url
        - sizeInBytes
        - hashes
      properties:
        url:
          type: string
          description: |-
            Azure Blob location from which the import manifest can be downloaded by Device
            Update for IoT Hub. This is typically a read-only SAS-protected blob URL with
            an expiration set to at least 4 hours.
        sizeInBytes:
          type: integer
          format: int64
          description: File size in number of bytes.
        hashes:
          type: object
          description: |-
            A JSON object containing the hash(es) of the file. At least SHA256 hash is
            required. This object can be thought of as a set of key-value pairs where the
            key is the hash algorithm, and the value is the hash of the file calculated
            using that algorithm.
          additionalProperties:
            type: string
    ImportType:
      type: string
      description: Import type
      enum:
        - Devices
        - Modules
        - All
    ImportUpdateInput:
      type: array
      items:
        $ref: '#/components/schemas/ImportUpdateInputItem'
      description: Import update input metadata.
      minItems: 1
      maxItems: 11
    ImportUpdateInputItem:
      type: object
      description: Import update input item metadata.
      required:
        - importManifest
      properties:
        importManifest:
          allOf:
            - $ref: '#/components/schemas/ImportManifestMetadata'
          description: Import manifest metadata like source URL, file size/hashes, etc.
        friendlyName:
          type: string
          description: Friendly update name.
        files:
          type: array
          items:
            $ref: '#/components/schemas/FileImportMetadata'
          description: One or more update file properties like filename and source URL.
          minItems: 0
          maxItems: 10
    InlineStep:
      type: object
      description: Installation instruction step that performs code execution.
      required:
        - handler
        - files
      allOf:
        - $ref: '#/components/schemas/Step'
      properties:
        handler:
          type: string
          description: Identity of handler that will execute this step. Required if step type is inline.
        handlerProperties:
          type: object
          description: Parameters to be passed to handler during execution.
          additionalProperties: {}
        files:
          type: array
          items:
            type: string
          description: Collection of file names to be passed to handler during execution.
          minItems: 1
          maxItems: 10
    InstallResult:
      type: object
      description: The install result of an update and any step results under it.
      required:
        - resultCode
        - extendedResultCode
      properties:
        resultCode:
          type: integer
          format: int32
          description: Install result code.
        extendedResultCode:
          type: integer
          format: int32
          description: Install extended result code
        resultDetails:
          type: string
          description: A string containing further details about the install result
        stepResults:
          type: array
          items:
            $ref: '#/components/schemas/StepResult'
          description: Array of step results
    Instance:
      type: object
      description: The Device Update for IoT Hub account instance.
      required:
        - instanceId
      properties:
        instanceId:
          type: string
          description: The Device Update for IoT Hub account instance identifier.
          readOnly: true
    Instructions:
      type: object
      description: Update installation instructions.
      required:
        - steps
      properties:
        steps:
          type: array
          items:
            $ref: '#/components/schemas/Step'
          description: Collection of installation steps.
          minItems: 1
          maxItems: 10
    Limits:
      type: object
      description: |-
        The list of limits of how many of each resource are currently in use and how
        many are allowed.
      properties:
        counters:
          allOf:
            - $ref: '#/components/schemas/Counters'
          description: The list of current counts of each limited resource and the maximum quota that are allowed.
    LogCollection:
      type: object
      description: Diagnostics request body
      required:
        - operationId
        - deviceList
      properties:
        operationId:
          type: string
          description: The log collection id.
          readOnly: true
        deviceList:
          type: array
          items:
            $ref: '#/components/schemas/DeviceUpdateAgentId'
          description: Array of Device Update agent ids
        description:
          type: string
          description: Description of the diagnostics operation.
        createdDateTime:
          type: string
          description: The timestamp when the operation was created.
          readOnly: true
        lastActionDateTime:
          type: string
          description: A timestamp for when the current state was entered.
          readOnly: true
        status:
          allOf:
            - $ref: '#/components/schemas/OperationStatus'
          description: Operation status.
          readOnly: true
    LogCollectionCreateOrUpdate:
      type: object
      description: Diagnostics request body
      required:
        - deviceList
      properties:
        deviceList:
          type: array
          items:
            $ref: '#/components/schemas/DeviceUpdateAgentId'
          description: Array of Device Update agent ids
        description:
          type: string
          description: Description of the diagnostics operation.
    LogCollectionDetailedStatusList:
      type: object
      description: The list of log collections with detailed status, with server paging support.
      required:
        - value
      properties:
        value:
          type: array
          items:
            $ref: '#/components/schemas/LogCollectionOperationDetailedStatus'
          description: The collection of pageable items.
        nextLink:
          type: string
          description: The link to the next page of items.
    LogCollectionOperationDetailedStatus:
      type: object
      description: Device diagnostics operation detailed status
      properties:
        operationId:
          type: string
          description: The device diagnostics operation id.
        createdDateTime:
          type: string
          description: The timestamp when the operation was created.
        lastActionDateTime:
          type: string
          description: A timestamp for when the current state was entered.
        status:
          allOf:
            - $ref: '#/components/schemas/OperationStatus'
          description: Operation status.
        deviceStatus:
          type: array
          items:
            $ref: '#/components/schemas/LogCollectionOperationDeviceStatus'
          description: Status of the devices in the operation
        description:
          type: string
          description: Device diagnostics operation description.
    LogCollectionOperationDeviceStatus:
      type: object
      description: Diagnostics operation device status
      required:
        - deviceId
        - status
      properties:
        deviceId:
          type: string
          description: Device id
        moduleId:
          type: string
          description: Module id.
        status:
          allOf:
            - $ref: '#/components/schemas/OperationStatus'
          description: Log upload status
        resultCode:
          type: string
          description: Log upload result code
        extendedResultCode:
          type: string
          description: Log upload extended result code
        logLocation:
          type: string
          description: Log upload location
    OperationFilter:
      type: object
      description: Operation status filter.
      properties:
        status:
          allOf:
            - $ref: '#/components/schemas/OperationFilterStatus'
          description: Operation status filter.
    OperationFilterStatus:
      type: string
      description: Operation filter status
      enum:
        - Running
        - NotStarted
    OperationStatus:
      type: string
      description: Operation status
      enum:
        - NotStarted
        - Running
        - Succeeded
        - Failed
    PagedDeployment:
      type: object
      description: Paged collection of Deployment items
      required:
        - value
      properties:
        value:
          type: array
          items:
            $ref: '#/components/schemas/Deployment'
          description: The Deployment items on this page
        nextLink:
          type: string
          format: uri
          description: The link to the next page of items
    PagedDeploymentDeviceState:
      type: object
      description: Paged collection of DeploymentDeviceState items
      required:
        - value
      properties:
        value:
          type: array
          items:
            $ref: '#/components/schemas/DeploymentDeviceState'
          description: The DeploymentDeviceState items on this page
        nextLink:
          type: string
          format: uri
          description: The link to the next page of items
    PagedDevice:
      type: object
      description: Paged collection of Device items
      required:
        - value
      properties:
        value:
          type: array
          items:
            $ref: '#/components/schemas/Device'
          description: The Device items on this page
        nextLink:
          type: string
          format: uri
          description: The link to the next page of items
    PagedDeviceClass:
      type: object
      description: Paged collection of DeviceClass items
      required:
        - value
      properties:
        value:
          type: array
          items:
            $ref: '#/components/schemas/DeviceClass'
          description: The DeviceClass items on this page
        nextLink:
          type: string
          format: uri
          description: The link to the next page of items
    PagedDeviceClassSubgroup:
      type: object
      description: Paged collection of DeviceClassSubgroup items
      required:
        - value
      properties:
        value:
          type: array
          items:
            $ref: '#/components/schemas/DeviceClassSubgroup'
          description: The DeviceClassSubgroup items on this page
        nextLink:
          type: string
          format: uri
          description: The link to the next page of items
    PagedDeviceClassSubgroupDeployment:
      type: object
      description: Paged collection of DeviceClassSubgroupDeployment items
      required:
        - value
      properties:
        value:
          type: array
          items:
            $ref: '#/components/schemas/DeviceClassSubgroupDeployment'
          description: The DeviceClassSubgroupDeployment items on this page
        nextLink:
          type: string
          format: uri
          description: The link to the next page of items
    PagedDeviceClassSubgroupUpdatableDevices:
      type: object
      description: The list of updatable devices for a device class subgroup.
      required:
        - value
      properties:
        value:
          type: array
          items:
            $ref: '#/components/schemas/DeviceClassSubgroupUpdatableDevices'
          description: The DeviceClassSubgroupUpdatableDevices items on this page
        nextLink:
          type: string
          format: uri
          description: The link to the next page of items
    PagedDeviceHealth:
      type: object
      description: Paged collection of DeviceHealth items
      required:
        - value
      properties:
        value:
          type: array
          items:
            $ref: '#/components/schemas/DeviceHealth'
          description: The DeviceHealth items on this page
        nextLink:
          type: string
          format: uri
          description: The link to the next page of items
    PagedDeviceOperation:
      type: object
      description: Paged collection of DeviceOperation items
      required:
        - value
      properties:
        value:
          type: array
          items:
            $ref: '#/components/schemas/DeviceOperation'
          description: The DeviceOperation items on this page
        nextLink:
          type: string
          format: uri
          description: The link to the next page of items
    PagedGroup:
      type: object
      description: Paged collection of Group items
      required:
        - value
      properties:
        value:
          type: array
          items:
            $ref: '#/components/schemas/Group'
          description: The Group items on this page
        nextLink:
          type: string
          format: uri
          description: The link to the next page of items
    PagedLogCollection:
      type: object
      description: Paged collection of LogCollection items
      required:
        - value
      properties:
        value:
          type: array
          items:
            $ref: '#/components/schemas/LogCollection'
          description: The LogCollection items on this page
        nextLink:
          type: string
          format: uri
          description: The link to the next page of items
    PagedUpdate:
      type: object
      description: Paged collection of Update items
      required:
        - value
      properties:
        value:
          type: array
          items:
            $ref: '#/components/schemas/Update'
          description: The Update items on this page
        nextLink:
          type: string
          format: uri
          description: The link to the next page of items
    PagedUpdateInfo:
      type: object
      description: List of update information.
      required:
        - value
      properties:
        value:
          type: array
          items:
            $ref: '#/components/schemas/UpdateInfo'
          description: The UpdateInfo items on this page
        nextLink:
          type: string
          format: uri
          description: The link to the next page of items
    PagedUpdateOperation:
      type: object
      description: Paged collection of UpdateOperation items
      required:
        - value
      properties:
        value:
          type: array
          items:
            $ref: '#/components/schemas/UpdateOperation'
          description: The UpdateOperation items on this page
        nextLink:
          type: string
          format: uri
          description: The link to the next page of items
    PatchBody:
      type: object
      description: Device Class JSON Merge Patch request body
      required:
        - friendlyName
      properties:
        friendlyName:
          type: string
          description: |-
            The device class friendly name. Friendly name can be 1-100 characters,
            alphanumeric, dot, and dash.
    ReferenceStep:
      type: object
      description: Installation instruction step that installs another update.
      required:
        - updateId
      allOf:
        - $ref: '#/components/schemas/Step'
      properties:
        updateId:
          allOf:
            - $ref: '#/components/schemas/UpdateId'
          description: Referenced child update identity.
    Step:
      type: object
      description: Update install instruction step.
      properties:
        type:
          allOf:
            - $ref: '#/components/schemas/StepType'
          description: Step type.
          default: Inline
        description:
          type: string
          description: Step description.
    StepResult:
      type: object
      description: The step result under an update.
      required:
        - resultCode
        - extendedResultCode
      properties:
        update:
          allOf:
            - $ref: '#/components/schemas/UpdateInfo'
          description: The update that this step installs if it is of reference type.
        description:
          type: string
          description: Step description.
        resultCode:
          type: integer
          format: int32
          description: Install result code.
        extendedResultCode:
          type: integer
          format: int32
          description: Install extended result code
        resultDetails:
          type: string
          description: A string containing further details about the install result
    StepType:
      type: string
      description: Step type
      enum:
        - Inline
        - Reference
    StringsList:
      type: object
      description: The list of strings with server paging support.
      required:
        - value
      properties:
        value:
          type: array
          items:
            type: string
          description: The collection of pageable items.
        nextLink:
          type: string
          description: The link to the next page of items
    Update:
      type: object
      description: Update metadata.
      required:
        - updateId
        - compatibility
        - manifestVersion
        - importedDateTime
        - createdDateTime
      properties:
        updateId:
          allOf:
            - $ref: '#/components/schemas/UpdateId'
          description: Update identity.
          readOnly: true
        description:
          type: string
          description: Update description specified by creator.
        friendlyName:
          type: string
          description: Friendly update name specified by importer.
        isDeployable:
          type: boolean
          description: Whether the update can be deployed to a device on its own.
        updateType:
          type: string
          description: Update type. Deprecated in latest import manifest schema.
        installedCriteria:
          type: string
          description: |-
            String interpreted by Device Update client to determine if the update is
            installed on the device. Deprecated in latest import manifest schema.
        compatibility:
          type: array
          items:
            type: object
            additionalProperties:
              type: string
          description: List of update compatibility information.
        instructions:
          allOf:
            - $ref: '#/components/schemas/Instructions'
          description: Update install instructions.
        referencedBy:
          type: array
          items:
            $ref: '#/components/schemas/UpdateId'
          description: List of update identities that reference this update.
        scanResult:
          type: string
          description: Update aggregate scan result (calculated from payload file scan results).
        manifestVersion:
          type: string
          description: Schema version of manifest used to import the update.
        importedDateTime:
          type: string
          format: date-time
          description: Date and time in UTC when the update was imported.
        createdDateTime:
          type: string
          format: date-time
          description: Date and time in UTC when the update was created.
        etag:
          type: string
          description: Update ETag.
    UpdateCompliance:
      type: object
      description: Update compliance information.
      required:
        - totalDeviceCount
        - onLatestUpdateDeviceCount
        - newUpdatesAvailableDeviceCount
        - updatesInProgressDeviceCount
      properties:
        totalDeviceCount:
          type: integer
          format: int32
          description: Total number of devices.
        onLatestUpdateDeviceCount:
          type: integer
          format: int32
          description: Number of devices on the latest update.
        newUpdatesAvailableDeviceCount:
          type: integer
          format: int32
          description: Number of devices with a newer update available.
        updatesInProgressDeviceCount:
          type: integer
          format: int32
          description: Number of devices with update in-progress.
    UpdateFile:
      type: object
      description: Update file metadata.
      required:
        - fileName
        - sizeInBytes
        - hashes
        - fileId
      properties:
        fileName:
          type: string
          description: File name.
        sizeInBytes:
          type: integer
          format: int64
          description: File size in number of bytes.
        hashes:
          type: object
          description: Mapping of hashing algorithm to base64 encoded hash values.
          additionalProperties:
            type: string
        mimeType:
          type: string
          description: File MIME type.
        scanResult:
          type: string
          description: Anti-malware scan result.
        scanDetails:
          type: string
          description: Anti-malware scan details.
        properties:
          type: object
          description: Optional file properties (not consumed by service but pass-through to device).
          additionalProperties:
            type: string
        fileId:
          type: string
          description: File identity, generated by server at import time.
        relatedFiles:
          type: array
          items:
            $ref: '#/components/schemas/UpdateFileBase'
          description: |-
            Optional related files metadata used together DownloadHandler metadata to
            download payload file.
        downloadHandler:
          allOf:
            - $ref: '#/components/schemas/UpdateFileDownloadHandler'
          description: Optional download handler for utilizing related files to download payload file.
        etag:
          type: string
          description: File ETag.
    UpdateFileBase:
      type: object
      description: Update file basic metadata.
      required:
        - fileName
        - sizeInBytes
        - hashes
      properties:
        fileName:
          type: string
          description: File name.
        sizeInBytes:
          type: integer
          format: int64
          description: File size in number of bytes.
        hashes:
          type: object
          description: Mapping of hashing algorithm to base64 encoded hash values.
          additionalProperties:
            type: string
        mimeType:
          type: string
          description: File MIME type.
        scanResult:
          type: string
          description: Anti-malware scan result.
        scanDetails:
          type: string
          description: Anti-malware scan details.
        properties:
          type: object
          description: Optional file properties (not consumed by service but pass-through to device).
          additionalProperties:
            type: string
    UpdateFileDownloadHandler:
      type: object
      description: Download handler for utilizing related files to download payload file.
      required:
        - id
      properties:
        id:
          type: string
          description: Download handler identifier.
    UpdateFilter:
      type: object
      description: Update filter.
      properties:
        isDeployable:
          type: boolean
          description: Update isDeployable property.
    UpdateId:
      type: object
      description: Update identifier.
      required:
        - provider
        - name
        - version
      properties:
        provider:
          type: string
          description: Update provider.
          pattern: ^[a-zA-Z0-9.-]+$
          minLength: 1
          maxLength: 64
        name:
          type: string
          description: Update name.
          pattern: ^[a-zA-Z0-9.-]+$
          minLength: 1
          maxLength: 64
        version:
          type: string
          description: |-
            Update version.Two to four part dot separated numerical version numbers.
            Each part must be a number between 0 and 2147483647 and leading zeroes will be dropped.
          pattern: ^\d+(?:\.\d+)+$
          minLength: 3
    UpdateInfo:
      type: object
      description: Update information.
      required:
        - updateId
      properties:
        updateId:
          allOf:
            - $ref: '#/components/schemas/UpdateId'
          description: Update identifier.
          readOnly: true
        description:
          type: string
          description: Update description.
          readOnly: true
        friendlyName:
          type: string
          description: Friendly update name.
          readOnly: true
    UpdateInfoCreateOrUpdate:
      type: object
      description: Update information.
    UpdateInfoUpdate:
      type: object
      description: Update information.
    UpdateOperation:
      type: object
      description: Operation metadata.
      required:
        - operationId
        - status
        - lastActionDateTime
        - createdDateTime
      properties:
        operationId:
          type: string
          description: Operation Id.
          readOnly: true
        status:
          allOf:
            - $ref: '#/components/schemas/OperationStatus'
          description: Operation status.
        update:
          allOf:
            - $ref: '#/components/schemas/UpdateInfo'
          description: |-
            The update being imported or deleted. For import, this property will only be
            populated after import manifest is processed successfully.
        resourceLocation:
          type: string
          description: Location of the imported update when operation is successful.
        error:
          allOf:
            - $ref: '#/components/schemas/Azure.Core.Foundations.Error'
          description: Operation error encountered, if any.
        traceId:
          type: string
          description: |-
            Operation correlation identity that can used by Microsoft Support for
            troubleshooting.
        lastActionDateTime:
          type: string
          format: date-time
          description: Date and time in UTC when the operation status was last updated.
        createdDateTime:
          type: string
          format: date-time
          description: Date and time in UTC when the operation was created.
        etag:
          type: string
          description: Operation ETag.
    UsageQuotaCounter:
      type: object
      description: A counter with both usage and quota information.
      properties:
        usage:
          type: integer
          format: int32
          description: The current number of the resource that exist
        quota:
          type: integer
          format: int32
          description: The maximum number of the resource that can be created
    Versions:
      type: string
      description: Device update service versions
      enum:
        - 2023-10-01-preview
servers:
  - url: https://{endpoint}
    description: Device Update for IoT Hub is an Azure service that enables customers to publish updates for their IoT devices to the cloud, and then deploy that update to their devices (approve updates to groups of devices managed and provisioned in IoT Hub). It leverages the proven security and reliability of the Windows Update platform, optimized for IoT devices. It works globally and knows when and how to update devices, enabling customers to focus on their business goals and let Device Update for IoT Hub handle the updates.
    variables:
      endpoint:
        default: ''
