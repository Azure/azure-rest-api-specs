{
  "parameters": {
    "api-version": "2025-08-01",
    "fabricName": "eastus",
    "protectionContainerName": "eastus-container",
    "replicationProtectionClusterName": "cluster12",
    "resourceGroupName": "resourceGroupPS1",
    "resourceName": "vault1",
    "subscriptionId": "c183865e-6077-46f2-a3b1-deb0f4f4650a"
  },
  "responses": {
    "200": {
      "body": {
        "name": "cluster1",
        "type": "Microsoft.RecoveryServices/vaults/replicationFabrics/replicationProtectionContainers/replicationProtectionClusters",
        "id": "/Subscriptions/c183865e-6077-46f2-a3b1-deb0f4f4650a/resourceGroups/resourceGroupPS1/providers/Microsoft.RecoveryServices/vaults/vault1/replicationFabrics/eastus/replicationProtectionContainers/eastus-container/replicationProtectionClusters/cluster1",
        "properties": {
          "activeLocation": "Primary",
          "agentClusterId": "dd9925cf-5f90-49e9-bd6d-d4cbdcec956b",
          "allowedOperations": [
            "UnplannedFailover",
            "DisableProtection"
          ],
          "areAllClusterNodesRegistered": true,
          "clusterFqdn": "ad45f2fc-f9d6-42ac-8a7c-1c5380c88c28",
          "clusterNodeFqdns": [],
          "clusterProtectedItemIds": [
            "/Subscriptions/c183865e-6077-46f2-a3b1-deb0f4f4650a/resourceGroups/resourceGroupPS1/providers/Microsoft.RecoveryServices/vaults/vault1/replicationFabrics/eastus/replicationProtectionContainers/eastus-container/replicationProtectedItems/cluster2vm0",
            "/Subscriptions/c183865e-6077-46f2-a3b1-deb0f4f4650a/resourceGroups/resourceGroupPS1/providers/Microsoft.RecoveryServices/vaults/vault1/replicationFabrics/eastus/replicationProtectionContainers/eastus-container/replicationProtectedItems/cluster2vm1"
          ],
          "clusterRegisteredNodes": [
            {
              "biosId": "eed7a457-b11f-420e-8e4f-384833a6b7c9",
              "clusterNodeFqdn": "VM0",
              "isSharedDiskVirtualNode": true,
              "machineId": "a7eaf02d-60d9-45be-a444-d1b945f1c7b2"
            }
          ],
          "currentScenario": null,
          "healthErrors": [],
          "lastSuccessfulFailoverTime": null,
          "policyFriendlyName": "24-hour-retention-policy",
          "policyId": "/Subscriptions/c183865e-6077-46f2-a3b1-deb0f4f4650a/resourceGroups/resourceGroupPS1/providers/Microsoft.RecoveryServices/vaults/vault1/replicationPolicies/24-hour-retention-policy",
          "primaryFabricFriendlyName": "eastus",
          "primaryFabricProvider": "AzureFabric",
          "primaryProtectionContainerFriendlyName": "eastus",
          "protectionClusterType": "WindowsServerFailoverCluster",
          "protectionState": "Protected",
          "protectionStateDescription": "Protected",
          "providerSpecificDetails": {
            "clusterManagementId": "1ed32804-ae51-4752-9448-9f686ae27d7b",
            "failoverRecoveryPointId": null,
            "initialPrimaryExtendedLocation": null,
            "initialPrimaryFabricLocation": "eastus",
            "initialPrimaryZone": "",
            "initialRecoveryExtendedLocation": null,
            "initialRecoveryFabricLocation": "centraluseuap",
            "initialRecoveryZone": "",
            "instanceType": "A2A",
            "lastRpoCalculatedTime": null,
            "lifecycleId": null,
            "multiVmGroupCreateOption": "UserSpecified",
            "multiVmGroupId": "4c2988ed-7e2a-566e-9c5f-c33835621e83",
            "multiVmGroupName": "multiVmGroupName1111",
            "primaryAvailabilityZone": null,
            "primaryExtendedLocation": null,
            "primaryFabricLocation": "eastus",
            "recoveryAvailabilityZone": null,
            "recoveryExtendedLocation": null,
            "recoveryFabricLocation": "centraluseuap",
            "rpoInSeconds": null
          },
          "provisioningState": "Created",
          "recoveryContainerId": "/Subscriptions/c183865e-6077-46f2-a3b1-deb0f4f4650a/resourceGroups/resourceGroupPS1/providers/Microsoft.RecoveryServices/vaults/vault1/replicationFabrics/centraluseuap/replicationProtectionContainers/centraluseuap-container",
          "recoveryFabricFriendlyName": "centraluseuap",
          "recoveryFabricId": "/Subscriptions/c183865e-6077-46f2-a3b1-deb0f4f4650a/resourceGroups/resourceGroupPS1/providers/Microsoft.RecoveryServices/vaults/vault1/replicationFabrics/centraluseuap",
          "recoveryProtectionContainerFriendlyName": "eastus-container",
          "replicationHealth": "Normal",
          "sharedDiskProperties": {
            "activeLocation": null,
            "allowedOperations": [],
            "currentScenario": null,
            "healthErrors": [],
            "protectionState": "Protected",
            "replicationHealth": "Normal",
            "sharedDiskProviderSpecificDetails": {
              "failoverRecoveryPointId": null,
              "instanceType": "A2A",
              "lastRpoCalculatedTime": "2022-11-11T07:34:58.856Z",
              "managementId": "1ed32804-ae51-4752-9448-9f686ae27d7b",
              "monitoringJobType": null,
              "monitoringPercentageCompletion": null,
              "primaryFabricLocation": "eastus",
              "protectedManagedDisks": [
                {
                  "allowedDiskLevelOperation": [],
                  "dataPendingAtSourceAgentInMB": 10,
                  "dataPendingInStagingStorageAccountInMB": 100,
                  "dekKeyVaultArmId": null,
                  "diskCapacityInBytes": 0,
                  "diskId": "/subscriptions/c183865e-6077-46f2-a3b1-deb0f4f4650a/resourcegroups/resourceGroupPS2/providers/microsoft.compute/disks/cluster2-datadisk0",
                  "diskName": "cluster2-datadisk0",
                  "diskState": "Unavailable",
                  "diskType": "Data",
                  "failoverDiskName": "cluster2-datadisk0",
                  "isDiskEncrypted": false,
                  "isDiskKeyEncrypted": false,
                  "kekKeyVaultArmId": null,
                  "keyIdentifier": null,
                  "monitoringJobType": null,
                  "monitoringPercentageCompletion": null,
                  "primaryDiskEncryptionSetId": null,
                  "primaryStagingAzureStorageAccountId": "/subscriptions/c183865e-6077-46f2-a3b1-deb0f4f4650a/resourceGroups/resourceGroupPS2/providers/Microsoft.Storage/storageAccounts/eastus1210192341",
                  "recoveryDiskEncryptionSetId": null,
                  "recoveryOrignalTargetDiskId": null,
                  "recoveryReplicaDiskAccountType": "Premium_LRS",
                  "recoveryReplicaDiskId": "/subscriptions/c183865e-6077-46f2-a3b1-deb0f4f4650a/resourceGroups/resourceGroupPS1/providers/Microsoft.Compute/disks/cluster2-datadisk0-ASRReplica",
                  "recoveryResourceGroupId": "/subscriptions/c183865e-6077-46f2-a3b1-deb0f4f4650a/resourceGroups/resourceGroupPS1",
                  "recoveryTargetDiskAccountType": "Premium_LRS",
                  "recoveryTargetDiskId": null,
                  "resyncRequired": true,
                  "secretIdentifier": null,
                  "tfoDiskName": "cluster2-datadisk0-ASRtest"
                }
              ],
              "recoveryFabricLocation": "centraluseuap",
              "rpoInSeconds": 300,
              "sharedDiskIRErrors": null,
              "unprotectedDisks": [
                {
                  "diskAutoProtectionStatus": "Disabled",
                  "diskLunId": 1
                },
                {
                  "diskAutoProtectionStatus": "Disabled",
                  "diskLunId": 2
                }
              ]
            }
          }
        }
      }
    },
    "202": {
      "headers": {
        "Azure-AsyncOperation": "https://management.azure.com/Subscriptions/c183865e-6077-46f2-a3b1-deb0f4f4650a/resourceGroups/resourceGroupPS1/providers/Microsoft.RecoveryServices/vaults/vault1/replicationOperationStatus/bcf9605f-1611-484c-8f52-4eb0c076d0f8?api-version=2025-08-01",
        "Location": "https://management.azure.com/Subscriptions/7c943c1b-5122-4097-90c8-861411bdd574/resourceGroups/resourceGroupPS1/providers/Microsoft.RecoveryServices/vaults/vault1/replicationFabrics/fabric-pri-eastus/replicationProtectionContainers/pri-cloud-eastus/replicationProtectionClusters/testcluster/operationresults/76e220ab-8ae8-4047-b6e0-e6c0f6fc2241?api-version=2025-08-01",
        "Retry-After": 30
      }
    }
  },
  "operationId": "ReplicationProtectionClusters_RepairReplication",
  "title": "Resynchronize or repair replication of protection cluster."
}
