{
  "parameters": {
    "api-version": "2022-04-29-preview",
    "subscriptionId": "subscriptionId",
    "resourceGroupName": "resourceGroupName",
    "hybridAksManagementDomainName": "hybridAksManagementDomainName",
    "hybridAksManagementDomainParameters": {
      "location": "location",
      "tags": {
        "key1": "myvalue1",
        "key2": "myvalue2"
      },
      "extendedLocation": {
        "type": "CustomLocation",
        "name": "/subscriptions/subscriptionId/resourceGroups/resourceGroupName/providers/Microsoft.ExtendedLocation/customLocations/clusterExtendedLocationName"
      },
      "properties": {
        "additionalEgressEndpoints": [
          {
            "category": "azure-resource-management",
            "endpoints": [
              {
                "domainName": "management.azure.com",
                "endpointDetails": [
                  {
                    "description": "The ports and protocols used when connecting to domain name.",
                    "ipAddress": "127.0.0.1",
                    "port": "443",
                    "protocol": "Https"
                  }
                ]
              }
            ]
          }
        ],
        "cniIsolationType": "Layer3",
        "cniBgpConfig": {
          "clusterAsn": "63400",
          "serviceExternalIps": ["104.244.42.129/32"],
          "serviceLoadBalancerIps": ["10.96.0.0/12"],
          "communityAdvertisements": [
            {
              "cidr": "104.244.42.129/32",
              "communities": ["aa:nn:mm", "aa:nn"]
            }
          ],
          "bgpPeers": [
            {
              "peerIp": "192.168.1.1",
              "asNumber": "63400"
            }
          ]
        }
      }
    }
  },
  "responses": {
    "200": {
      "body": {
        "id": "/subscriptions/subscriptionId/resourceGroups/resourceGroupName/providers/Microsoft.NetworkCloud/hybridAksManagementDomains/hybridAksManagementDomainName",
        "name": "hybridAksManagementDomainName",
        "type": "Microsoft.NetworkCloud/hybridAksManagementDomains",
        "location": "location",
        "tags": {
          "key1": "myvalue1",
          "key2": "myvalue2"
        },
        "systemData": {
          "createdAt": "2021-01-22T13:27:03.008Z",
          "createdBy": "identityA",
          "createdByType": "Application",
          "lastModifiedAt": "2021-01-22T13:29:03.001Z",
          "lastModifiedBy": "identityB",
          "lastModifiedByType": "User"
        },
        "extendedLocation": {
          "type": "CustomLocation",
          "name": "/subscriptions/subscriptionId/resourceGroups/resourceGroupName/providers/Microsoft.ExtendedLocation/customLocations/clusterExtendedLocationName"
        },
        "properties": {
          "additionalEgressEndpoints": [
            {
              "category": "azure-resource-management",
              "endpoints": [
                {
                  "domainName": "management.azure.com",
                  "endpointDetails": [
                    {
                      "description": "The ports and protocols used when connecting to domainName.",
                      "ipAddress": "127.0.0.1",
                      "port": "443",
                      "protocol": "Https"
                    }
                  ]
                }
              ]
            }
          ],
          "cniIsolationDomainId": "/subscriptions/subscriptionId/resourceGroups/resourceGroupName/providers/Microsoft.ManagedNetworkFabric/isolationDomains/isolationDomainName",
          "cniVlanId": 64,
          "cniIpv4Cidr": "104.144.42.129/32",
          "cniIpv6Cidr": "2001:4860:4860::8888/32",
          "cniIsolationType": "Layer3",
          "platformIsolationDomainId": "/subscriptions/subscriptionId/resourceGroups/resourceGroupName/providers/Microsoft.ManagedNetworkFabric/isolationDomains/isolationDomainName",
          "platformVlanId": 200,
          "platformCniIpv4Cidr": "104.244.42.129/32",
          "platformCniIpv6Cidr": "3001:4860:4860::8888/32",
          "cniBgpConfig": {
            "clusterAsn": "63400",
            "serviceExternalIps": ["104.244.42.129/32"],
            "serviceLoadBalancerIps": ["10.96.0.0/12"],
            "communityAdvertisements": [
              {
                "cidr": "104.244.42.129/32",
                "communities": ["aa:nn:mm", "aa:nn"]
              }
            ],
            "bgpPeers": [
              {
                "peerIp": "192.168.1.1",
                "asNumber": "63400"
              }
            ]
          },
          "clusterId": "/subscriptions/subscriptionId/resourceGroups/resourceGroupName/providers/Microsoft.NetworkCloud/clusters/clusterName",
          "hybridAksClustersAssociatedIds": [
            "/subscriptions/subscriptionId/resourceGroups/resourceGroupName/providers/Microsoft.NetworkCloud/clusters/clusterName"
          ],
          "virtualMachinesAssociatedIds": [
            "/subscriptions/subscriptionId/resourceGroups/resourceGroupName/providers/Microsoft.NetworkCloud/VirtualMachines/virtualMachineName"
          ]
        }
      }
    },
    "201": {
      "body": {
        "id": "/subscriptions/subscriptionId/resourceGroups/resourceGroupName/providers/Microsoft.NetworkCloud/hybridAksManagementDomains/hybridAksManagementDomainName",
        "name": "hybridAksManagementDomainName",
        "type": "Microsoft.NetworkCloud/hybridAksManagementDomains",
        "location": "location",
        "tags": {
          "key1": "myvalue1",
          "key2": "myvalue2"
        },
        "systemData": {
          "createdAt": "2021-01-22T13:27:03.008Z",
          "createdBy": "identityA",
          "createdByType": "Application",
          "lastModifiedAt": "2021-01-22T13:29:03.001Z",
          "lastModifiedBy": "identityB",
          "lastModifiedByType": "User"
        },
        "extendedLocation": {
          "type": "CustomLocation",
          "name": "/subscriptions/subscriptionId/resourceGroups/resourceGroupName/providers/Microsoft.ExtendedLocation/customLocations/clusterExtendedLocationName"
        },
        "properties": {
          "additionalEgressEndpoints": [
            {
              "category": "azure-resource-management",
              "endpoints": [
                {
                  "domainName": "management.azure.com",
                  "endpointDetails": [
                    {
                      "description": "The ports and protocols used when connecting to domainName.",
                      "ipAddress": "127.0.0.1",
                      "port": "443",
                      "protocol": "Https"
                    }
                  ]
                }
              ]
            }
          ],
          "cniIsolationDomainId": "/subscriptions/subscriptionId/resourceGroups/resourceGroupName/providers/Microsoft.ManagedNetworkFabric/isolationDomains/isolationDomainName",
          "cniVlanId": 64,
          "cniIpv4Cidr": "104.144.42.129/32",
          "cniIpv6Cidr": "2001:4860:4860::8888/32",
          "cniIsolationType": "Layer3",
          "platformIsolationDomainId": "/subscriptions/subscriptionId/resourceGroups/resourceGroupName/providers/Microsoft.ManagedNetworkFabric/isolationDomains/isolationDomainName",
          "platformVlanId": 200,
          "platformCniIpv4Cidr": "104.244.42.129/32",
          "platformCniIpv6Cidr": "3001:4860:4860::8888/32",
          "cniBgpConfig": {
            "clusterAsn": "63400",
            "serviceExternalIps": ["104.244.42.129/32"],
            "serviceLoadBalancerIps": ["10.96.0.0/12"],
            "communityAdvertisements": [
              {
                "cidr": "104.244.42.129/32",
                "communities": ["aa:nn:mm", "aa:nn"]
              }
            ],
            "bgpPeers": [
              {
                "peerIp": "192.168.1.1",
                "asNumber": "63400"
              }
            ]
          },
          "provisioningState": "Accepted",
          "clusterId": "/subscriptions/subscriptionId/resourceGroups/resourceGroupName/providers/Microsoft.NetworkCloud/clusters/clusterName",
          "hybridAksClustersAssociatedIds": [
            "/subscriptions/subscriptionId/resourceGroups/resourceGroupName/providers/Microsoft.NetworkCloud/clusters/clusterName"
          ],
          "virtualMachinesAssociatedIds": [
            "/subscriptions/subscriptionId/resourceGroups/resourceGroupName/providers/Microsoft.NetworkCloud/VirtualMachines/virtualMachineName"
          ]
        }
      },
      "headers": {
        "Azure-AsyncOperation": "https://management.azure.com/subscriptions/subscriptionId/providers/Microsoft.NetworkCloud/locations/location/operationStatuses/operationId?api-version=2022-04-29-preview"
      }
    }
  }
}
