{
  "operationId": "Users_CreateOrUpdate",
  "title": "Creates a user on a Mongo Cluster resource.",
  "parameters": {
    "subscriptionId": "ffffffff-ffff-ffff-ffff-ffffffffffff",
    "resourceGroupName": "TestGroup",
    "mongoClusterName": "myMongoCluster",
    "userName": "uuuuuuuu-uuuu-uuuu-uuuu-uuuuuuuuuuuu",
    "api-version": "2025-04-01-preview",
    "resource": {
      "properties": {
        "roles": [
          {
            "role": "dbOwner",
            "db": "admin"
          }
        ],
        "identityProvider": {
          "type": "MicrosoftEntraID",
          "properties": {
            "principalType": "User"
          }
        }
      }
    }
  },
  "responses": {
    "200": {
      "body": {
        "id": "/subscriptions/ffffffff-ffff-ffff-ffff-ffffffffffff/resourceGroups/TestResourceGroup/providers/Microsoft.DocumentDB/mongoClusters/myMongoCluster/users/uuuuuuuu-uuuu-uuuu-uuuu-uuuuuuuuuuuu",
        "name": "uuuuuuuu-uuuu-uuuu-uuuu-uuuuuuuuuuuu",
        "type": "/Microsoft.DocumentDB/mongoClusters/users",
        "systemData": {
          "createdBy": "user1",
          "createdByType": "User",
          "createdAt": "2020-01-01T17:18:19.1234567Z",
          "lastModifiedBy": "user2",
          "lastModifiedByType": "User",
          "lastModifiedAt": "2020-01-02T17:18:19.1234567Z"
        },
        "properties": {
          "provisioningState": "InProgress",
          "roles": [
            {
              "role": "dbOwner",
              "db": "admin"
            }
          ],
          "identityProvider": {
            "type": "MicrosoftEntraID",
            "properties": {
              "principalType": "User"
            }
          }
        }
      }
    },
    "201": {
      "body": {
        "id": "/subscriptions/ffffffff-ffff-ffff-ffff-ffffffffffff/resourceGroups/TestResourceGroup/providers/Microsoft.DocumentDB/mongoClusters/myMongoCluster/users/uuuuuuuu-uuuu-uuuu-uuuu-uuuuuuuuuuuu",
        "name": "uuuuuuuu-uuuu-uuuu-uuuu-uuuuuuuuuuuu",
        "type": "/Microsoft.DocumentDB/mongoClusters/users",
        "systemData": {
          "createdBy": "user1",
          "createdByType": "User",
          "createdAt": "2020-01-01T17:18:19.1234567Z",
          "lastModifiedBy": "user2",
          "lastModifiedByType": "User",
          "lastModifiedAt": "2020-01-02T17:18:19.1234567Z"
        },
        "properties": {
          "provisioningState": "InProgress",
          "roles": [
            {
              "role": "dbOwner",
              "db": "admin"
            }
          ],
          "identityProvider": {
            "type": "MicrosoftEntraID",
            "properties": {
              "principalType": "User"
            }
          }
        }
      }
    }
  }
}
