{
  "parameters": {
    "subscriptionId": "8e17e36c-42e9-4cd5-a078-7b44883414e0",
    "resourceGroupName": "test-rg",
    "connectorName": "C1",
    "insightsName": "amsinsights",
    "api-version": "2023-11-01-preview",
    "body": {
      "tags": {
        "tag1": "value1"
      }
    }
  },
  "responses": {
    "201": {
      "body": {
        "id": "/subscriptions/6d875e77-e412-4d7d-9af4-8895278b4443/resourceGroups/test-rg/providers/Microsoft.Workloads/connectors/C1/amsInsights/amsinsights",
        "name": "amsinsights",
        "type": "Microsoft.Workloads/connectors/amsInsights",
        "tags": {
          "tag1": "value1"
        },
        "location": "eastus",
        "systemData": {
          "createdBy": "user@xyz.com",
          "createdByType": "User",
          "createdAt": "2021-08-19T15:10:46.196Z",
          "lastModifiedBy": "user@xyz.com",
          "lastModifiedByType": "User",
          "lastModifiedAt": "2021-08-19T15:10:46.196Z"
        },
        "properties": {
          "insightsData": {
            "inputData": {
              "identity": {
                "type": "UserAssigned",
                "userAssignedIdentities": {
                  "/subscriptions/78e17e36c-42e9-4cd5-a078-7b44883414e0/resourcegroups/test-rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/TEST-MSI": {
                    "principalId": "b2cbeae4-be4e-4769-bef9-fcba80c3f085",
                    "clientId": "d6e68373-71ce-4bde-8eea-00474afd5d01"
                  }
                }
              }
            },
            "id": "/subscriptions/78e17e36c-42e9-4cd5-a078-7b44883414e0/resourcegroups/test-rg/providers/Microsoft.Workloads/insights/testInsights"
          },
          "provisioningState": "Succeeded"
        }
      }
    },
    "200": {
      "body": {
        "id": "/subscriptions/6d875e77-e412-4d7d-9af4-8895278b4443/resourceGroups/test-rg/providers/Microsoft.Workloads/connectors/C1/amsInsights/amsinsights",
        "name": "amsinsights",
        "type": "Microsoft.Workloads/connectors/amsInsights",
        "tags": {},
        "location": "eastus",
        "systemData": {
          "createdBy": "user@xyz.com",
          "createdByType": "User",
          "createdAt": "2021-08-19T15:10:46.196Z",
          "lastModifiedBy": "user@xyz.com",
          "lastModifiedByType": "User",
          "lastModifiedAt": "2021-08-19T15:10:46.196Z"
        },
        "properties": {
          "insightsData": {
            "inputData": {
              "identity": {
                "type": "UserAssigned",
                "userAssignedIdentities": {
                  "/subscriptions/78e17e36c-42e9-4cd5-a078-7b44883414e0/resourcegroups/test-rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/TEST-MSI": {
                    "principalId": "b2cbeae4-be4e-4769-bef9-fcba80c3f085",
                    "clientId": "d6e68373-71ce-4bde-8eea-00474afd5d01"
                  }
                }
              }
            },
            "id": "/subscriptions/78e17e36c-42e9-4cd5-a078-7b44883414e0/resourcegroups/test-rg/providers/Microsoft.Workloads/insights/testInsights"
          },
          "provisioningState": "Succeeded"
        }
      }
    }
  }
}
