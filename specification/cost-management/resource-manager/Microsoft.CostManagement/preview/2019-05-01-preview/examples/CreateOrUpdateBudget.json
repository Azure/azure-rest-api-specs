{
  "parameters": {
    "api-version": "2019-05-01-preview",
    "subscriptionId": "00000000-0000-0000-0000-000000000000",
    "resourceGroupName": "MYDEVTESTRG",
    "budgetName": "TestBudget",
    "scope": "subscriptions/00000000-0000-0000-0000-000000000000",
    "parameters": {
      "eTag": "\"1d34d016a593709\"",
      "properties": {
        "category": "Cost",
        "amount": 100.65,
        "timeGrain": "Monthly",
        "timePeriod": {
          "startDate": "2017-10-01T00:00:00Z",
          "endDate": "2018-10-31T00:00:00Z"
        },
        "filter": {
          "And": [
            {
              "Dimensions": {
                "Name": "ResourceGroupName",
                "Operator": "In",
                "Values": ["MYDEVTESTRG"]
              }
            },
            {
              "Dimensions": {
                "Name": "ResourceId",
                "Operator": "In",
                "Values": [
                  "/subscriptions/{subscription-id}/resourceGroups/MYDEVTESTRG/providers/Microsoft.Compute/virtualMachines/MYVM2",
                  "/subscriptions/{subscription-id}/resourceGroups/MYDEVTESTRG/providers/Microsoft.Compute/virtualMachines/platformcloudplatformGeneric1"
                ]
              }
            },
            {
              "Dimensions": {
                "Name": "Meter",
                "Operator": "In",
                "Values": ["00000000-0000-0000-0000-000000000000"]
              }
            },
            {
              "TagKey": {
                "Values": ["Dev"]
              }
            },
            {
              "TagValue": {
                "Values": ["engineering"]
              }
            }
          ]
        },
        "notifications": {
          "Actual_GreaterThan_80_Percent": {
            "enabled": true,
            "operator": "GreaterThan",
            "threshold": 80,
            "contactEmails": ["johndoe@contoso.com", "janesmith@contoso.com"],
            "contactRoles": ["Contributor", "Reader"],
            "contactGroups": [
              "/subscriptions/{subscription-id}/resourceGroups/MYDEVTESTRG/providers/microsoft.insights/actionGroups/SampleActionGroup"
            ]
          }
        }
      }
    }
  },
  "responses": {
    "201": {
      "body": {
        "id": "subscriptions/{subscription-id}/providers/Microsoft.Consumption/budgets/TestBudget",
        "name": "TestBudget",
        "type": "Microsoft.Consumption/budgets",
        "eTag": "\"1d34d012214157f\"",
        "properties": {
          "category": "Cost",
          "amount": 100.65,
          "timeGrain": "Monthly",
          "timePeriod": {
            "startDate": "2017-10-01T00:00:00Z",
            "endDate": "2018-10-31T00:00:00Z"
          },
          "filter": {
            "And": [
              {
                "Dimensions": {
                  "Name": "ResourceGroupName",
                  "Operator": "In",
                  "Values": ["MYDEVTESTRG"]
                }
              },
              {
                "Dimensions": {
                  "Name": "ResourceId",
                  "Operator": "In",
                  "Values": [
                    "/subscriptions/{subscription-id}/resourceGroups/MYDEVTESTRG/providers/Microsoft.Compute/virtualMachines/MYVM2",
                    "/subscriptions/{subscription-id}/resourceGroups/MYDEVTESTRG/providers/Microsoft.Compute/virtualMachines/platformcloudplatformGeneric1"
                  ]
                }
              },
              {
                "Dimensions": {
                  "Name": "Meter",
                  "Operator": "In",
                  "Values": ["00000000-0000-0000-0000-000000000000"]
                }
              },
              {
                "TagKey": {
                  "Values": ["Dev"]
                }
              },
              {
                "TagValue": {
                  "Values": ["engineering"]
                }
              }
            ]
          },
          "currentSpend": {
            "amount": 80.89,
            "unit": "USD"
          },
          "notifications": {
            "Actual_GreaterThan_80_Percent": {
              "enabled": true,
              "operator": "GreaterThan",
              "threshold": 80,
              "contactEmails": ["johndoe@contoso.com", "janesmith@contoso.com"],
              "contactRoles": ["Contributor", "Reader"],
              "contactGroups": [
                "/subscriptions/{subscription-id}/resourceGroups/MYDEVTESTRG/providers/microsoft.insights/actionGroups/SampleActionGroup"
              ]
            }
          }
        }
      }
    },
    "200": {
      "body": {
        "id": "subscriptions/{subscription-id}/providers/Microsoft.Consumption/budgets/TestBudget",
        "name": "TestBudget",
        "type": "Microsoft.Consumption/budgets",
        "eTag": "\"1d34d012214157f\"",
        "properties": {
          "category": "Cost",
          "amount": 100.65,
          "timeGrain": "Monthly",
          "timePeriod": {
            "startDate": "2017-10-01T00:00:00Z",
            "endDate": "2018-10-31T00:00:00Z"
          },
          "filter": {
            "And": [
              {
                "Dimensions": {
                  "Name": "ResourceGroupName",
                  "Operator": "In",
                  "Values": ["MYDEVTESTRG"]
                }
              },
              {
                "Dimensions": {
                  "Name": "ResourceId",
                  "Operator": "In",
                  "Values": [
                    "/subscriptions/{subscription-id}/resourceGroups/MYDEVTESTRG/providers/Microsoft.Compute/virtualMachines/MYVM2",
                    "/subscriptions/{subscription-id}/resourceGroups/MYDEVTESTRG/providers/Microsoft.Compute/virtualMachines/platformcloudplatformGeneric1"
                  ]
                }
              },
              {
                "Dimensions": {
                  "Name": "Meter",
                  "Operator": "In",
                  "Values": ["00000000-0000-0000-0000-000000000000"]
                }
              },
              {
                "TagKey": {
                  "Values": ["Dev"]
                }
              },
              {
                "TagValue": {
                  "Values": ["engineering"]
                }
              }
            ]
          },
          "currentSpend": {
            "amount": 80.89,
            "unit": "USD"
          },
          "notifications": {
            "Actual_GreaterThan_80_Percent": {
              "enabled": true,
              "operator": "GreaterThan",
              "threshold": 80,
              "contactEmails": ["johndoe@contoso.com", "janesmith@contoso.com"],
              "contactRoles": ["Contributor", "Reader"],
              "contactGroups": [
                "/subscriptions/{subscription-id}/resourceGroups/MYDEVTESTRG/providers/microsoft.insights/actionGroups/SampleActionGroup"
              ]
            }
          }
        }
      }
    }
  }
}
