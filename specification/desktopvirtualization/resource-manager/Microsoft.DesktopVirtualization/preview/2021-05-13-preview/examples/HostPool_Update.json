{
  "parameters": {
    "subscriptionId": "daefabc0-95b4-48b3-b645-8a753a63c4fa",
    "resourceGroupName": "resourceGroup1",
    "hostPoolName": "hostPool1",
    "api-version": "2021-05-13-preview",
    "hostPool": {
      "tags": {
        "tag1": "value1",
        "tag2": "value2"
      },
      "properties": {
        "friendlyName": "friendly",
        "description": "des1",
        "customRdpProperty": null,
        "maxSessionLimit": 999999,
        "loadBalancerType": "BreadthFirst",
        "personalDesktopAssignmentType": "Automatic",
        "registrationInfo": {
          "expirationTime": "2020-10-01T15:01:54.9571247Z",
          "registrationTokenOperation": "Update"
        },
        "vmTemplate": "{json:json}",
        "ssoadfsAuthority": "https://adfs",
        "ssoClientId": "client",
        "ssoClientSecretKeyVaultPath": "https://keyvault/secret",
        "ssoSecretType": "SharedKey",
        "startVMOnConnect": false,
        "publicNetworkAccess": "Enabled",
        "sessionHostConfiguration": {
          "vMSizeId": "Standard_D2s_v3",
          "diskType": "Standard_LRS",
          "vmCustomConfigurationUri": "https://storageaccountname.blob.core.windows.net/blobcontainer/file",
          "imageInfo": {
            "type": "Gallery",
            "marketPlaceInfo": {
              "offer": "Windows-10",
              "publisher": "MicrosoftWindowsDesktop",
              "sku": "19h2-ent",
              "exactVersion": "2019.0.20190115"
            },
            "storageBlobUri": "https://storageaccountname.blob.core.windows.net/blobcontainer/image.vhd",
            "customId": "/subscriptions/daefabc0-95b4-48b3-b645-8a753a63c4fa/resourceGroups/resourceGroup1/providers/Microsoft.Compute/images/imageName"
          },
          "domainInfo": {
            "name": "wvdarmtest1.net",
            "joinType": "ActiveDirectory",
            "mdmProviderGuid": "",
            "credentials": {
              "localAdmin": {
                "userName": "localAdminUserName",
                "passwordKeyVaultResourceId": "/subscriptions/daefabc0-95b4-48b3-b645-8a753a63c4fa/resourceGroups/resourceGroup1/providers/Microsoft.KeyVault/vaults/test-kv/secrets",
                "passwordSecretName": "localAdminPasswordName"
              },
              "domainAdmin": {
                "userName": "domainAdminUserName",
                "passwordKeyVaultResourceId": "/subscriptions/daefabc0-95b4-48b3-b645-8a753a63c4fa/resourceGroups/resourceGroup1/providers/Microsoft.KeyVault/vaults/test-kv/secrets",
                "passwordSecretName": "domainAdminPasswordName"
              }
            }
          }
        },
        "sessionHostComponentUpdateConfiguration": {
          "maintenanceType": "TenantAdminControlled",
          "useSessionHostLocalTime": false,
          "maintenanceWindowTimeZone": "Alaskan Standard Time",
          "primaryWindow": {
            "hour": 7,
            "dayOfWeek": "Friday"
          },
          "secondaryWindow": {
            "hour": 8,
            "daysOfWeek": [
              "Sunday",
              "Monday"
            ]
          }
        }
      }
    }
  },
  "responses": {
    "200": {
      "body": {
        "name": "hostPool1",
        "id": "/subscriptions/daefabc0-95b4-48b3-b645-8a753a63c4fa/resourceGroups/resourceGroup1/providers/Microsoft.DesktopVirtualization/hostPools/hostPool1",
        "type": "/Microsoft.DesktopVirtualization/hostPools",
        "location": "centralus",
        "tags": {
          "key1": "value1",
          "key2": "value2"
        },
        "properties": {
          "objectId": "7877fb31-4bde-49fd-9df3-c046e0ec5325",
          "friendlyName": "friendly",
          "description": "des1",
          "hostPoolType": "Pooled",
          "personalDesktopAssignmentType": "Automatic",
          "customRdpProperty": null,
          "maxSessionLimit": 999999,
          "loadBalancerType": "BreadthFirst",
          "validationEnvironment": null,
          "ring": null,
          "registrationInfo": {
            "expirationTime": "2008-09-22T14:01:54.9571247Z",
            "token": "token",
            "registrationTokenOperation": "Update"
          },
          "vmTemplate": "{json:json}",
          "ssoadfsAuthority": "https://adfs",
          "ssoClientId": "client",
          "ssoClientSecretKeyVaultPath": "https://keyvault/secret",
          "ssoSecretType": "SharedKey",
          "preferredAppGroupType": "Desktop",
          "startVMOnConnect": false,
          "cloudPcResource": false,
          "publicNetworkAccess": "Enabled",
          "sessionHostConfiguration": {
            "vMSizeId": "Standard_D2s_v3",
            "diskType": "Standard_LRS",
            "vmCustomConfigurationUri": "https://storageaccountname.blob.core.windows.net/blobcontainer/file",
            "imageInfo": {
              "type": "Gallery",
              "marketPlaceInfo": {
                "offer": "Windows-10",
                "publisher": "MicrosoftWindowsDesktop",
                "sku": "19h2-ent",
                "exactVersion": "2019.0.20190115"
              },
              "storageBlobUri": "https://storageaccountname.blob.core.windows.net/blobcontainer/image.vhd",
              "customId": "/subscriptions/daefabc0-95b4-48b3-b645-8a753a63c4fa/resourceGroups/resourceGroup1/providers/Microsoft.Compute/images/imageName"
            },
            "domainInfo": {
              "name": "wvdarmtest1.net",
              "joinType": "ActiveDirectory",
              "mdmProviderGuid": "",
              "credentials": {
                "localAdmin": {
                  "userName": "localAdminUserName",
                  "passwordKeyVaultResourceId": "/subscriptions/daefabc0-95b4-48b3-b645-8a753a63c4fa/resourceGroups/resourceGroup1/providers/Microsoft.KeyVault/vaults/test-kv/secrets",
                  "passwordSecretName": "localAdminPasswordName"
                },
                "domainAdmin": {
                  "userName": "domainAdminUserName",
                  "passwordKeyVaultResourceId": "/subscriptions/daefabc0-95b4-48b3-b645-8a753a63c4fa/resourceGroups/resourceGroup1/providers/Microsoft.KeyVault/vaults/test-kv/secrets",
                  "passwordSecretName": "domainAdminPasswordName"
                }
              }
            }
          },
          "sessionHostConfigurationLastUpdateTime": "2008-09-22T14:01:54.9571247Z",
          "sessionHostComponentUpdateConfiguration": {
            "maintenanceType": "TenantAdminControlled",
            "useSessionHostLocalTime": false,
            "maintenanceWindowTimeZone": "Alaskan Standard Time",
            "primaryWindow": {
              "hour": 7,
              "dayOfWeek": "Friday"
            },
            "secondaryWindow": {
              "hour": 8,
              "daysOfWeek": [
                "Sunday",
                "Monday"
              ]
            }
          }
        }
      }
    }
  }
}
