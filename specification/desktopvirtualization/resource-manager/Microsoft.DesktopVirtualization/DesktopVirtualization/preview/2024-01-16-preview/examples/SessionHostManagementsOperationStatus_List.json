{
  "parameters": {
    "subscriptionId": "daefabc0-95b4-48b3-b645-8a753a63c4fa",
    "resourceGroupName": "resourceGroup1",
    "hostPoolName": "hostPool1",
    "api-version": "2024-01-16-preview",
    "isLatest": false,
    "type": "InitiateSessionHostUpdate",
    "isNonTerminal": true,
    "correlationId": "2fa5c06c-2771-448b-a71e-e1124f44907f",
    "action": "",
    "isInitiatingOperation": false
  },
  "responses": {
    "200": {
      "body": {
        "value": [
          {
            "id": "/subscriptions/daefabc0-95b4-48b3-b645-8a753a63c4fa/resourceGroups/resourceGroup1/providers/Microsoft.DesktopVirtualization/hostPools/hostPool1/sessionHostManagements/default/operationStatuses/12345678-1234-1234-1234-123456789012",
            "name": "12345678-1234-1234-1234-123456789012",
            "status": "Failed",
            "startTime": "2020-07-10T15:00:00.000Z",
            "endTime": "2020-07-11T15:00:00.000Z",
            "percentComplete": 0.0,
            "operations": [],
            "error": {
              "code": "ProvisioningError",
              "message": "Provision 200 session hosts. \nTime Stamp: '2008-09-22T14:01:54.9571247Z' \nRequests: 120, 80. \nCanary Succeeded. \n120 successful. \n80 failed. \nSession Host Configuration Version '2008-09-22T14:01:54.9571247Z'. \n'Error code 'AADJoinFailed'. Message: User name or password is incorrect. Session Hosts: 'brman-abc1.mycompany.azure.com, brman-  abc3.mycompany.azure.com, brman-abc4.mycompany.azure.com ...' \nError code 'RDAgentInstallationFailed'. Message: Failed to download RDAgent installer. Session Hosts: 'brman-abc6.mycompany.azure.com, brman-abc7.mycompany.azure.com, brman-abc8.mycompany.azure.com ...'"
            },
            "properties": {
              "correlationId": "2fa5c06c-2771-448b-a71e-e1124f44907f",
              "type": "InitiateSessionHostUpdate | ValidateSessionHostUpdate",
              "action": "Start | Retry | Pause | Resume | Cancel",
              "progress": {
                "executionStartTime": "2020-10-01T14:01:54.9571247Z",
                "totalSessionHosts": 1,
                "sessionHostsInProgress": 1,
                "sessionHostsCompleted": 1,
                "sessionHostsRollbackFailed": 1
              },
              "scheduledDateTime": "2020-10-01T14:01:54.9571247Z",
              "sessionHostManagement": {
                "name": "default",
                "id": "/subscriptions/daefabc0-95b4-48b3-b645-8a753a63c4fa/resourceGroups/resourceGroup1/providers/Microsoft.DesktopVirtualization/hostPools/hostPool1/sessionHostManagements/default",
                "type": "Microsoft.DesktopVirtualization/hostPools/sessionHostManagements",
                "systemData": {
                  "createdBy": "user1",
                  "createdByType": "User",
                  "createdAt": "2020-01-01T17:18:19.1234567Z",
                  "lastModifiedBy": "user2",
                  "lastModifiedByType": "User",
                  "lastModifiedAt": "2020-01-02T17:18:19.1234567Z"
                },
                "properties": {
                  "scheduledDateTimeZone": "Alaskan Standard Time",
                  "update": {
                    "deleteOriginalVm": true,
                    "maxVmsRemoved": 4,
                    "logOffDelayMinutes": 10,
                    "logOffMessage": "Logging off for host pool update"
                  }
                }
              },
              "parentId": "/subscriptions/daefabc0-95b4-48b3-b645-8a753a63c4fa/resourceGroups/resourceGroup1/providers/Microsoft.DesktopVirtualization/hostPools/hostPool1/sessionHostManagements/default/operationStatuses/0000000-1234-1234-1234-000000000"
            }
          },
          {
            "id": "/subscriptions/daefabc0-95b4-48b3-b645-8a753a63c4fa/resourceGroups/resourceGroup1/providers/Microsoft.DesktopVirtualization/hostPools/hostPool1/sessionHostManagements/default/operationStatuses/2fa5c06c-2771-448b-a71e-e1124f44907f",
            "name": "2fa5c06c-2771-448b-a71e-e1124f44907f",
            "status": "Failed",
            "startTime": "2020-07-10T15:00:00.000Z",
            "endTime": "2020-07-11T15:00:00.000Z",
            "percentComplete": 0.0,
            "operations": [],
            "error": {
              "code": "ProvisioningError",
              "message": "Provision 200 session hosts. \nTime Stamp: '2008-09-22T14:01:54.9571247Z' \nRequests: 120, 80. \nCanary Succeeded. \n120 successful. \n80 failed. \nSession Host Configuration Version '2008-09-22T14:01:54.9571247Z'. \n'Error code 'AADJoinFailed'. Message: User name or password is incorrect. Session Hosts: 'brman-abc1.mycompany.azure.com, brman-  abc3.mycompany.azure.com, brman-abc4.mycompany.azure.com ...' \nError code 'RDAgentInstallationFailed'. Message: Failed to download RDAgent installer. Session Hosts: 'brman-abc6.mycompany.azure.com, brman-abc7.mycompany.azure.com, brman-abc8.mycompany.azure.com ...'"
            },
            "properties": {
              "correlationId": "2fa5c06c-2771-448b-a71e-e1124f44907f",
              "type": "InitiateSessionHostUpdate | ValidateSessionHostUpdate",
              "action": "Start | Retry | Pause | Resume | Cancel",
              "progress": {
                "executionStartTime": "2020-10-01T14:01:54.9571247Z",
                "totalSessionHosts": 1,
                "sessionHostsInProgress": 1,
                "sessionHostsCompleted": 1,
                "sessionHostsRollbackFailed": 1
              },
              "scheduledDateTime": "2020-10-01T14:01:54.9571247Z",
              "sessionHostManagement": {
                "name": "default",
                "id": "/subscriptions/daefabc0-95b4-48b3-b645-8a753a63c4fa/resourceGroups/resourceGroup1/providers/Microsoft.DesktopVirtualization/hostPools/hostPool1/sessionHostManagements/default",
                "type": "Microsoft.DesktopVirtualization/hostPools/sessionHostManagements",
                "systemData": {
                  "createdBy": "user1",
                  "createdByType": "User",
                  "createdAt": "2020-01-01T17:18:19.1234567Z",
                  "lastModifiedBy": "user2",
                  "lastModifiedByType": "User",
                  "lastModifiedAt": "2020-01-02T17:18:19.1234567Z"
                },
                "properties": {
                  "scheduledDateTimeZone": "Alaskan Standard Time",
                  "update": {
                    "deleteOriginalVm": true,
                    "maxVmsRemoved": 4,
                    "logOffDelayMinutes": 10,
                    "logOffMessage": "Logging off for host pool update"
                  }
                }
              },
              "parentId": "/subscriptions/daefabc0-95b4-48b3-b645-8a753a63c4fa/resourceGroups/resourceGroup1/providers/Microsoft.DesktopVirtualization/hostPools/hostPool1/sessionHostManagements/default/operationStatuses/0000000-1234-1234-1234-000000000"
            }
          }
        ]
      }
    }
  }
}
