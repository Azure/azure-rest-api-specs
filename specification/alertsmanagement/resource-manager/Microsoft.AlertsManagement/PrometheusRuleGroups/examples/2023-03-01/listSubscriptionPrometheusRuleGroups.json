{
  "parameters": {
    "api-version": "2023-03-01",
    "resourceGroupName": "promResourceGroup",
    "subscriptionId": "ffffffff-ffff-ffff-ffff-ffffffffffff"
  },
  "responses": {
    "200": {
      "body": {
        "value": [
          {
            "type": "Microsoft.AlertsManagement/prometheusRuleGroups",
            "id": "/subscriptions/ffffffff-ffff-ffff-ffff-ffffffffffff/resourceGroups/resourceGroupName1/providers/Microsoft.AlertsManagement/prometheusRuleGroups/myPrometheusRuleGroup",
            "location": "East US",
            "properties": {
              "description": "This is the description of the following rule group",
              "clusterName": "myClusterName",
              "enabled": true,
              "interval": "PT10M",
              "rules": [
                {
                  "expression": "histogram_quantile(0.99, sum(rate(jobs_duration_seconds_bucket{service=\"billing-processing\"}[5m])) by (job_type))",
                  "labels": {
                    "team": "prod"
                  },
                  "record": "job_type:billing_jobs_duration_seconds:99p5m"
                },
                {
                  "actions": [
                    {
                      "actionGroupId": "/subscriptions/ffffffff-ffff-ffff-ffff-ffffffffffff/resourcegroups/myrg/providers/microsoft.insights/actiongroups/myactiongroup",
                      "actionProperties": {
                        "key11": "value11",
                        "key12": "value12"
                      }
                    },
                    {
                      "actionGroupId": "/subscriptions/ffffffff-ffff-ffff-ffff-ffffffffffff/resourcegroups/myrg/providers/microsoft.insights/actiongroups/myotheractiongroup",
                      "actionProperties": {
                        "key21": "value21",
                        "key22": "value22"
                      }
                    }
                  ],
                  "alert": "Billing_Processing_Very_Slow",
                  "annotations": {
                    "annotationName1": "annotationValue1"
                  },
                  "enabled": true,
                  "expression": "job_type:billing_jobs_duration_seconds:99p5m > 30",
                  "for": "PT5M",
                  "labels": {
                    "team": "prod"
                  },
                  "resolveConfiguration": {
                    "autoResolved": true,
                    "timeToResolve": "PT10M"
                  },
                  "severity": 2
                }
              ],
              "scopes": [
                "/subscriptions/ffffffff-ffff-ffff-ffff-ffffffffffff/resourceGroups/myResourceGroup/providers/microsoft.monitor/accounts/myAzureMonitorWorkspace"
              ]
            }
          },
          {
            "type": "Microsoft.AlertsManagement/prometheusRuleGroups",
            "id": "/subscriptions/ffffffff-ffff-ffff-ffff-ffffffffffff/resourceGroups/resourceGroupName2/providers/Microsoft.AlertsManagement/prometheusRuleGroups/myPrometheusRuleGroup",
            "location": "East US",
            "properties": {
              "description": "This is the description of the following rule group",
              "clusterName": "myClusterName",
              "enabled": true,
              "interval": "PT10M",
              "rules": [
                {
                  "expression": "histogram_quantile(0.99, sum(rate(jobs_duration_seconds_bucket{service=\"billing-processing\"}[5m])) by (job_type))",
                  "labels": {
                    "team": "prod"
                  },
                  "record": "job_type:billing_jobs_duration_seconds:99p5m"
                },
                {
                  "actions": [
                    {
                      "actionGroupId": "/subscriptions/ffffffff-ffff-ffff-ffff-ffffffffffff/resourcegroups/myrg/providers/microsoft.insights/actiongroups/myactiongroup",
                      "actionProperties": {
                        "key11": "value11",
                        "key12": "value12"
                      }
                    },
                    {
                      "actionGroupId": "/subscriptions/ffffffff-ffff-ffff-ffff-ffffffffffff/resourcegroups/myrg/providers/microsoft.insights/actiongroups/myotheractiongroup",
                      "actionProperties": {
                        "key21": "value21",
                        "key22": "value22"
                      }
                    }
                  ],
                  "alert": "Billing_Processing_Very_Slow",
                  "annotations": {
                    "annotationName1": "annotationValue1"
                  },
                  "enabled": true,
                  "expression": "job_type:billing_jobs_duration_seconds:99p5m > 30",
                  "for": "PT5M",
                  "labels": {
                    "team": "prod"
                  },
                  "resolveConfiguration": {
                    "autoResolved": true,
                    "timeToResolve": "PT10M"
                  },
                  "severity": 2
                }
              ],
              "scopes": [
                "/subscriptions/ffffffff-ffff-ffff-ffff-ffffffffffff/resourceGroups/myResourceGroup/providers/microsoft.monitor/accounts/myAzureMonitorWorkspace"
              ]
            }
          }
        ]
      },
      "headers": {}
    }
  },
  "operationId": "PrometheusRuleGroups_ListBySubscription",
  "title": "List Subscription Resource PrometheusRuleGroups"
}
