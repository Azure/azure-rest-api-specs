{
  "parameters": {
    "subscriptionId": "{subscription-id}",
    "resourceGroupName": "myResourceGroup",
    "version": "2025-03-03",
    "galleryName": "myGalleryName",
    "galleryScriptName": "myGalleryScriptName",
    "galleryScriptVersionName": "1.0.0",
    "galleryScriptVersion": {
      "location": "West US",
      "properties": {
        "publishingProfile": {
          "source": {
            "scriptLink": "https://mystorageaccount.blob.core.windows.net/mycontainer/myScript.ps1?{sasKey}",
            "parameters": [
              {
                "name": "location",
                "required": true,
                "defaultValue": "westus",
                "type": "String"
              },
              {
                "name": "myGalleryScriptParameter1",
                "required": true,
                "type": "String",
                "defaultValue": "default value of parameter",
                "description": "description of the parameter"
              },
              {
                "name": "myGalleryScriptParameter2",
                "required": false,
                "type": "String",
                "defaultValue": "default value of parameter",
                "description": "description of the parameter"
              },
              {
                "name": "numberOfUnits",
                "required": true,
                "type": "Int",
                "defaultValue": "3",
                "description": "description of the parameter",
                "minValue": "1",
                "maxValue": "5"
              },
              {
                "name": "weightOfUnit",
                "required": true,
                "type": "Double",
                "defaultValue": "0.6",
                "description": "description of the parameter",
                "minValue": "0.1",
                "maxValue": "2"
              },
              {
                "name": "typeOfProduct",
                "required": false,
                "type": "Enum",
                "defaultValue": "Fruit",
                "description": "description of the parameter",
                "enumValues": [
                  "Fruit",
                  "Vegetable",
                  "Greens",
                  "Nuts"
                ]
              }
            ]
          },
          "targetRegions": [
            {
              "name": "West US",
              "regionalReplicaCount": 2,
              "storageAccountType": "Standard_LRS",
              "excludeFromLatest": false
            }
          ],
          "replicaCount": 2,
          "endOfLifeDate": "2027-07-01T07:00:00Z",
          "storageAccountType": "Standard_LRS"
        },
        "safetyProfile": {
          "allowDeletionOfReplicatedLocations": false
        }
      }
    }
  },
  "responses": {
    "200": {
      "body": {
        "location": "West US",
        "name": "1.0.0",
        "type": "Microsoft.Compute/galleries/scripts/versions",
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myResourceGroup/providers/Microsoft.Compute/galleries/myGalleryName/scripts/myGalleryScript/versions/1.0.0",
        "properties": {
          "publishingProfile": {
            "source": {
              "scriptLink": "https://mystorageaccount.blob.core.windows.net/mycontainer/myScript.ps1",
              "parameters": [
                {
                  "name": "location",
                  "required": true,
                  "defaultValue": "westus",
                  "type": "String"
                },
                {
                  "name": "myGalleryScriptParameter1",
                  "required": true,
                  "type": "String",
                  "defaultValue": "default value of parameter",
                  "description": "description of the parameter"
                },
                {
                  "name": "myGalleryScriptParameter2",
                  "required": false,
                  "type": "String",
                  "defaultValue": "default value of parameter",
                  "description": "description of the parameter"
                },
                {
                  "name": "numberOfUnits",
                  "required": true,
                  "type": "Int",
                  "defaultValue": "3",
                  "description": "description of the parameter",
                  "minValue": "1",
                  "maxValue": "5"
                },
                {
                  "name": "weightOfUnit",
                  "required": true,
                  "type": "Double",
                  "defaultValue": "0.6",
                  "description": "description of the parameter",
                  "minValue": "0.1",
                  "maxValue": "2"
                },
                {
                  "name": "typeOfProduct",
                  "required": false,
                  "type": "Enum",
                  "defaultValue": "Fruit",
                  "description": "description of the parameter",
                  "enumValues": [
                    "Fruit",
                    "Vegetable",
                    "Greens",
                    "Nuts"
                  ]
                }
              ]
            },
            "targetRegions": [
              {
                "name": "West US",
                "regionalReplicaCount": 2,
                "storageAccountType": "Standard_LRS",
                "excludeFromLatest": false
              }
            ],
            "replicaCount": 2,
            "excludeFromLatest": false,
            "publishedDate": "2025-06-21T17:13:57.5972568+00:00",
            "endOfLifeDate": "2027-07-01T07:00:00+00:00",
            "storageAccountType": "Standard_LRS"
          },
          "safetyProfile": {
            "allowDeletionOfReplicatedLocations": false
          },
          "provisioningState": "Updating"
        }
      }
    },
    "201": {
      "body": {
        "location": "West US",
        "name": "1.0.0",
        "type": "Microsoft.Compute/galleries/scripts/versions",
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myResourceGroup/providers/Microsoft.Compute/galleries/myGalleryName/scripts/myGalleryScript/versions/1.0.0",
        "properties": {
          "publishingProfile": {
            "source": {
              "scriptLink": "https://mystorageaccount.blob.core.windows.net/mycontainer/myScript.ps1",
              "parameters": [
                {
                  "name": "location",
                  "required": true,
                  "defaultValue": "westus",
                  "type": "String"
                },
                {
                  "name": "myGalleryScriptParameter1",
                  "required": true,
                  "type": "String",
                  "defaultValue": "default value of parameter",
                  "description": "description of the parameter"
                },
                {
                  "name": "myGalleryScriptParameter2",
                  "required": false,
                  "type": "String",
                  "defaultValue": "default value of parameter",
                  "description": "description of the parameter"
                },
                {
                  "name": "numberOfUnits",
                  "required": true,
                  "type": "Int",
                  "defaultValue": "3",
                  "description": "description of the parameter",
                  "minValue": "1",
                  "maxValue": "5"
                },
                {
                  "name": "weightOfUnit",
                  "required": true,
                  "type": "Double",
                  "defaultValue": "0.6",
                  "description": "description of the parameter",
                  "minValue": "0.1",
                  "maxValue": "2"
                },
                {
                  "name": "typeOfProduct",
                  "required": false,
                  "type": "Enum",
                  "defaultValue": "Fruit",
                  "description": "description of the parameter",
                  "enumValues": [
                    "Fruit",
                    "Vegetable",
                    "Greens",
                    "Nuts"
                  ]
                }
              ]
            },
            "targetRegions": [
              {
                "name": "West US",
                "regionalReplicaCount": 2,
                "storageAccountType": "Standard_LRS",
                "excludeFromLatest": false
              }
            ],
            "replicaCount": 2,
            "excludeFromLatest": false,
            "publishedDate": "2025-06-21T17:13:57.5972568+00:00",
            "endOfLifeDate": "2027-07-01T07:00:00+00:00",
            "storageAccountType": "Standard_LRS"
          },
          "safetyProfile": {
            "allowDeletionOfReplicatedLocations": false
          },
          "provisioningState": "Creating"
        }
      }
    },
    "202": {
      "body": {
        "location": "West US",
        "name": "1.0.0",
        "type": "Microsoft.Compute/galleries/scripts/versions",
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myResourceGroup/providers/Microsoft.Compute/galleries/myGalleryName/scripts/myGalleryScript/versions/1.0.0",
        "properties": {
          "publishingProfile": {
            "source": {
              "scriptLink": "https://mystorageaccount.blob.core.windows.net/mycontainer/myScript.ps1",
              "parameters": [
                {
                  "name": "location",
                  "required": true,
                  "defaultValue": "westus",
                  "type": "String"
                },
                {
                  "name": "myGalleryScriptParameter1",
                  "required": true,
                  "type": "String",
                  "defaultValue": "default value of parameter",
                  "description": "description of the parameter"
                },
                {
                  "name": "myGalleryScriptParameter2",
                  "required": false,
                  "type": "String",
                  "defaultValue": "default value of parameter",
                  "description": "description of the parameter"
                },
                {
                  "name": "numberOfUnits",
                  "required": true,
                  "type": "Int",
                  "defaultValue": "3",
                  "description": "description of the parameter",
                  "minValue": "1",
                  "maxValue": "5"
                },
                {
                  "name": "weightOfUnit",
                  "required": true,
                  "type": "Double",
                  "defaultValue": "0.6",
                  "description": "description of the parameter",
                  "minValue": "0.1",
                  "maxValue": "2"
                },
                {
                  "name": "typeOfProduct",
                  "required": false,
                  "type": "Enum",
                  "defaultValue": "Fruit",
                  "description": "description of the parameter",
                  "enumValues": [
                    "Fruit",
                    "Vegetable",
                    "Greens",
                    "Nuts"
                  ]
                }
              ]
            },
            "targetRegions": [
              {
                "name": "West US",
                "regionalReplicaCount": 2,
                "storageAccountType": "Standard_LRS",
                "excludeFromLatest": false
              }
            ],
            "replicaCount": 2,
            "excludeFromLatest": false,
            "publishedDate": "2025-06-21T17:13:57.5972568+00:00",
            "endOfLifeDate": "2027-07-01T07:00:00+00:00",
            "storageAccountType": "Standard_LRS"
          },
          "safetyProfile": {
            "allowDeletionOfReplicatedLocations": false
          },
          "provisioningState": "Updating"
        }
      }
    }
  }
}
