{
  "parameters": {
    "api-version": "2018-11-01-preview",
    "artifact": {
      "kind": "template",
      "properties": {
        "parameters": {
          "storageAccountType": {
            "value": "[parameters('storageAccountType')]"
          }
        },
        "resourceGroup": "storageRG",
        "template": {
          "contentVersion": "1.0.0.0",
          "outputs": {
            "storageAccountName": {
              "type": "string",
              "value": "[variables('storageAccountName')]"
            }
          },
          "parameters": {
            "storageAccountType": {
              "type": "string",
              "allowedValues": [
                "Standard_LRS",
                "Standard_GRS",
                "Standard_ZRS",
                "Premium_LRS"
              ],
              "defaultValue": "Standard_LRS",
              "metadata": {
                "description": "Storage Account type"
              }
            }
          },
          "resources": [
            {
              "name": "[variables('storageAccountName')]",
              "type": "Microsoft.Storage/storageAccounts",
              "apiVersion": "2016-01-01",
              "kind": "Storage",
              "location": "[resourceGroup().location]",
              "properties": {},
              "sku": {
                "name": "[parameters('storageAccountType')]"
              }
            }
          ],
          "variables": {
            "storageAccountName": "[concat(uniquestring(resourceGroup().id), 'standardsa')]"
          }
        }
      }
    },
    "artifactName": "storageTemplate",
    "blueprintName": "simpleBlueprint",
    "resourceScope": "providers/Microsoft.Management/managementGroups/ContosoOnlineGroup"
  },
  "responses": {
    "201": {
      "body": {
        "name": "storageTemplate",
        "type": "Microsoft.Blueprint/blueprints/artifacts",
        "id": "/providers/Microsoft.Management/managementGroups/ContosoOnlineGroup/providers/Microsoft.Blueprint/blueprints/simpleBlueprint/artifacts/storageTemplate",
        "kind": "template",
        "properties": {
          "parameters": {
            "storageAccountType": {
              "value": "[parameters('storageAccountType')]"
            }
          },
          "resourceGroup": "storageRG",
          "template": {
            "contentVersion": "1.0.0.0",
            "outputs": {
              "storageAccountName": {
                "type": "string",
                "value": "[variables('storageAccountName')]"
              }
            },
            "parameters": {
              "storageAccountType": {
                "type": "string",
                "allowedValues": [
                  "Standard_LRS",
                  "Standard_GRS",
                  "Standard_ZRS",
                  "Premium_LRS"
                ],
                "defaultValue": "Standard_LRS",
                "metadata": {
                  "description": "Storage Account type"
                }
              }
            },
            "resources": [
              {
                "name": "[variables('storageAccountName')]",
                "type": "Microsoft.Storage/storageAccounts",
                "apiVersion": "2016-01-01",
                "kind": "Storage",
                "location": "[resourceGroup().location]",
                "properties": {},
                "sku": {
                  "name": "[parameters('storageAccountType')]"
                }
              }
            ],
            "variables": {
              "storageAccountName": "[concat(uniquestring(resourceGroup().id), 'standardsa')]"
            }
          }
        }
      }
    }
  },
  "operationId": "Artifacts_CreateOrUpdate",
  "title": "MG-ARMTemplateArtifact"
}