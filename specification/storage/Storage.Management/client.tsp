import "@azure-tools/typespec-client-generator-core";
import "./main.tsp";

using Azure.ClientGenerator.Core;
using Microsoft.Storage;

@@clientName(ProvisioningState, "StorageProvisioningState", "csharp");
@@clientName(Microsoft.Storage, "StorageManagementClient", "javascript");
@@clientName(Microsoft.Storage, "StorageManagementClient", "python");

@@clientName(AccountType, "ActiveDirectoryPropertiesAccountType", "go, java");
@@clientName(AllowedMethods, "CorsRuleAllowedMethodsItem", "go, java");

// Java customization for mitigating breaking changes
@@clientName(SKUCapability, "SkuCapability", "java");
@@clientName(IPRule, "IpRule", "java");
@@clientName(IPRule.value, "ipAddressOrRange", "java");
@@clientName(IPRule.value, "$DO_NOT_NORMALIZE$iPAddressOrRange", "javascript");
@@clientName(StorageAccounts.listAccountSAS, "listAccountSas", "java");
@@clientName(StorageAccounts.listServiceSAS, "listServiceSas", "java");
@@clientName(ImmutableStorageWithVersioning.timeStamp, "timestamp", "java");
@@clientName(FileShareRecommendations.baseIOPS, "baseIops", "java");
@@clientName(AccountSasParameters.signedIp, "ipAddressOrRange", "java");
@@clientName(AccountSasParameters.signedIp,
  "$DO_NOT_NORMALIZE$iPAddressOrRange",
  "javascript"
);
@@clientName(AccountLimits.maxProvisionedIOPS, "maxProvisionedIops", "java");
@@clientName(FileShareLimits.maxProvisionedIOPS, "maxProvisionedIops", "java");
@@clientName(FileShareLimits.minProvisionedIOPS, "minProvisionedIops", "java");
@@clientName(BurstingConstants.burstFloorIOPS, "burstFloorIops", "java");
@@clientName(AccountUsageElements.provisionedIOPS, "provisionedIops", "java");
@@clientName(ServiceSasParameters.signedIp, "ipAddressOrRange", "java");
@@clientName(ServiceSasParameters.signedIp,
  "$DO_NOT_NORMALIZE$iPAddressOrRange",
  "javascript"
);

// should only be used in Java
#suppress "@azure-tools/typespec-azure-core/documentation-required" "FIXME: Update justification, follow aka.ms/tsp/conversion-fix for details"
#suppress "@azure-tools/typespec-azure-core/no-enum" "FIXME: Update justification, follow aka.ms/tsp/conversion-fix for details"
enum Action {
  ALLOW: "Allow",
}
@@alternateType(IPRule.action, Action, "java");
@@alternateType(VirtualNetworkRule.action, Action, "java");

@@alternateType(TriggerParameters.intervalUnit, IntervalUnit, "java");
@@alternateType(TriggerParametersUpdate.intervalUnit, IntervalUnit, "java");

@@usage(StorageAccount,
  Azure.ClientGenerator.Core.Usage.input | Azure.ClientGenerator.Core.Usage.output,
  "java"
);

@@clientName(ETagHeader.eTag, "etag", "java");

// Fix client parameter order.
/**
 * Get properties of specified deleted account resource.
 */
#suppress "@azure-tools/typespec-azure-resource-manager/arm-resource-operation" "customization"
#suppress "@azure-tools/typespec-azure-core/documentation-required" "override"
op getDeletedAccountCustomized(
  apiVersion: string,
  deletedAccountName: string,
  location: Azure.Core.azureLocation,
  ...Azure.ResourceManager.ProviderNamespace<Microsoft.Storage.DeletedAccount>,
  subscriptionId: Azure.Core.uuid,
): Azure.ResourceManager.ArmResponse<Microsoft.Storage.DeletedAccount> | Microsoft.Storage.ErrorResponse;
@@override(DeletedAccounts.get, getDeletedAccountCustomized, "java,go,python");
@@clientName(Azure.ResourceManager.CommonTypes.ProxyResource,
  "ProxyResourceAutoGenerated",
  "javascript"
);
@@clientName(Azure.ResourceManager.CommonTypes.Resource,
  "ResourceAutoGenerated",
  "javascript"
);
@@clientName(Azure.ResourceManager.CommonTypes.Resource,
  "ResourceAutoGenerated",
  "python"
);

#suppress "@azure-tools/typespec-azure-core/no-legacy-usage" "Legacy decorator required for Python SDK compatibility"
@@Azure.ClientGenerator.Core.Legacy.clientDefaultValue(StorageAccountListKeysParameters.$expand,
  "kerb",
  "python"
);

#suppress "@azure-tools/typespec-azure-core/no-legacy-usage" "Legacy decorator required for Python SDK compatibility"
@@Azure.ClientGenerator.Core.Legacy.clientDefaultValue(StorageAccountFailoverParameters.failoverType,
  "Planned",
  "python"
);
