{
	"swagger": "2.0",
	"info": {
		"title": "MonitorManagementClient",
		"x-ms-code-generation-settings": {
			"name": "MonitorManagementClient"
		},
		"version": "2020-02-10-preview"
	},
	"host": "management.azure.com",
	"schemes": [
		"https"
	],
	"consumes": [],
	"produces": [
		"application/json"
	],
	"security": [
		{
			"azure_auth": [
				"user_impersonation"
			]
		}
	],
	"securityDefinitions": {
		"azure_auth": {
			"type": "oauth2",
			"authorizationUrl": "https://login.microsoftonline.com/common/oauth2/authorize",
			"flow": "implicit",
			"description": "Azure Active Directory OAuth2 Flow",
			"scopes": {
				"user_impersonation": "impersonate your user account"
			}
		}
	},
	"paths": {
		"/subscriptions/{subscriptionId}/resoucegroups/{resourceGroupName}/providers/microsoft.insights/webtests/{webtestName}/testresultfile": {
      "get": {
        "tags": [
          "FindWebTestResult"
        ],
        "operationId": "testresultfile_Get",
        "description": "Returns a file test result for the matching test",
        "parameters": [
          {
            "$ref": "../../../../../common-types/resource-management/v1/types.json#/parameters/ResourceGroupNameParameter"
          },
          {
            "$ref": "../../../../../common-types/resource-management/v1/types.json#/parameters/ApiVersionParameter"
          },
          {
            "$ref": "../../../../../common-types/resource-management/v1/types.json#/parameters/SubscriptionIdParameter"
          },
          {
            "$ref": "#/parameters/WebtestNameParameter"
          },
          {
            "$ref": "#/parameters/PopIdParameter"
          },
          {
            "$ref": "#/parameters/TimeStampParameter"
          },
          {
            "$ref": "#/parameters/TestSuccessfulCriteriaParameter"
          },
          {
            "$ref": "#/parameters/DownloadAsParameter"
          },
          {
            "$ref": "#/parameters/ContinuationTokenParameter"
          }
        ],
        "responses": {
          "default": {
            "description": "Error response describing why the operation failed.",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          },
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/TestResultFileResponse"
            }
          }
        },
        "x-ms-examples": {
          "Example Get call:": {
            "$ref": "./examples/WebTestResultsTestResultFile.json"
          }
        }
      }
		}
	},
	"definitions": {
		"ErrorResponse": {
			"description": "Describes the format of Error response.",
			"type": "object",
			"properties": {
				"code": {
					"description": "Error code",
					"type": "string"
				},
				"message": {
					"description": "Error message indicating why the operation failed.",
					"type": "string"
				}
			}
		},
		"TestResultFileResponse": {
			"description": "Test result.",
			"type": "object",
			"properties": {
				"data": {
					"description": "File contents.",
					"type": "string"
				},
				"nextLink": {
					"description": "The URI that can be used to request the next section of the result file in the event the file is too large for a single request.",
					"type": "string"
				}
			}
		}
	},
  "parameters": {
    "WebtestNameParameter": {
      "name": "webTestName",
      "in": "path",
      "required": true,
      "type": "string",
      "description": "The name of the Application Insights webtest resource.",
      "x-ms-parameter-location": "method"
    },
    "PopIdParameter": {
      "name": "popId",
      "in": "query",
      "required": true,
      "type": "string",
      "description": "The point of presence where the webtest result was created.",
      "x-ms-parameter-location": "method"
    },
    "TimeStampParameter": {
      "name": "timeStamp",
      "in": "query",
      "required": true,
      "type": "integer",
      "format": "int64",
      "description": "The posix (epoch) time stamp for the webtest result.",
      "x-ms-parameter-location": "method"
    },
    "TestSuccessfulCriteriaParameter": {
      "name": "testSuccessfulCriteria",
      "in": "query",
      "required": false,
      "type": "boolean",
      "description": "The success state criteria for the webtest result.",
      "x-ms-parameter-location": "method"
    },
    "DownloadAsParameter": {
      "name": "downloadAs",
      "in": "query",
      "required": true,
      "type": "string",
      "enum": [
        "webtestresult",
        "json"
      ],
      "x-ms-enum": {
        "name": "downloadAs",
        "modelAsString": true,
        "values": [
          {
            "value": "webtestresult",
            "description": "a visual studio webtestresult file."
          },
          {
            "value": "json",
            "description": "a json file."
          }
        ]
      },
      "description": "The format of the webtest result to download, valid formats include webtestresult, json.",
      "x-ms-parameter-location": "method"
    },
    "ContinuationTokenParameter": {
      "name": "continuationToken",
      "in": "query",
      "required": false,
      "type": "string",
      "description": "The continuation token.",
      "x-ms-parameter-location": "method"
    }
  }
}
