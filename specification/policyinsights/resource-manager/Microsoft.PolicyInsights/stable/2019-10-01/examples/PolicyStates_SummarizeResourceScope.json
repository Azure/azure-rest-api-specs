{
  "parameters": {
    "policyStatesSummaryResource": "latest",
    "resourceId": "subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/resourceGroups/myResourceGroup/providers/Microsoft.KeyVault/vaults/my-vault",
    "api-version": "2019-10-01",
    "$top": 2
  },
  "responses": {
    "200": {
      "body": {
        "@odata.context": "https://management.azure.com/subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/resourceGroups/myResourceGroup/providers/Microsoft.KeyVault/vaults/my-vault/providers/Microsoft.PolicyInsights/policyStates/$metadata#summary",
        "@odata.count": 1,
        "value": [
          {
            "@odata.id": null,
            "@odata.context": "https://management.azure.com/subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/resourceGroups/myResourceGroup/providers/Microsoft.KeyVault/vaults/my-vault/providers/Microsoft.PolicyInsights/policyStates/$metadata#summary/$entity",
            "results": {
              "queryResultsUri": "https://management.azure.com/subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/resourceGroups/myResourceGroup/providers/Microsoft.KeyVault/vaults/my-vault/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 19:59:17Z&$to=2019-10-13 19:59:17Z&$filter=IsCompliant eq false",
              "nonCompliantResources": 1,
              "nonCompliantPolicies": 14,
              "resourceDetails": [
                {
                  "complianceState": "compliant",
                  "count": 140
                },
                {
                  "complianceState": "noncompliant",
                  "count": 1
                }
              ],
              "policyDetails": [
                {
                  "complianceState": "noncompliant",
                  "count": 2
                }
              ],
              "policyGroupDetails": [
                {
                  "complianceState": "noncompliant",
                  "count": 1
                }
              ]
            },
            "policyAssignments": [
              {
                "policyAssignmentId": "/providers/microsoft.management/managementgroups/mymg/providers/microsoft.authorization/policyassignments/8174043a1e2849179635b874",
                "policySetDefinitionId": "",
                "results": {
                  "queryResultsUri": "https://management.azure.com/subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/resourceGroups/myResourceGroup/providers/Microsoft.KeyVault/vaults/my-vault/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 19:59:17Z&$to=2019-10-13 19:59:17Z&$filter=IsCompliant eq false and PolicyAssignmentId eq '/providers/microsoft.management/managementgroups/mymg/providers/microsoft.authorization/policyassignments/8174043a1e2849179635b874'",
                  "nonCompliantResources": 1,
                  "nonCompliantPolicies": 1,
                  "resourceDetails": [
                    {
                      "complianceState": "compliant",
                      "count": 140
                    },
                    {
                      "complianceState": "noncompliant",
                      "count": 1
                    }
                  ],
                  "policyDetails": [
                    {
                      "complianceState": "noncompliant",
                      "count": 1
                    }
                  ],
                  "policyGroupDetails": [
                    {
                      "complianceState": "noncompliant",
                      "count": 1
                    }
                  ]
                },
                "policyDefinitions": [
                  {
                    "policyDefinitionId": "/providers/microsoft.management/managementgroups/mymg/providers/microsoft.authorization/policydefinitions/72c0c41a-c752-4bc0-9c61-0d6adc567066",
                    "policyDefinitionReferenceId": "",
                    "effect": "audit",
                    "results": {
                      "queryResultsUri": "https://management.azure.com/subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/resourceGroups/myResourceGroup/providers/Microsoft.KeyVault/vaults/my-vault/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 19:59:17Z&$to=2019-10-13 19:59:17Z&$filter=IsCompliant eq false and PolicyAssignmentId eq '/providers/microsoft.management/managementgroups/mymg/providers/microsoft.authorization/policyassignments/8174043a1e2849179635b874' and PolicyDefinitionId eq '/providers/microsoft.management/managementgroups/mymg/providers/microsoft.authorization/policydefinitions/72c0c41a-c752-4bc0-9c61-0d6adc567066'",
                      "nonCompliantResources": 1,
                      "resourceDetails": [
                        {
                          "complianceState": "compliant",
                          "count": 140
                        },
                        {
                          "complianceState": "noncompliant",
                          "count": 1
                        }
                      ],
                      "policyDetails": [
                        {
                          "complianceState": "noncompliant",
                          "count": 1
                        }
                      ],
                      "policyGroupDetails": [
                        {
                          "complianceState": "noncompliant",
                          "count": 1
                        }
                      ]
                    }
                  }
                ],
                "policyGroups": [
                  {
                    "policyGroupName": "",
                    "results": {
                      "queryResultsUri": "https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 19:48:53Z&$to=2019-10-13 19:48:53Z&$filter='group1' IN PolicyDefinitionGroupNames and PolicyAssignmentId eq '/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/8174043a1e2849179635b874'",
                      "nonCompliantResources": 7,
                      "resourceDetails": [
                        {
                          "complianceState": "compliant",
                          "count": 140
                        },
                        {
                          "complianceState": "noncompliant",
                          "count": 1
                        }
                      ],
                      "policyDetails": [
                        {
                          "complianceState": "noncompliant",
                          "count": 1
                        }
                      ],
                      "policyGroupDetails": [
                        {
                          "complianceState": "noncompliant",
                          "count": 1
                        }
                      ]
                    }
                  }
                ]
              },
              {
                "policyAssignmentId": "/providers/microsoft.management/managementgroups/mymg/providers/microsoft.authorization/policyassignments/1ef5d536aec743a0aa801c1a",
                "policySetDefinitionId": "/providers/microsoft.management/managementgroups/mymg/providers/microsoft.authorization/policysetdefinitions/335cefd2-ab16-430f-b364-974a170eb1d5",
                "results": {
                  "queryResultsUri": "https://management.azure.com/subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/resourceGroups/myResourceGroup/providers/Microsoft.KeyVault/vaults/my-vault/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 19:59:17Z&$to=2019-10-13 19:59:17Z&$filter=IsCompliant eq false and PolicyAssignmentId eq '/providers/microsoft.management/managementgroups/mymg/providers/microsoft.authorization/policyassignments/1ef5d536aec743a0aa801c1a'",
                  "nonCompliantResources": 1,
                  "nonCompliantPolicies": 1,
                  "resourceDetails": [
                    {
                      "complianceState": "compliant",
                      "count": 140
                    },
                    {
                      "complianceState": "noncompliant",
                      "count": 1
                    }
                  ],
                  "policyDetails": [
                    {
                      "complianceState": "noncompliant",
                      "count": 1
                    }
                  ],
                  "policyGroupDetails": [
                    {
                      "complianceState": "noncompliant",
                      "count": 1
                    }
                  ]
                },
                "policyDefinitions": [
                  {
                    "policyDefinitionId": "/providers/microsoft.management/managementgroups/mymg/providers/microsoft.authorization/policydefinitions/022d9357-5a90-46f7-9554-21d30ce4c32d",
                    "policyDefinitionReferenceId": "",
                    "effect": "audit",
                    "results": {
                      "queryResultsUri": "https://management.azure.com/subscriptions/fff10b27-fff3-fff5-fff8-fffbe01e86a5/resourceGroups/myResourceGroup/providers/Microsoft.KeyVault/vaults/my-vault/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 19:59:17Z&$to=2019-10-13 19:59:17Z&$filter=IsCompliant eq false and PolicyAssignmentId eq '/providers/microsoft.management/managementgroups/mymg/providers/microsoft.authorization/policyassignments/1ef5d536aec743a0aa801c1a' and PolicyDefinitionId eq '/providers/microsoft.management/managementgroups/mymg/providers/microsoft.authorization/policydefinitions/022d9357-5a90-46f7-9554-21d30ce4c32d'",
                      "nonCompliantResources": 1,
                      "resourceDetails": [
                        {
                          "complianceState": "compliant",
                          "count": 140
                        },
                        {
                          "complianceState": "noncompliant",
                          "count": 1
                        }
                      ],
                      "policyDetails": [
                        {
                          "complianceState": "noncompliant",
                          "count": 1
                        }
                      ],
                      "policyGroupDetails": [
                        {
                          "complianceState": "noncompliant",
                          "count": 1
                        }
                      ]
                    }
                  }
                ],
                "policyGroups": [
                  {
                    "policyGroupName": "group1",
                    "results": {
                      "queryResultsUri": "https://management.azure.com/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/Microsoft.PolicyInsights/policyStates/latest/queryResults?api-version=2019-10-01&$from=2019-10-12 19:48:53Z&$to=2019-10-13 19:48:53Z&$filter='group1' IN PolicyDefinitionGroupNames and PolicyAssignmentId eq '/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policyassignments/1ef5d536aec743a0aa801c1a' and PolicySetDefinitiontId eq '/subscriptions/fffedd8f-ffff-fffd-fffd-fffed2f84852/providers/microsoft.authorization/policysetdefinitions/335cefd2-ab16-430f-b364-974a170eb1d5' and 'group1' IN PolicyDefinitionGroupNames",
                      "nonCompliantResources": 100,
                      "resourceDetails": [
                        {
                          "complianceState": "compliant",
                          "count": 140
                        },
                        {
                          "complianceState": "noncompliant",
                          "count": 1
                        }
                      ],
                      "policyDetails": [
                        {
                          "complianceState": "noncompliant",
                          "count": 1
                        }
                      ],
                      "policyGroupDetails": [
                        {
                          "complianceState": "noncompliant",
                          "count": 1
                        }
                      ]
                    }
                  }
                ]
              }
            ]
          }
        ]
      }
    }
  }
}
