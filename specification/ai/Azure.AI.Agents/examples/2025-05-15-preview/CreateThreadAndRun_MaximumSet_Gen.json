{
  "title": "CreateThreadAndRun_MaximumSet",
  "operationId": "CreateThreadAndRun",
  "parameters": {
    "api-version": "2025-05-15-preview",
    "body": {
      "assistant_id": "asst_123abcd",
      "instructions": "The instructions, given to agent.",
      "max_completion_tokens": 17,
      "max_prompt_tokens": 257,
      "metadata": {
        "key": "value"
      },
      "model": "The model used by the run.",
      "parallel_tool_calls": false,
      "response_format": {
        "type": "text"
      },
      "stream": false,
      "temperature": 0.1,
      "thread": {
        "messages": [
          {
            "role": "user",
            "content": "The message content."
          }
        ],
        "tool_resources": {
          "file_search": {
            "vector_store_ids": [
              "vs_123abcd"
            ]
          }
        },
        "metadata": {
          "thread_key": "thread_value"
        }
      },
      "tool_choice": "auto",
      "tool_resources": {
        "file_search": {
          "vector_store_ids": [
            "vs_123abcd"
          ]
        }
      },
      "tools": [
        {
          "type": "file_search"
        }
      ],
      "top_p": 0.2,
      "truncation_strategy": {
        "type": "last_messages",
        "last_messages": 1
      }
    }
  },
  "responses": {
    "200": {
      "body": {
        "id": "run_123abcd",
        "object": "thread.run",
        "created_at": 1752292215,
        "assistant_id": "asst_123abcd",
        "thread_id": "thread_123abcd",
        "status": "queued",
        "started_at": null,
        "expires_at": 1752294015,
        "cancelled_at": null,
        "failed_at": null,
        "completed_at": null,
        "required_action": null,
        "last_error": {
          "message": "Error message",
          "code": "some_error"
        },
        "model": "The model used by the run.",
        "instructions": "The instructions, given to agent.",
        "tools": [
          {
            "type": "file_search"
          }
        ],
        "tool_resources": {
          "file_search": {
            "vector_store_ids": [
              "vs_123abcd"
            ]
          }
        },
        "metadata": {
          "key": "value"
        },
        "temperature": 0.1,
        "top_p": 0.2,
        "max_completion_tokens": 17,
        "max_prompt_tokens": 257,
        "truncation_strategy": {
          "type": "last_messages",
          "last_messages": 1
        },
        "incomplete_details": {
          "reason": "max_prompt_tokens"
        },
        "usage": {
          "prompt_tokens": 305,
          "completion_tokens": 72,
          "total_tokens": 377
        },
        "response_format": {
          "type": "text"
        },
        "tool_choice": "auto",
        "parallel_tool_calls": false
      }
    }
  }
}
