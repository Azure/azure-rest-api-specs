{
  "parameters": {
    "api-version": "2025-03-01-preview",
    "registryName": "myRegistry",
    "resourceGroupName": "myResourceGroup",
    "runRequest": {
      "type": "DockerBuildRequest",
      "agentConfiguration": {
        "cpu": 2
      },
      "arguments": [
        {
          "name": "mytestargument",
          "isSecret": false,
          "value": "mytestvalue"
        },
        {
          "name": "mysecrettestargument",
          "isSecret": true,
          "value": "mysecrettestvalue"
        }
      ],
      "credentials": {
        "customRegistries": {
          "myregistry.azurecr.io": {
            "password": {
              "type": "Opaque",
              "value": "***"
            },
            "userName": {
              "type": "Opaque",
              "value": "reg1"
            }
          },
          "myregistry2.azurecr.io": {
            "password": {
              "type": "Opaque",
              "value": "***"
            },
            "userName": {
              "type": "Opaque",
              "value": "reg2"
            }
          }
        },
        "sourceRegistry": {
          "loginMode": "Default"
        }
      },
      "dockerFilePath": "DockerFile",
      "imageNames": [
        "azurerest:testtag"
      ],
      "isArchiveEnabled": true,
      "isPushEnabled": true,
      "noCache": true,
      "platform": {
        "architecture": "amd64",
        "os": "Linux"
      },
      "sourceLocation": "https://myaccount.blob.core.windows.net/sascontainer/source.zip?sv=2015-04-05&st=2015-04-29T22%3A18%3A26Z&se=2015-04-30T02%3A23%3A26Z&sr=b&sp=rw&sip=168.1.5.60-168.1.5.70&spr=https&sig=Z%2FRHIX5Xcg0Mq2rqI3OlWTjEg2tYkboXr1P9ZUXDtkk%3D",
      "target": "stage1"
    },
    "subscriptionId": "4385cf00-2d3a-425a-832f-f4285b1c9dce"
  },
  "responses": {
    "200": {
      "body": {
        "name": "0accec26-d6de-4757-8e74-d080f38eaaab",
        "type": "Microsoft.ContainerRegistry/registries/run",
        "id": "/subscriptions/4385cf00-2d3a-425a-832f-f4285b1c9dce/resourceGroups/myResourceGroup/providers/Microsoft.ContainerRegistry/registries/myRegistry/runs/0accec26-d6de-4757-8e74-d080f38eaaab",
        "properties": {
          "lastUpdatedTime": "2018-01-25T05:13:51.617Z",
          "provisioningState": "Succeeded",
          "runId": "0accec26-d6de-4757-8e74-d080f38eaaab",
          "status": "Succeeded"
        }
      }
    }
  },
  "operationId": "Registries_ScheduleRun",
  "title": "Registries_ScheduleRun_WithCustomCredentials"
}
