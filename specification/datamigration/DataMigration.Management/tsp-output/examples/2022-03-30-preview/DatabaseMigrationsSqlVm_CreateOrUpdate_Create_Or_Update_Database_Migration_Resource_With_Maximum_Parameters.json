{
  "parameters": {
    "api-version": "2022-03-30-preview",
    "parameters": {
      "properties": {
        "backupConfiguration": {
          "sourceLocation": {
            "fileShare": {
              "path": "C:\\aaa\\bbb\\ccc",
              "password": "placeholder",
              "username": "name"
            }
          },
          "targetLocation": {
            "accountKey": "abcd",
            "storageAccountResourceId": "account.database.windows.net"
          }
        },
        "kind": "SqlVm",
        "migrationService": "/subscriptions/00000000-1111-2222-3333-444444444444/resourceGroups/testrg/providers/Microsoft.DataMigration/sqlMigrationServices/testagent",
        "offlineConfiguration": {
          "lastBackupName": "last_backup_file_name",
          "offline": true
        },
        "scope": "/subscriptions/00000000-1111-2222-3333-444444444444/resourceGroups/testrg/providers/Microsoft.SqlVirtualMachine/sqlVirtualMachines/testvm",
        "sourceDatabaseName": "aaa",
        "sourceSqlConnection": {
          "authentication": "WindowsAuthentication",
          "dataSource": "aaa",
          "encryptConnection": true,
          "password": "placeholder",
          "trustServerCertificate": true,
          "userName": "bbb"
        }
      }
    },
    "resourceGroupName": "testrg",
    "sqlVirtualMachineName": "testvm",
    "subscriptionId": "00000000-1111-2222-3333-444444444444",
    "targetDbName": "db1"
  },
  "responses": {
    "200": {
      "body": {
        "name": "db1",
        "type": "Microsoft.DataMigration/databaseMigrations",
        "id": "/subscriptions/00000000-1111-2222-3333-444444444444/resourceGroups/testrg/providers/Microsoft.SqlVirtualMachine/sqlVirtualMachines/testvm/providers/Microsoft.DataMigration/databaseMigrations/db1",
        "properties": {
          "backupConfiguration": {
            "sourceLocation": {
              "fileStorageType": "FileShare"
            }
          },
          "endedOn": "0001-01-01T08:00:00Z",
          "kind": "SqlVm",
          "migrationOperationId": "858ba109-5ab7-4fa1-8aea-bea487cacdcd",
          "migrationService": "/subscriptions/00000000-1111-2222-3333-444444444444/resourceGroups/testrg/providers/Microsoft.DataMigration/sqlMigrationServices/testagent",
          "migrationStatus": "InProgress",
          "offlineConfiguration": {
            "lastBackupName": "last_backup_file_name",
            "offline": true
          },
          "provisioningState": "Succeeded",
          "scope": "/subscriptions/00000000-1111-2222-3333-444444444444/resourceGroups/testrg/providers/Microsoft.SqlVirtualMachine/sqlVirtualMachines/testvm",
          "sourceDatabaseName": "sourcename",
          "sourceServerName": "sourceserver",
          "startedOn": "0001-01-01T08:00:00Z"
        }
      }
    },
    "201": {
      "body": {
        "name": "db1",
        "type": "Microsoft.DataMigration/databaseMigrations",
        "id": "/subscriptions/00000000-1111-2222-3333-444444444444/resourceGroups/testrg/providers/Microsoft.SqlVirtualMachine/sqlVirtualMachines/testvm/providers/Microsoft.DataMigration/databaseMigrations/db1",
        "properties": {
          "backupConfiguration": {
            "sourceLocation": {
              "fileStorageType": "FileShare"
            }
          },
          "endedOn": "0001-01-01T08:00:00Z",
          "kind": "SqlVm",
          "migrationOperationId": "858ba109-5ab7-4fa1-8aea-bea487cacdcd",
          "migrationService": "/subscriptions/00000000-1111-2222-3333-444444444444/resourceGroups/testrg/providers/Microsoft.DataMigration/sqlMigrationServices/testagent",
          "migrationStatus": "InProgress",
          "offlineConfiguration": {
            "lastBackupName": "last_backup_file_name",
            "offline": true
          },
          "provisioningState": "Succeeded",
          "scope": "/subscriptions/00000000-1111-2222-3333-444444444444/resourceGroups/testrg/providers/Microsoft.SqlVirtualMachine/sqlVirtualMachines/testvm",
          "sourceDatabaseName": "sourcename",
          "sourceServerName": "sourceserver",
          "startedOn": "0001-01-01T08:00:00Z"
        }
      }
    }
  },
  "operationId": "DatabaseMigrationsSqlVm_CreateOrUpdate",
  "title": "Create or Update Database Migration resource with Maximum parameters."
}