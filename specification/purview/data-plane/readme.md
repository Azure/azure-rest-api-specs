# Purview

> see https://aka.ms/autorest

This is the AutoRest configuration file for Purview.

---

## Getting Started

To build the SDK for Purview, simply [Install AutoRest](https://aka.ms/autorest/install) and in this folder, run:

> `autorest`

To see additional help and options, run:

> `autorest --help`
---

## Configuration

### Basic Information

These are the global settings for the Azure Purview Catalog API.

``` yaml
openapi-type: data-plane
security: AADToken
security-scopes: https://purview.azure.net/.default
```

``` yaml $(package-account)
tag: package-account-2019-11-preview
title: PurviewAccountClient
```

``` yaml $(package-metadata)
tag: package-metadata-2021-07-preview
title: PurviewMetadataPoliciesClient
```

``` yaml $(package-catalog)
tag: package-catalog-2021-05-preview
title: PurviewCatalogClient
```

``` yaml $(package-scanning)
tag: package-scanning-2018-12-preview
title: PurviewScanningClient
```

### Tag: package-account-2019-11-preview
These settings apply only when `--tag=package-account-2019-11-preview` is specified on the command line.

``` yaml $(tag) == 'package-account-2019-11-preview'
input-file:
- Azure.Analytics.Purview.Account/preview/2019-11-01-preview/account.json
```

### Tag: package-metadata-2021-07-preview
These settings apply only when `--tag=package-metadata-2021-07-preview` is specified on the command line.

``` yaml $(tag) == 'package-metadata-2021-07-preview'
input-file:
- Azure.Analytics.Purview.MetadataPolicies/preview/2021-07-01-preview/purviewMetadataPolicy.json
```

### Tag: package-catalog-2021-05-preview
These settings apply only when `--tag=package-catalog-2021-05-preview` is specified on the command line.

``` yaml $(tag) == 'package-catalog-2021-05-preview'
input-file:
- Azure.Analytics.Purview.Catalog/preview/2021-05-01-preview/purviewcatalog.json
directive:
  - from: swagger-document
    where: $.definitions.SearchParameters
    transform: >
      $["x-ms-client-name"] = "searchParams";
```

### Tag: package-scanning-2018-12-preview
These settings apply only when `--tag=package-scanning-2018-12-preview` is specified on the command line.

``` yaml $(tag) == 'package-scanning-2018-12-preview'
input-file:
- Azure.Analytics.Purview.Scanning/preview/2018-12-01-preview/scanningService.json
modelerfour:
  lenient-model-deduplication: true
```

# Code Generation

## Swagger to SDK

This section describes what SDK should be generated by the automatic system.
This is not used by Autorest itself.

``` yaml $(swagger-to-sdk)
swagger-to-sdk:
  - repo: azure-sdk-for-js
  - repo: azure-sdk-for-java
```


## JavaScript

See configuration in [readme.typescript.md](./readme.typescript.md)
# Validation

Since this RP has no unique default package, iterate over all of them for validation:

``` yaml $(validation)
batch:
  - package-account: true
  - package-metadata: true
  - package-catalog: true
  - package-scanning: true
```