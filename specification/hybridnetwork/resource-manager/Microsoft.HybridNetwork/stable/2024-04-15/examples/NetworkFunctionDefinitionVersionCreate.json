{
  "parameters": {
    "api-version": "2024-04-15",
    "networkFunctionDefinitionGroupName": "TestNetworkFunctionDefinitionGroupName",
    "networkFunctionDefinitionVersionName": "1.0.0",
    "parameters": {
      "location": "eastus",
      "properties": {
        "deployParameters": "{\"type\":\"object\",\"properties\":{\"releaseName\":{\"type\":\"string\"},\"namespace\":{\"type\":\"string\"}}}",
        "networkFunctionTemplate": {
          "networkFunctionApplications": [
            {
              "name": "fedrbac",
              "artifactProfile": {
                "artifactStore": {
                  "id": "/subscriptions/subid/resourcegroups/rg/providers/microsoft.hybridnetwork/publishers/TestPublisher/artifactStores/testArtifactStore"
                },
                "helmArtifactProfile": {
                  "helmPackageName": "fed-rbac",
                  "helmPackageVersionRange": "~2.1.3",
                  "imagePullSecretsValuesPaths": [
                    "global.imagePullSecrets"
                  ],
                  "registryValuesPaths": [
                    "global.registry.docker.repoPath"
                  ]
                }
              },
              "artifactType": "HelmPackage",
              "dependsOnProfile": {
                "installDependsOn": [],
                "uninstallDependsOn": [],
                "updateDependsOn": []
              },
              "deployParametersMappingRuleProfile": {
                "applicationEnablement": "Enabled",
                "helmMappingRuleProfile": {
                  "helmPackageVersion": "2.1.3",
                  "options": {
                    "installOptions": {
                      "atomic": "true",
                      "timeout": "30",
                      "wait": "waitValue"
                    },
                    "upgradeOptions": {
                      "atomic": "true",
                      "timeout": "30",
                      "wait": "waitValue"
                    }
                  },
                  "releaseName": "{deployParameters.releaseName}",
                  "releaseNamespace": "{deployParameters.namesapce}",
                  "values": ""
                }
              }
            }
          ],
          "nfviType": "AzureArcKubernetes"
        },
        "networkFunctionType": "ContainerizedNetworkFunction",
        "versionState": "Active"
      }
    },
    "publisherName": "TestPublisher",
    "resourceGroupName": "rg",
    "subscriptionId": "subid"
  },
  "responses": {
    "200": {
      "body": {
        "name": "TestVersion",
        "type": "Microsoft.HybridNetwork/publishers/networkFunctionDefinitionGroups/networkFunctionDefinitionVersions",
        "id": "/subscriptions/subid/resourcegroups/rg/providers/Microsoft.HybridNetwork/publishers/TestPublisher/networkFunctionDefinitionGroups/TestNetworkFunctionDefinitionGroupName/networkFunctionDefinitionVersions/1.0.0",
        "location": "eastus",
        "properties": {
          "deployParameters": "{\"type\":\"object\",\"properties\":{\"releaseName\":{\"type\":\"string\"},\"namespace\":{\"type\":\"string\"}}}",
          "networkFunctionTemplate": {
            "networkFunctionApplications": [
              {
                "name": "fedrbac",
                "artifactProfile": {
                  "artifactStore": {
                    "id": "/subscriptions/subid/resourcegroups/rg/providers/Microsoft.HybridNetwork/publishers/TestPublisher/artifactStores/testStore"
                  },
                  "helmArtifactProfile": {
                    "helmPackageName": "fed-rbac",
                    "helmPackageVersionRange": "~2.1.3",
                    "imagePullSecretsValuesPaths": [
                      "global.imagePullSecrets"
                    ],
                    "registryValuesPaths": [
                      "global.registry.docker.repoPath"
                    ]
                  }
                },
                "artifactType": "HelmPackage",
                "dependsOnProfile": {
                  "installDependsOn": [],
                  "uninstallDependsOn": [],
                  "updateDependsOn": []
                },
                "deployParametersMappingRuleProfile": {
                  "applicationEnablement": "Enabled",
                  "helmMappingRuleProfile": {
                    "helmPackageVersion": "2.1.3",
                    "options": {
                      "installOptions": {
                        "atomic": "true",
                        "timeout": "30",
                        "wait": "waitValue"
                      },
                      "upgradeOptions": {
                        "atomic": "true",
                        "timeout": "30",
                        "wait": "waitValue"
                      }
                    },
                    "releaseName": "{deployParameters.releaseName}",
                    "releaseNamespace": "{deployParameters.namesapce}",
                    "values": ""
                  }
                }
              }
            ],
            "nfviType": "AzureArcKubernetes"
          },
          "networkFunctionType": "ContainerizedNetworkFunction",
          "versionState": "Active"
        }
      }
    },
    "201": {
      "body": {
        "name": "TestVersion",
        "type": "Microsoft.HybridNetwork/publishers/networkFunctionDefinitionGroups/networkFunctionDefinitionVersions",
        "id": "/subscriptions/subid/resourcegroups/rg/providers/Microsoft.HybridNetwork/publishers/TestPublisher/networkFunctionDefinitionGroups/TestNetworkFunctionDefinitionGroupName/networkFunctionDefinitionVersions/1.0.0",
        "location": "eastus",
        "properties": {
          "deployParameters": "{\"type\":\"object\",\"properties\":{\"releaseName\":{\"type\":\"string\"},\"namespace\":{\"type\":\"string\"}}}",
          "networkFunctionTemplate": {
            "networkFunctionApplications": [
              {
                "name": "fedrbac",
                "artifactProfile": {
                  "artifactStore": {
                    "id": "/subscriptions/subid/resourcegroups/rg/providers/microsoft.hybridnetwork/publishers/TestPublisher/artifactStores/testArtifactStore"
                  },
                  "helmArtifactProfile": {
                    "helmPackageName": "fed-rbac",
                    "helmPackageVersionRange": "~2.1.3",
                    "imagePullSecretsValuesPaths": [
                      "global.imagePullSecrets"
                    ],
                    "registryValuesPaths": [
                      "global.registry.docker.repoPath"
                    ]
                  }
                },
                "artifactType": "HelmPackage",
                "dependsOnProfile": {
                  "installDependsOn": [],
                  "uninstallDependsOn": [],
                  "updateDependsOn": []
                },
                "deployParametersMappingRuleProfile": {
                  "applicationEnablement": "Enabled",
                  "helmMappingRuleProfile": {
                    "helmPackageVersion": "2.1.3",
                    "options": {
                      "installOptions": {
                        "atomic": "true",
                        "timeout": "30",
                        "wait": "waitValue"
                      },
                      "upgradeOptions": {
                        "atomic": "true",
                        "timeout": "30",
                        "wait": "waitValue"
                      }
                    },
                    "releaseName": "{deployParameters.releaseName}",
                    "releaseNamespace": "{deployParameters.namesapce}",
                    "values": ""
                  }
                }
              }
            ],
            "nfviType": "AzureArcKubernetes"
          },
          "networkFunctionType": "ContainerizedNetworkFunction",
          "versionState": "Active"
        }
      }
    }
  },
  "operationId": "NetworkFunctionDefinitionVersions_CreateOrUpdate",
  "title": "Create or update a network function definition version resource"
}