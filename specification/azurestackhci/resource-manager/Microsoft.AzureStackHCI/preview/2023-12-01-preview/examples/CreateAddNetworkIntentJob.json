{
  "parameters": {
    "subscriptionId": "fd3c3665-1729-4b7b-9a38-238e83b0f98b",
    "resourceGroupName": "test-rg",
    "clusterName": "myCluster",
    "jobsName": "addnode",
    "api-version": "2023-12-01-preview",
    "resource": {
      "kind": "AddNetworkIntent",
      "properties": {
        "arcNodeResourceIds": [
          "/subscriptions/fd3c3665-1729-4b7b-9a38-238e83b0f98b/resourceGroups/ArcInstance-rg/providers/Microsoft.HybridCompute/machines/Node-2"
        ],
        "deploymentMode": "Deploy",
        "hostNetwork": {
          "intents": [
            {
              "name": "Compute_Management",
              "trafficType": [
                "Compute",
                "Management"
              ],
              "adapter": [
                "Port2"
              ],
              "overrideVirtualSwitchConfiguration": false,
              "virtualSwitchConfigurationOverrides": {
                "enableIov": "True",
                "loadBalancingAlgorithm": "HyperVPort"
              },
              "overrideQosPolicy": false,
              "qosPolicyOverrides": {
                "priorityValue8021Action_Cluster": "7",
                "priorityValue8021Action_SMB": "3",
                "bandwidthPercentage_SMB": "50"
              },
              "overrideAdapterProperty": false,
              "adapterPropertyOverrides": {
                "jumboPacket": "1514",
                "networkDirect": "Enabled",
                "networkDirectTechnology": "iWARP"
              }
            }
          ],
          "storageNetworks": [
            {
              "name": "Storage1Network",
              "networkAdapterName": "Port3",
              "vlanId": "5"
            }
          ],
          "storageConnectivitySwitchless": true
        },
        "secrets": [
          {
            "secretName": "cluster1-LocalAdminCredential-f5bcc1d9-23af-4ae9-aca1-041d0f593a63",
            "eceSecretName": "LocalAdminCredential",
            "secretLocation": "https://sclusterkvnirhci35.vault.azure.net/secrets/cluster-34232342-LocalAdminCredential-f5bcc1d9-23af-4ae9-aca1-041d0f593a63/9276354aabfc492fa9b2cdbefb54ae4b"
          },
          {
            "secretName": "cluster2-AzureStackLCMUserCredential-f5bcc1d9-23af-4ae9-aca1-041d0f593a63",
            "eceSecretName": "AzureStackLCMUserCredential",
            "secretLocation": "https://sclusterkvnirhci35.vault.azure.net/secrets/cluster-34232342-AzureStackLCMUserCredential-f5bcc1d9-23af-4ae9-aca1-041d0f593a63/9276354aabfc492fa9b2cdbefb54ae4c"
          }
        ]
      }
    }
  },
  "responses": {
    "200": {
      "body": {
        "id": "/subscriptions/3ebebf5a-a1ad-46e4-a920-77f05b858001/resourceGroups/bhukumar-pvtrp-rg/providers/Private.AzureStackHCI/clusters/hciclu3/jobs/addnode",
        "name": "addnode",
        "type": "private.azurestackhci/clusters/jobs",
        "kind": "AddNetworkIntent",
        "systemData": {
          "createdBy": "bhukumar@microsoft.com",
          "createdByType": "User",
          "createdAt": "2024-01-29T10:43:27.9471574Z",
          "lastModifiedBy": "bhukumar@microsoft.com",
          "lastModifiedByType": "User",
          "lastModifiedAt": "2024-01-29T10:43:27.9471574Z"
        },
        "properties": {
          "arcNodeResourceIds": [
            "/subscriptions/fd3c3665-1729-4b7b-9a38-238e83b0f98b/resourceGroups/ArcInstance-rg/providers/Microsoft.HybridCompute/machines/Node-2"
          ],
          "deploymentMode": "Deploy",
          "hostNetwork": {
            "intents": [
              {
                "name": "Compute_Management",
                "trafficType": [
                  "Compute",
                  "Management"
                ],
                "adapter": [
                  "Port2"
                ],
                "overrideVirtualSwitchConfiguration": false,
                "virtualSwitchConfigurationOverrides": {
                  "enableIov": "True",
                  "loadBalancingAlgorithm": "HyperVPort"
                },
                "overrideQosPolicy": false,
                "qosPolicyOverrides": {
                  "priorityValue8021Action_Cluster": "7",
                  "priorityValue8021Action_SMB": "3",
                  "bandwidthPercentage_SMB": "50"
                },
                "overrideAdapterProperty": false,
                "adapterPropertyOverrides": {
                  "jumboPacket": "1514",
                  "networkDirect": "Enabled",
                  "networkDirectTechnology": "iWARP"
                }
              }
            ],
            "storageNetworks": [
              {
                "name": "Storage1Network",
                "networkAdapterName": "Port3",
                "vlanId": "5"
              }
            ],
            "storageConnectivitySwitchless": true
          },
          "secrets": [
            {
              "secretName": "cluster1-LocalAdminCredential-f5bcc1d9-23af-4ae9-aca1-041d0f593a63",
              "eceSecretName": "LocalAdminCredential",
              "secretLocation": "https://sclusterkvnirhci35.vault.azure.net/secrets/cluster-34232342-LocalAdminCredential-f5bcc1d9-23af-4ae9-aca1-041d0f593a63/9276354aabfc492fa9b2cdbefb54ae4b"
            },
            {
              "secretName": "cluster2-AzureStackLCMUserCredential-f5bcc1d9-23af-4ae9-aca1-041d0f593a63",
              "eceSecretName": "AzureStackLCMUserCredential",
              "secretLocation": "https://sclusterkvnirhci35.vault.azure.net/secrets/cluster-34232342-AzureStackLCMUserCredential-f5bcc1d9-23af-4ae9-aca1-041d0f593a63/9276354aabfc492fa9b2cdbefb54ae4c"
            }
          ],
          "reportedProperties": {
            "validationStatus": {
              "status": "Error",
              "steps": [
                {
                  "fullStepIndex": "0",
                  "name": "Add Server Deployment",
                  "description": "Add Server.",
                  "startTimeUtc": "2023-06-09T00:08:19",
                  "endTimeUtc": "2023-06-09T04:01:47",
                  "status": "Error",
                  "exception": [
                    "exception1",
                    "exception2"
                  ],
                  "steps": [
                    {
                      "fullStepIndex": "0.1",
                      "name": "Before Cloud Deployment",
                      "description": "Before Cloud Deployment",
                      "startTimeUtc": "2023-06-09T00:08:23",
                      "endTimeUtc": "2023-06-09T01:10:10",
                      "exception": [
                        "exception1",
                        "exception2"
                      ],
                      "steps": []
                    }
                  ]
                }
              ]
            },
            "deploymentStatus": {
              "status": "Error",
              "steps": [
                {
                  "fullStepIndex": "0",
                  "name": "Add Server Deployment",
                  "description": "Add Server.",
                  "startTimeUtc": "2023-06-09T00:08:19",
                  "endTimeUtc": "2023-06-09T04:01:47",
                  "status": "Error",
                  "exception": [
                    "exception1",
                    "exception2"
                  ],
                  "steps": [
                    {
                      "fullStepIndex": "0.1",
                      "name": "Before Cloud Deployment",
                      "description": "Before Cloud Deployment",
                      "startTimeUtc": "2023-06-09T00:08:23",
                      "endTimeUtc": "2023-06-09T01:10:10",
                      "exception": [
                        "exception1",
                        "exception2"
                      ],
                      "steps": []
                    }
                  ]
                }
              ]
            }
          },
          "provisioningState": "Succeeded",
          "percentComplete": 0,
          "status": "NotSpecified"
        }
      }
    },
    "201": {
      "body": {
        "id": "/subscriptions/3ebebf5a-a1ad-46e4-a920-77f05b858001/resourceGroups/bhukumar-pvtrp-rg/providers/Private.AzureStackHCI/clusters/hciclu3/jobs/addnode",
        "name": "addnode",
        "type": "private.azurestackhci/clusters/jobs",
        "kind": "AddNetworkIntent",
        "systemData": {
          "createdBy": "bhukumar@microsoft.com",
          "createdByType": "User",
          "createdAt": "2024-01-29T10:43:27.9471574Z",
          "lastModifiedBy": "bhukumar@microsoft.com",
          "lastModifiedByType": "User",
          "lastModifiedAt": "2024-01-29T10:43:27.9471574Z"
        },
        "properties": {
          "arcNodeResourceIds": [
            "/subscriptions/fd3c3665-1729-4b7b-9a38-238e83b0f98b/resourceGroups/ArcInstance-rg/providers/Microsoft.HybridCompute/machines/Node-2"
          ],
          "deploymentMode": "Deploy",
          "hostNetwork": {
            "intents": [
              {
                "name": "Compute_Management",
                "trafficType": [
                  "Compute",
                  "Management"
                ],
                "adapter": [
                  "Port2"
                ],
                "overrideVirtualSwitchConfiguration": false,
                "virtualSwitchConfigurationOverrides": {
                  "enableIov": "True",
                  "loadBalancingAlgorithm": "HyperVPort"
                },
                "overrideQosPolicy": false,
                "qosPolicyOverrides": {
                  "priorityValue8021Action_Cluster": "7",
                  "priorityValue8021Action_SMB": "3",
                  "bandwidthPercentage_SMB": "50"
                },
                "overrideAdapterProperty": false,
                "adapterPropertyOverrides": {
                  "jumboPacket": "1514",
                  "networkDirect": "Enabled",
                  "networkDirectTechnology": "iWARP"
                }
              }
            ],
            "storageNetworks": [
              {
                "name": "Storage1Network",
                "networkAdapterName": "Port3",
                "vlanId": "5"
              }
            ],
            "storageConnectivitySwitchless": true
          },
          "secrets": [
            {
              "secretName": "cluster1-LocalAdminCredential-f5bcc1d9-23af-4ae9-aca1-041d0f593a63",
              "eceSecretName": "LocalAdminCredential",
              "secretLocation": "https://sclusterkvnirhci35.vault.azure.net/secrets/cluster-34232342-LocalAdminCredential-f5bcc1d9-23af-4ae9-aca1-041d0f593a63/9276354aabfc492fa9b2cdbefb54ae4b"
            },
            {
              "secretName": "cluster2-AzureStackLCMUserCredential-f5bcc1d9-23af-4ae9-aca1-041d0f593a63",
              "eceSecretName": "AzureStackLCMUserCredential",
              "secretLocation": "https://sclusterkvnirhci35.vault.azure.net/secrets/cluster-34232342-AzureStackLCMUserCredential-f5bcc1d9-23af-4ae9-aca1-041d0f593a63/9276354aabfc492fa9b2cdbefb54ae4c"
            }
          ],
          "reportedProperties": {
            "validationStatus": {
              "status": "Error",
              "steps": [
                {
                  "fullStepIndex": "0",
                  "name": "Add Server Deployment",
                  "description": "Add Server.",
                  "startTimeUtc": "2023-06-09T00:08:19",
                  "endTimeUtc": "2023-06-09T04:01:47",
                  "status": "Error",
                  "exception": [
                    "exception1",
                    "exception2"
                  ],
                  "steps": [
                    {
                      "fullStepIndex": "0.1",
                      "name": "Before Cloud Deployment",
                      "description": "Before Cloud Deployment",
                      "startTimeUtc": "2023-06-09T00:08:23",
                      "endTimeUtc": "2023-06-09T01:10:10",
                      "exception": [
                        "exception1",
                        "exception2"
                      ],
                      "steps": []
                    }
                  ]
                }
              ]
            },
            "deploymentStatus": {
              "status": "Error",
              "steps": [
                {
                  "fullStepIndex": "0",
                  "name": "Add Server Deployment",
                  "description": "Add Server.",
                  "startTimeUtc": "2023-06-09T00:08:19",
                  "endTimeUtc": "2023-06-09T04:01:47",
                  "status": "Error",
                  "exception": [
                    "exception1",
                    "exception2"
                  ],
                  "steps": [
                    {
                      "fullStepIndex": "0.1",
                      "name": "Before Cloud Deployment",
                      "description": "Before Cloud Deployment",
                      "startTimeUtc": "2023-06-09T00:08:23",
                      "endTimeUtc": "2023-06-09T01:10:10",
                      "exception": [
                        "exception1",
                        "exception2"
                      ],
                      "steps": []
                    }
                  ]
                }
              ]
            }
          },
          "provisioningState": "Succeeded",
          "percentComplete": 0,
          "status": "NotSpecified"
        }
      }
    }
  }
}
