{
  "parameters": {
    "api-version": "2021-10-01-preview",
    "input": {
      "properties": {
        "type": "Stream",
        "datasource": {
          "type": "Microsoft.EventGrid/EventSubscriptions",
          "properties": {
            "schema": "CloudEventSchema",
            "eventTypes": [
              "Microsoft.Storage.BlobCreated"
            ],
            "storageAccounts": [
              {
                "accountKey": "myaccountkey",
                "accountName": "myaccount",
                "authenticationMode": "Msi"
              }
            ],
            "subscriber": {
              "type": "Microsoft.EventHub/EventHub",
              "properties": {
                "authenticationMode": "Msi",
                "consumerGroupName": "sdkconsumergroup",
                "eventHubName": "sdkeventhub",
                "partitionCount": 16,
                "serviceBusNamespace": "sdktest",
                "sharedAccessPolicyKey": "someSharedAccessPolicyKey==",
                "sharedAccessPolicyName": "RootManageSharedAccessKey"
              }
            }
          }
        }
      }
    },
    "inputName": "input7970",
    "jobName": "sj9742",
    "resourceGroupName": "sjrg3467",
    "subscriptionId": "56b5e0a9-b645-407d-99b0-c64f86013e3d"
  },
  "responses": {
    "200": {
      "body": {
        "name": "input7970",
        "type": "Microsoft.StreamAnalytics/streamingjobs/inputs",
        "id": "/subscriptions/56b5e0a9-b645-407d-99b0-c64f86013e3d/resourceGroups/sjrg3467/providers/Microsoft.StreamAnalytics/streamingjobs/sj9742/inputs/input7970",
        "properties": {
          "type": "Stream",
          "datasource": {
            "type": "Microsoft.EventGrid/EventSubscriptions",
            "properties": {
              "schema": "CloudEventSchema",
              "eventTypes": [
                "Microsoft.Storage.BlobCreated"
              ],
              "storageAccounts": [
                {
                  "accountName": "myaccount",
                  "authenticationMode": "Msi"
                }
              ],
              "subscriber": {
                "type": "Microsoft.EventHub/EventHub",
                "properties": {
                  "authenticationMode": "Msi",
                  "consumerGroupName": "sdkconsumergroup",
                  "eventHubName": "sdkeventhub",
                  "partitionCount": 16,
                  "serviceBusNamespace": "sdktest",
                  "sharedAccessPolicyName": "RootManageSharedAccessKey"
                }
              }
            }
          }
        }
      },
      "headers": {
        "ETag": "bd8009b3-8165-4bd3-aad2-29a2b378dd14"
      }
    },
    "201": {
      "body": {
        "name": "input7970",
        "type": "Microsoft.StreamAnalytics/streamingjobs/inputs",
        "id": "/subscriptions/56b5e0a9-b645-407d-99b0-c64f86013e3d/resourceGroups/sjrg3467/providers/Microsoft.StreamAnalytics/streamingjobs/sj9742/inputs/input7970",
        "properties": {
          "type": "Stream",
          "datasource": {
            "type": "Microsoft.EventGrid/EventSubscriptions",
            "properties": {
              "schema": "CloudEventSchema",
              "eventTypes": [
                "Microsoft.Storage.BlobCreated"
              ],
              "storageAccounts": [
                {
                  "accountName": "myaccount",
                  "authenticationMode": "Msi"
                }
              ],
              "subscriber": {
                "type": "Microsoft.EventHub/EventHub",
                "properties": {
                  "authenticationMode": "Msi",
                  "consumerGroupName": "sdkconsumergroup",
                  "eventHubName": "sdkeventhub",
                  "partitionCount": 16,
                  "serviceBusNamespace": "sdktest",
                  "sharedAccessPolicyName": "RootManageSharedAccessKey"
                }
              }
            }
          }
        }
      },
      "headers": {
        "ETag": "bd8009b3-8165-4bd3-aad2-29a2b378dd14"
      }
    }
  },
  "operationId": "Inputs_CreateOrReplace",
  "title": "Create an Event Grid input"
}