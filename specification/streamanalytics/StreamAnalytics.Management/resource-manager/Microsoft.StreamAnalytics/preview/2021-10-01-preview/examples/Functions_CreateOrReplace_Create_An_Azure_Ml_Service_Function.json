{
  "parameters": {
    "api-version": "2021-10-01-preview",
    "function": {
      "properties": {
        "type": "Scalar",
        "properties": {
          "binding": {
            "type": "Microsoft.MachineLearningServices",
            "properties": {
              "apiKey": "someApiKey==",
              "batchSize": 1000,
              "endpoint": "someAzureMLEndpointURL",
              "inputRequestName": "Inputs",
              "inputs": [
                {
                  "name": "data",
                  "dataType": "array",
                  "mapTo": 0
                }
              ],
              "numberOfParallelRequests": 1,
              "outputResponseName": "Results",
              "outputs": [
                {
                  "name": "Sentiment",
                  "dataType": "string"
                }
              ]
            }
          },
          "inputs": [
            {
              "dataType": "nvarchar(max)"
            }
          ],
          "output": {
            "dataType": "nvarchar(max)"
          }
        }
      }
    },
    "functionName": "function588",
    "jobName": "sjName",
    "resourceGroupName": "sjrg",
    "subscriptionId": "56b5e0a9-b645-407d-99b0-c64f86013e3d"
  },
  "responses": {
    "200": {
      "body": {
        "name": "function588",
        "type": "Microsoft.StreamAnalytics/streamingjobs/functions",
        "id": "/subscriptions/56b5e0a9-b645-407d-99b0-c64f86013e3d/resourceGroups/sjrg/providers/Microsoft.StreamAnalytics/streamingjobs/sjName/functions/function588",
        "properties": {
          "type": "Scalar",
          "properties": {
            "binding": {
              "type": "Microsoft.MachineLearning/WebService",
              "properties": {
                "batchSize": 1000,
                "endpoint": "someAzureMLEndpointURL",
                "inputs": {
                  "name": "input1",
                  "columnNames": [
                    {
                      "name": "tweet",
                      "dataType": "string",
                      "mapTo": 0
                    }
                  ]
                },
                "outputs": [
                  {
                    "name": "Sentiment",
                    "dataType": "string"
                  }
                ]
              }
            },
            "inputs": [
              {
                "dataType": "nvarchar(max)"
              }
            ],
            "output": {
              "dataType": "nvarchar(max)"
            }
          }
        }
      },
      "headers": {
        "ETag": "dac52a15-66be-4aa7-8a18-20c5409983df"
      }
    },
    "201": {
      "body": {
        "name": "function588",
        "type": "Microsoft.StreamAnalytics/streamingjobs/functions",
        "id": "/subscriptions/56b5e0a9-b645-407d-99b0-c64f86013e3d/resourceGroups/sjrg/providers/Microsoft.StreamAnalytics/streamingjobs/sjName/functions/function588",
        "properties": {
          "type": "Scalar",
          "properties": {
            "binding": {
              "type": "Microsoft.MachineLearningServices",
              "properties": {
                "batchSize": 1000,
                "endpoint": "someAzureMLEndpointURL",
                "inputs": [
                  {
                    "name": "data",
                    "dataType": "array",
                    "mapTo": 0
                  }
                ],
                "numberOfParallelRequests": 1,
                "outputs": [
                  {
                    "name": "Sentiment",
                    "dataType": "string"
                  }
                ]
              }
            },
            "inputs": [
              {
                "dataType": "nvarchar(max)"
              }
            ],
            "output": {
              "dataType": "nvarchar(max)"
            }
          }
        }
      },
      "headers": {
        "ETag": "dac52a15-66be-4aa7-8a18-20c5409983df"
      }
    }
  },
  "operationId": "Functions_CreateOrReplace",
  "title": "Create an Azure ML Service function"
}