# yaml-language-server: $schema=https://raw.githubusercontent.com/Azure/azure-rest-api-specs/main/documentation/api-scenario/references/v1.2/schema.json
scope: ResourceGroup
variables:
  guestConfigurationAssignmentName:
    type: string
    prefix: guestcon
  vmName:
    type: string
    prefix: vmname
  machineName:
    type: string
    prefix: machinen
  vmssName:
    type: string
    prefix: vmssname
  name:
    type: string
    prefix: name
  reportId:
    type: string
    prefix: reportid
  vmName:
    type: string
    prefix: test

prepareSteps:
  - step: createVirtualMachine
    operationId: VirtualMachines_CreateOrUpdate
    readmeTag: ../../../../../../compute/resource-manager/readme.md#package-2022-11-01
    parameters:
      vmName: $(vmName)
      parameters:
        location: $(location)
        properties:
          hardwareProfile:
            vmSize: Standard_A2_v2
          storageProfile:
            osDisk:
              createOption: fromImage
              caching: ReadWrite
            imageReference:
              publisher: MicrosoftWindowsServer
              offer: WindowsServer
              sku: 2019-Datacenter
              version: latest
          additionalCapabilities: {}

scenarios:
  - scenario: GeneratedScenario
    steps:     
      - operationId: GuestConfigurationAssignments_CreateOrUpdate
        exampleFile: ../../2020-06-25/examples/createOrUpdateGuestConfigurationAssignment.json
      - operationId: GuestConfigurationAssignments_SubscriptionList
        exampleFile: ../../2020-06-25/examples/listSubGuestConfigurationAssignments.json
      - operationId: GuestConfigurationAssignments_Get
        exampleFile: ../../2020-06-25/examples/getGuestConfigurationAssignment.json
      - operationId: GuestConfigurationAssignments_List
        exampleFile: ../../2020-06-25/examples/listGuestConfigurationAssignments.json
      - operationId: GuestConfigurationAssignments_RGList
        exampleFile: ../../2020-06-25/examples/listRGGuestConfigurationAssignments.json
      - operationId: Operations_List
        exampleFile: ../../2020-06-25/examples/listOperations.json
      - operationId: GuestConfigurationAssignmentReports_Get
        exampleFile: ../../2020-06-25/examples/getGuestConfigurationAssignmentReportById.json