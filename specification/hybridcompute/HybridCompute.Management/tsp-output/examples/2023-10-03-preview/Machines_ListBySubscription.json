{
  "parameters": {
    "api-version": "2023-10-03-preview",
    "subscriptionId": "{subscription-id}"
  },
  "responses": {
    "200": {
      "body": {
        "nextLink": "string",
        "value": [
          {
            "name": "myMachine",
            "type": "Microsoft.HybridCompute/machines",
            "id": "/subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.HybridCompute/machines/myMachine",
            "identity": {
              "type": "SystemAssigned",
              "principalId": "string",
              "tenantId": "string"
            },
            "kind": null,
            "location": "eastus2euap",
            "properties": {
              "adFqdn": null,
              "agentConfiguration": {
                "configMode": "full",
                "extensionsAllowList": null,
                "extensionsBlockList": null,
                "extensionsEnabled": "true",
                "guestConfigurationEnabled": "true",
                "incomingConnectionsPorts": [
                  "22",
                  "23"
                ],
                "proxyBypass": [
                  "proxy1",
                  "proxy2"
                ],
                "proxyUrl": "https://test.test"
              },
              "agentVersion": null,
              "clientPublicKey": "string",
              "detectedProperties": {
                "cloudprovider": "N/A",
                "manufacturer": "Microsoft Corporation",
                "model": "Virtual Machine"
              },
              "displayName": null,
              "dnsFqdn": null,
              "domainName": null,
              "errorDetails": null,
              "lastStatusChange": null,
              "licenseProfile": {
                "esuProfile": {
                  "esuEligibility": "Ineligible",
                  "esuKeyState": "Inactive",
                  "esuKeys": [
                    {
                      "licenseStatus": "licenseStatus1",
                      "sku": "skuNumber1"
                    },
                    {
                      "licenseStatus": "licenseStatus2",
                      "sku": "skuNumber2"
                    }
                  ],
                  "licenseAssignmentState": "Assigned",
                  "serverType": "Standard"
                },
                "licenseChannel": "PSG",
                "licenseStatus": "Licensed",
                "productProfile": {
                  "billingStartDate": "2023-10-05T20:36:49.745Z",
                  "disenrollmentDate": "2023-11-05T20:36:49.745Z",
                  "enrollmentDate": "2023-10-05T20:36:49.745Z",
                  "productFeatures": [
                    {
                      "name": "HotPatching",
                      "billingStartDate": "2023-10-05T20:36:49.745Z",
                      "disenrollmentDate": "2023-11-05T20:36:49.745Z",
                      "enrollmentDate": "2023-10-05T20:36:49.745Z",
                      "subscriptionStatus": "Enabled"
                    }
                  ],
                  "productType": "WindowsServer",
                  "subscriptionStatus": "Enabled"
                },
                "softwareAssurance": {
                  "softwareAssuranceCustomer": true
                }
              },
              "locationData": {
                "name": "Redmond"
              },
              "machineFqdn": null,
              "mssqlDiscovered": "false",
              "osEdition": "Standard",
              "osProfile": {
                "computerName": null,
                "linuxConfiguration": {
                  "patchSettings": {
                    "assessmentMode": null,
                    "patchMode": null
                  }
                },
                "windowsConfiguration": {
                  "patchSettings": {
                    "assessmentMode": null,
                    "patchMode": null
                  }
                }
              },
              "osSku": null,
              "osType": null,
              "osVersion": null,
              "parentClusterResourceId": null,
              "privateLinkScopeResourceId": "/subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.HybridCompute/privateLinkScopes/privateLinkScopeName",
              "provisioningState": "Succeeded",
              "status": null,
              "vmId": "b7a098cc-b0b8-46e8-a205-62f301a62a8f",
              "vmUuid": null
            },
            "tags": null
          },
          {
            "name": "myMachine2",
            "type": "Microsoft.HybridCompute/machines",
            "id": "/subscriptions/{subscriptionId}/resourceGroups/myResourceGroup2/providers/Microsoft.HybridCompute/machines/myMachine2",
            "identity": {
              "type": "SystemAssigned",
              "principalId": "e7a068cc-b0b8-46e8-a203-22f301a62a8f",
              "tenantId": "c4098cc-91b8-46c2-a205-d82ab1a62a8f"
            },
            "kind": null,
            "location": "westus2",
            "properties": {
              "agentConfiguration": {
                "configMode": "full",
                "extensionsAllowList": null,
                "extensionsBlockList": null,
                "extensionsEnabled": "true",
                "guestConfigurationEnabled": "true",
                "incomingConnectionsPorts": [
                  "22",
                  "23"
                ],
                "proxyBypass": [
                  "proxy1",
                  "proxy2"
                ],
                "proxyUrl": "https://test.test"
              },
              "agentVersion": null,
              "clientPublicKey": "string",
              "detectedProperties": {
                "cloudprovider": "N/A",
                "manufacturer": "Microsoft Corporation",
                "model": "Surfacebook"
              },
              "displayName": null,
              "errorDetails": null,
              "lastStatusChange": null,
              "licenseProfile": {
                "esuProfile": {
                  "esuEligibility": "Ineligible",
                  "esuKeyState": "Inactive",
                  "esuKeys": [
                    {
                      "licenseStatus": "licenseStatus1",
                      "sku": "skuNumber1"
                    },
                    {
                      "licenseStatus": "licenseStatus2",
                      "sku": "skuNumber2"
                    }
                  ],
                  "licenseAssignmentState": "Assigned",
                  "serverType": "Standard"
                },
                "licenseChannel": "PSG",
                "licenseStatus": "Licensed",
                "productProfile": {
                  "billingStartDate": "2023-10-05T20:36:49.745Z",
                  "disenrollmentDate": "2023-11-05T20:36:49.745Z",
                  "enrollmentDate": "2023-10-05T20:36:49.745Z",
                  "productFeatures": [
                    {
                      "name": "HotPatching",
                      "billingStartDate": "2023-10-05T20:36:49.745Z",
                      "disenrollmentDate": "2023-11-05T20:36:49.745Z",
                      "enrollmentDate": "2023-10-05T20:36:49.745Z",
                      "subscriptionStatus": "Enabled"
                    }
                  ],
                  "productType": "WindowsServer",
                  "subscriptionStatus": "Enabled"
                },
                "softwareAssurance": {
                  "softwareAssuranceCustomer": true
                }
              },
              "locationData": {
                "name": "Redmond"
              },
              "machineFqdn": null,
              "mssqlDiscovered": "true",
              "osEdition": "Standard",
              "osProfile": {
                "computerName": null,
                "linuxConfiguration": {
                  "patchSettings": {
                    "assessmentMode": null,
                    "patchMode": null
                  }
                },
                "windowsConfiguration": {
                  "patchSettings": {
                    "assessmentMode": null,
                    "patchMode": null
                  }
                }
              },
              "osType": null,
              "osVersion": null,
              "parentClusterResourceId": "{AzureStackHCIResourceId}",
              "provisioningState": "Succeeded",
              "status": null,
              "vmId": "a4a098cc-b0b8-46e8-a205-62f301a62a8f"
            },
            "tags": null
          }
        ]
      }
    }
  },
  "operationId": "Machines_ListBySubscription",
  "title": "List Machines by resource group"
}