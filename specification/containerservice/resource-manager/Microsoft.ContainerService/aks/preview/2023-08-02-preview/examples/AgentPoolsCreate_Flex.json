{
  "parameters": {
    "api-version": "2023-08-02-preview",
    "subscriptionId": "subid1",
    "resourceGroupName": "rg1",
    "resourceName": "clustername1",
    "agentPoolName": "agentpool1",
    "parameters": {
      "properties": {
        "orchestratorVersion": "",
        "count": 3,
        "vmSize": "Standard_DS1_v2",
        "osType": "Linux",
        "tags": {
          "name1": "val1"
        },
        "nodeLabels": {
          "key1": "val1"
        },
        "nodeTaints": [
          "Key1=Value1:NoSchedule"
        ],
        "type": "Flex",
        "flexProfile": {
          "scaleProfile": {
            "manual": {
              "machines": [
                {
                  "sizes": "Dsv3, Dv3",
                  "count": 5
                },
                {
                  "sizes": "Dasv4",
                  "count": 8
                }
              ]
            }
          }
        }
      }
    }
  },
  "responses": {
    "200": {
      "body": {
        "id": "/subscriptions/subid1/resourcegroups/rg1/providers/Microsoft.ContainerService/managedClusters/clustername1/agentPools/agentpool1",
        "type": "Microsoft.ContainerService/managedClusters/agentPools",
        "name": "agentpool1",
        "properties": {
          "provisioningState": "Succeeded",
          "orchestratorVersion": "1.9.6",
          "currentOrchestratorVersion": "1.9.6",
          "maxPods": 110,
          "osType": "Linux",
          "tags": {
            "name1": "val1"
          },
          "nodeLabels": {
            "key1": "val1"
          },
          "nodeTaints": [
            "Key1=Value1:NoSchedule"
          ],
          "flexProfile": {
            "scaleProfile": {
              "manual": {
                "machines": [
                  {
                    "sizes": "Dsv3, Dv3",
                    "count": 5
                  },
                  {
                    "sizes": "Dasv4",
                    "count": 8
                  }
                ]
              }
            }
          },
          "currentFlexVirtualMachines": [
            {
              "sizes": "Dsv3",
              "count": 3,
              "nodeOSImage": "AKSUbuntu-1804gen2containerd-202308.22.0"
            },
            {
              "sizes": "Dv3",
              "count": 2,
              "nodeOSImage": "AKSUbuntu-somegen1-202308.22.0"
            },
            {
              "sizes": "Dasv4",
              "count": 8,
              "nodeOSImage": "AKSUbuntu-somegen2-202308.22.0"
            }
          ]
        }
      }
    },
    "201": {
      "body": {
        "id": "/subscriptions/subid1/resourcegroups/rg1/providers/Microsoft.ContainerService/managedClusters/clustername1/agentPools/agentpool1",
        "type": "Microsoft.ContainerService/managedClusters/agentPools",
        "name": "agentpool1",
        "properties": {
          "provisioningState": "Creating",
          "orchestratorVersion": "1.9.6",
          "currentOrchestratorVersion": "1.9.6",
          "maxPods": 110,
          "osType": "Linux",
          "tags": {
            "name1": "val1"
          },
          "nodeLabels": {
            "key1": "val1"
          },
          "nodeTaints": [
            "Key1=Value1:NoSchedule"
          ],
          "flexProfile": {
            "scaleProfile": {
              "manual": {
                "machines": [
                  {
                    "sizes": "Dsv3, Dv3",
                    "count": 5
                  },
                  {
                    "sizes": "Dasv4",
                    "count": 8
                  }
                ]
              }
            }
          },
          "currentFlexVirtualMachines": [
            {
              "sizes": "Dsv3",
              "count": 3,
              "nodeOSImage": "AKSUbuntu-1804gen2containerd-202308.22.0"
            },
            {
              "sizes": "Dv3",
              "count": 2,
              "nodeOSImage": "AKSUbuntu-somegen1-202308.22.0"
            },
            {
              "sizes": "Dasv4",
              "count": 8,
              "nodeOSImage": "AKSUbuntu-somegen2-202308.22.0"
            }
          ]
        }
      }
    }
  }
}
