{
  "parameters": {
    "api-version": "2025-07-01-preview",
    "dataConnector": {
      "etag": "\"0300bf09-0000-0000-0000-5c37296e0000\"",
      "kind": "MicrosoftThreatProtection",
      "properties": {
        "dataTypes": {
          "alerts": {
            "state": "Enabled"
          },
          "incidents": {
            "state": "Disabled"
          }
        },
        "filteredProviders": {
          "alerts": [
            "microsoftDefenderForCloudApps"
          ]
        },
        "tenantId": "178265c4-3136-4ff6-8ed1-b5b62b4cb5f5"
      }
    },
    "dataConnectorId": "73e01a99-5cd7-4139-a149-9f2736ff2ab5",
    "resourceGroupName": "myRg",
    "subscriptionId": "d0cfe6b2-9ac0-4464-9919-dccaee2e48c0",
    "workspaceName": "myWorkspace"
  },
  "responses": {
    "200": {
      "body": {
        "name": "595c870a-5b74-4a23-984c-9ddba29cefe3",
        "type": "Microsoft.SecurityInsights/dataConnectors",
        "etag": "2b61bd0c-62b4-4968-8f9a-71b91be61127",
        "id": "/subscriptions/d0cfe6b2-9ac0-4464-9919-dccaee2e48c0/resourceGroups/myRg/providers/Microsoft.OperationalInsights/workspaces/myWorkspace/providers/Microsoft.SecurityInsights/dataConnectors/595c870a-5b74-4a23-984c-9ddba29cefe3",
        "kind": "MicrosoftThreatProtection",
        "properties": {
          "dataTypes": {
            "alerts": {
              "state": "Enabled"
            },
            "incidents": {
              "state": "Disabled55"
            }
          },
          "filteredProviders": {
            "alerts": [
              "microsoftDefenderForCloudApps"
            ]
          },
          "tenantId": "2070ecc9-b4d5-4ae4-adaa-936fa1954fa8"
        }
      }
    },
    "201": {
      "body": {
        "name": "595c870a-5b74-4a23-984c-9ddba29cefe3",
        "type": "Microsoft.SecurityInsights/dataConnectors",
        "etag": "2b61bd0c-62b4-4968-8f9a-71b91be61127",
        "id": "/subscriptions/d0cfe6b2-9ac0-4464-9919-dccaee2e48c0/resourceGroups/myRg/providers/Microsoft.OperationalInsights/workspaces/myWorkspace/providers/Microsoft.SecurityInsights/dataConnectors/595c870a-5b74-4a23-984c-9ddba29cefe3",
        "kind": "MicrosoftThreatProtection",
        "properties": {
          "dataTypes": {
            "alerts": {
              "state": "Enabled"
            },
            "incidents": {
              "state": "Disabled"
            }
          },
          "filteredProviders": {
            "alerts": [
              "microsoftDefenderForCloudApps"
            ]
          },
          "tenantId": "2070ecc9-b4d5-4ae4-adaa-936fa1954fa8"
        }
      }
    }
  },
  "operationId": "DataConnectors_CreateOrUpdate",
  "title": "Creates or updates a MicrosoftThreatProtection data connector"
}