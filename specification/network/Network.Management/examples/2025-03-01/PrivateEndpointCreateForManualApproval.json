{
  "parameters": {
    "api-version": "2025-03-01",
    "parameters": {
      "location": "eastus",
      "properties": {
        "customNetworkInterfaceName": "testPeNic",
        "ipConfigurations": [
          {
            "name": "pestaticconfig",
            "properties": {
              "groupId": "file",
              "memberName": "file",
              "privateIPAddress": "192.168.0.5"
            }
          }
        ],
        "manualPrivateLinkServiceConnections": [
          {
            "properties": {
              "groupIds": [
                "groupIdFromResource"
              ],
              "privateLinkServiceId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg1/providers/Microsoft.Network/privateLinkServices/testPls",
              "requestMessage": "Please manually approve my connection."
            }
          }
        ],
        "subnet": {
          "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg1/providers/Microsoft.Network/virtualNetworks/myVnet/subnets/mySubnet"
        }
      }
    },
    "privateEndpointName": "testPe",
    "resourceGroupName": "rg1",
    "subscriptionId": "00000000-0000-0000-0000-000000000000"
  },
  "responses": {
    "200": {
      "body": {
        "name": "testPe",
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg1/providers/Microsoft.Network/privateEndpoints/testPe",
        "location": "eastus",
        "properties": {
          "applicationSecurityGroups": [],
          "customDnsConfigs": [
            {
              "fqdn": "abc.cosmos.com",
              "ipAddresses": [
                "192.168.0.4"
              ]
            },
            {
              "fqdn": "abc2.cosmos.com",
              "ipAddresses": [
                "192.168.0.5"
              ]
            }
          ],
          "customNetworkInterfaceName": "testPeNic",
          "ipConfigurations": [
            {
              "name": "pestaticconfig",
              "properties": {
                "groupId": "file",
                "memberName": "file",
                "privateIPAddress": "192.168.0.5"
              }
            }
          ],
          "manualPrivateLinkServiceConnections": [
            {
              "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg1/providers/Microsoft.Network/privateEndpoints/testPe/manualPrivateLinkServiceConnections/plsconnection1",
              "properties": {
                "groupIds": [
                  "groupIdFromResource"
                ],
                "privateLinkServiceConnectionState": {
                  "description": "Awaiting approval",
                  "actionsRequired": "None",
                  "status": "Pending"
                },
                "privateLinkServiceId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg1/providers/Microsoft.Network/privateLinkServices/testPls",
                "requestMessage": "Please manually approve my connection."
              }
            }
          ],
          "networkInterfaces": [
            {
              "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg1/provders/Microsoft.Network/networkInterfaces/testPe.nic.abcd1234"
            }
          ],
          "privateLinkServiceConnections": [],
          "provisioningState": "Succeeded",
          "subnet": {
            "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg1/providers/Microsoft.Network/virtualNetworks/myVnet/subnets/mySubnet"
          }
        }
      }
    },
    "201": {
      "body": {
        "name": "testPe",
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg1/providers/Microsoft.Network/privateEndpoints/testPe",
        "location": "eastus",
        "properties": {
          "applicationSecurityGroups": [],
          "customDnsConfigs": [
            {
              "fqdn": "abc.cosmos.com",
              "ipAddresses": [
                "192.168.0.4"
              ]
            },
            {
              "fqdn": "abc2.cosmos.com",
              "ipAddresses": [
                "192.168.0.5"
              ]
            }
          ],
          "customNetworkInterfaceName": "testPeNic",
          "ipConfigurations": [
            {
              "name": "pestaticconfig",
              "properties": {
                "groupId": "file",
                "memberName": "file",
                "privateIPAddress": "192.168.0.5"
              }
            }
          ],
          "networkInterfaces": [
            {
              "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg1/provders/Microsoft.Network/networkInterfaces/testPe.nic.abcd1234"
            }
          ],
          "privateLinkServiceConnections": [
            {
              "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg1/providers/Microsoft.Network/privateEndpoints/testPe/privateLinkServiceConnections/plsconnection1",
              "properties": {
                "groupIds": [
                  "groupIdFromResource"
                ],
                "privateLinkServiceConnectionState": {
                  "description": "Auto-approved",
                  "actionsRequired": "None",
                  "status": "Approved"
                },
                "privateLinkServiceId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg1/providers/Microsoft.Network/privateLinkServices/testPls",
                "requestMessage": "Please approve my connection."
              }
            }
          ],
          "provisioningState": "Succeeded",
          "subnet": {
            "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg1/providers/Microsoft.Network/virtualNetworks/myVnet/subnets/mySubnet"
          }
        }
      }
    }
  },
  "operationId": "PrivateEndpoints_CreateOrUpdate",
  "title": "Create private endpoint with manual approval connection"
}
