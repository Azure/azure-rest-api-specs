{
  "title": "Create/Update NSP link",
  "parameters": {
    "api-version": "2023-07-01-preview",
    "subscriptionId": "subId",
    "resourceGroupName": "rg1",
    "networkSecurityPerimeterName": "nsp1",
    "linkName": "link1",
    "parameters": {
      "properties": {
        "autoApprovedRemotePerimeterResourceId": "/subscriptions/subId/resourceGroups/rg1/providers/Microsoft.Network/networkSecurityPerimeters/nsp2",
        "localInboundProfiles": [
          "*"
        ],
        "remoteInboundProfiles": [
          "*"
        ]
      }
    }
  },
  "responses": {
    "200": {
      "body": {
        "name": "link1",
        "id": "/subscriptions/subId/resourceGroups/rg1/providers/Microsoft.Network/networkSecurityPerimeters/nsp1/links/link1",
        "type": "Microsoft.Network/networkSecurityPerimeters/links",
        "properties": {
          "provisioningState": "Succeeded",
          "autoApprovedRemotePerimeterResourceId": "/subscriptions/subId/resourceGroups/rg1/providers/Microsoft.Network/networkSecurityPerimeters/nsp2",
          "remotePerimeterGuid": "guid",
          "remotePerimeterLocation": "westus2",
          "localInboundProfiles": [
            "*"
          ],
          "localOutboundProfiles": [
            "*"
          ],
          "remoteInboundProfiles": [
            "*"
          ],
          "remoteOutboundProfiles": [
            "*"
          ],
          "description": "Auto Approved",
          "status": "Approved"
        }
      }
    },
    "201": {
      "body": {
        "name": "link1",
        "id": "/subscriptions/subId/resourceGroups/rg1/providers/Microsoft.Network/networkSecurityPerimeters/nsp1/links/link1",
        "type": "Microsoft.Network/networkSecurityPerimeters/links",
        "properties": {
          "provisioningState": "Succeeded",
          "autoApprovedRemotePerimeterResourceId": "/subscriptions/subId/resourceGroups/rg1/providers/Microsoft.Network/networkSecurityPerimeters/nsp2",
          "remotePerimeterGuid": "guid",
          "remotePerimeterLocation": "westus2",
          "localInboundProfiles": [
            "*"
          ],
          "localOutboundProfiles": [
            "*"
          ],
          "remoteInboundProfiles": [
            "*"
          ],
          "remoteOutboundProfiles": [
            "*"
          ],
          "description": "Auto Approved",
          "status": "Approved"
        }
      }
    }
  }
}
