{
    "parameters": {
        "gatewayName": "gateway1",
        "resourceGroupName": "rg1",
        "api-version": "2018-06-01",
        "subscriptionId": "subid",
        "vpnGatewayParameters": {
            "location": "West US",
            "tags": {
                "key1": "value1"
            },
            "properties": {
                "connections": [
                  {
                    "name": "vpnConnection1",
                    "properties": {
                      "remoteVpnSite": {
                        "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/vpnSites/vpnSite1"
                      },
                      "sharedKey": "key"                      
                    }
                  }
                ]
            }
        }
    },
    "responses": {
        "200":  {
                "name": "gateway1",
                "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/vpnGateways/gateway1",
                "etag": "w/\\00000000-0000-0000-0000-000000000000\\",
                "location": "West US",
                "type": "Microsoft.Network/vpnGateways",
                "properties": {
                  "provisioningState": "Succeeded",
                  "virtualHub": {
                    "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/virtualHubs/virtualHub1"
                  },
                  "connections": [
                        {
                            "name": "vpnConnection1",
                            "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/vpnGateways/gateway1/vpnConnections/vpnConnection1",
                            "etag": "w/\\00000000-0000-0000-0000-000000000000\\",
                            "properties": {
                                "provisioningState": "Succeeded",
                                "remoteVpnSite": {
                                  "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/vpnSites/vpnSite1"
                                },
                                "connectionStatus": "Connected",
                                "tunnelConnectionStatus": "Connected",
                                "ingressBytesTransferred": 0,
                                "egressBytesTransferred": 0,
                                "routingWeight": 0,
                                "connectionBandwidthInMbps":  100,
                                "sharedKey": "key"
                            }
                        }
                    ]
                }
            },
        "201":  {
                "name": "gateway1",
                "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/vpnGateways/gateway1",
                "etag": "w/\\00000000-0000-0000-0000-000000000000\\",
                "location": "West US",
                "type": "Microsoft.Network/vpnGateways",
                "properties": {
                  "provisioningState": "Succeeded",
                  "virtualHub": {
                    "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/virtualHubs/virtualHub1"
                  },
                  "connections": [
                        {
                            "name": "vpnConnection1",
                            "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/vpnGateways/gateway1/vpnConnections/vpnConnection1",
                            "etag": "w/\\00000000-0000-0000-0000-000000000000\\",
                            "properties": {
                                "provisioningState": "Succeeded",
                                "remoteVpnSite": {
                                  "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/vpnSites/vpnSite1"
                                },
                                "connectionStatus": "Connected",
                                "tunnelConnectionStatus": "Connected",
                                "ingressBytesTransferred": 0,
                                "egressBytesTransferred": 0,
                                "routingWeight": 0,
                                "connectionBandwidthInMbps":  100,
                                "sharedKey": "key"
                            }
                        }
                    ]
                }
            }
    }
}