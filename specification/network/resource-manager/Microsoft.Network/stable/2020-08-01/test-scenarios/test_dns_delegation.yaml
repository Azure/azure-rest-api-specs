scope: ResourceGroup
testScenarios:
  - description: test_dns_delegation
    steps:
      - step: RawStep_142
        method: PUT
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_dns000001/providers/Microsoft.Network/dnsZones/books.com?api-version=2018-05-01
        requestBody: '{"location":"global","properties":{"zoneType":"Public"}}'
        requestHeaders:
          cache-control: private
          content-length: '612'
          content-type: application/json; charset=utf-8
          date: Mon, 08 Feb 2021 07:42:01 GMT
          etag: 00000002-0000-0000-283c-3ce2edfdd601
          server: Microsoft-IIS/10.0
          strict-transport-security: max-age=31536000; includeSubDomains
          x-content-type-options: nosniff
          x-ms-ratelimit-remaining-subscription-resource-requests: '11997'
          x-powered-by: ASP.NET
        statusCode: 201
        responseExpected: >-
          {"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_dns000001/providers/Microsoft.Network/dnszones/books.com","name":"books.com","type":"Microsoft.Network/dnszones","etag":"00000002-0000-0000-283c-3ce2edfdd601","location":"global","tags":{},"properties":{"maxNumberOfRecordSets":10000,"maxNumberOfRecordsPerRecordSet":null,"nameServers":["ns1-07.azure-dns.com.","ns2-07.azure-dns.net.","ns3-07.azure-dns.org.","ns4-07.azure-dns.info."],"numberOfRecordSets":2,"serveRecordsBelowDelegation":null,"zoneType":"Public"}}
      - step: RawStep_143
        method: PUT
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_dns000001/providers/Microsoft.Network/dnsZones/nursery.books.com?api-version=2018-05-01
        requestBody: '{"location":"global","properties":{"zoneType":"Public"}}'
        requestHeaders:
          cache-control: private
          content-length: '628'
          content-type: application/json; charset=utf-8
          date: Mon, 08 Feb 2021 07:42:10 GMT
          etag: 00000002-0000-0000-4d48-dce7edfdd601
          server: Microsoft-IIS/10.0
          strict-transport-security: max-age=31536000; includeSubDomains
          x-content-type-options: nosniff
          x-ms-ratelimit-remaining-subscription-resource-requests: '11997'
          x-powered-by: ASP.NET
        statusCode: 201
        responseExpected: >-
          {"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_dns000001/providers/Microsoft.Network/dnszones/nursery.books.com","name":"nursery.books.com","type":"Microsoft.Network/dnszones","etag":"00000002-0000-0000-4d48-dce7edfdd601","location":"global","tags":{},"properties":{"maxNumberOfRecordSets":10000,"maxNumberOfRecordsPerRecordSet":null,"nameServers":["ns1-08.azure-dns.com.","ns2-08.azure-dns.net.","ns3-08.azure-dns.org.","ns4-08.azure-dns.info."],"numberOfRecordSets":2,"serveRecordsBelowDelegation":null,"zoneType":"Public"}}
      - step: RawStep_144
        method: PUT
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_dns000001/providers/Microsoft.Network/dnsZones/books.com/NS/nursery?api-version=2018-05-01
        requestBody: >-
          {"properties":{"TTL":3600,"NSRecords":[{"nsdname":"ns1-08.azure-dns.com."}]}}
        requestHeaders:
          cache-control: private
          content-length: '479'
          content-type: application/json; charset=utf-8
          date: Mon, 08 Feb 2021 07:42:15 GMT
          etag: 5f54a64c-446d-44ca-9c54-833092d3aec2
          server: Microsoft-IIS/10.0
          strict-transport-security: max-age=31536000; includeSubDomains
          x-content-type-options: nosniff
          x-ms-ratelimit-remaining-subscription-resource-requests: '11993'
          x-powered-by: ASP.NET
        statusCode: 201
        responseExpected: >-
          {"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_dns000001/providers/Microsoft.Network/dnszones/books.com/NS/nursery","name":"nursery","type":"Microsoft.Network/dnszones/NS","etag":"5f54a64c-446d-44ca-9c54-833092d3aec2","properties":{"fqdn":"nursery.books.com.","TTL":3600,"NSRecords":[{"nsdname":"ns1-08.azure-dns.com."}],"targetResource":{},"provisioningState":"Succeeded"}}
      - step: RawStep_145
        method: PUT
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_dns000001/providers/Microsoft.Network/dnsZones/books.com/NS/nursery?api-version=2018-05-01
        requestBody: >-
          {"etag":"5f54a64c-446d-44ca-9c54-833092d3aec2","properties":{"TTL":3600,"targetResource":{},"NSRecords":[{"nsdname":"ns1-08.azure-dns.com."},{"nsdname":"ns2-08.azure-dns.net."}]}}
        requestHeaders:
          cache-control: private
          content-length: '515'
          content-type: application/json; charset=utf-8
          date: Mon, 08 Feb 2021 07:42:17 GMT
          etag: 1074217b-9b75-4b35-9f79-788b15522665
          server: Microsoft-IIS/10.0
          strict-transport-security: max-age=31536000; includeSubDomains
          transfer-encoding: chunked
          vary: Accept-Encoding
          x-content-type-options: nosniff
          x-ms-ratelimit-remaining-subscription-resource-requests: '11994'
          x-powered-by: ASP.NET
        responseExpected: >-
          {"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_dns000001/providers/Microsoft.Network/dnszones/books.com/NS/nursery","name":"nursery","type":"Microsoft.Network/dnszones/NS","etag":"1074217b-9b75-4b35-9f79-788b15522665","properties":{"fqdn":"nursery.books.com.","TTL":3600,"NSRecords":[{"nsdname":"ns1-08.azure-dns.com."},{"nsdname":"ns2-08.azure-dns.net."}],"targetResource":{},"provisioningState":"Succeeded"}}
      - step: RawStep_146
        method: PUT
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_dns000001/providers/Microsoft.Network/dnsZones/books.com/NS/nursery?api-version=2018-05-01
        requestBody: >-
          {"etag":"1074217b-9b75-4b35-9f79-788b15522665","properties":{"TTL":3600,"targetResource":{},"NSRecords":[{"nsdname":"ns1-08.azure-dns.com."},{"nsdname":"ns2-08.azure-dns.net."},{"nsdname":"ns3-08.azure-dns.org."}]}}
        requestHeaders:
          cache-control: private
          content-length: '551'
          content-type: application/json; charset=utf-8
          date: Mon, 08 Feb 2021 07:42:19 GMT
          etag: 6062e8c0-a0d6-4bee-85c2-92dc960fcb32
          server: Microsoft-IIS/10.0
          strict-transport-security: max-age=31536000; includeSubDomains
          transfer-encoding: chunked
          vary: Accept-Encoding
          x-content-type-options: nosniff
          x-ms-ratelimit-remaining-subscription-resource-requests: '11994'
          x-powered-by: ASP.NET
        responseExpected: >-
          {"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_dns000001/providers/Microsoft.Network/dnszones/books.com/NS/nursery","name":"nursery","type":"Microsoft.Network/dnszones/NS","etag":"6062e8c0-a0d6-4bee-85c2-92dc960fcb32","properties":{"fqdn":"nursery.books.com.","TTL":3600,"NSRecords":[{"nsdname":"ns1-08.azure-dns.com."},{"nsdname":"ns2-08.azure-dns.net."},{"nsdname":"ns3-08.azure-dns.org."}],"targetResource":{},"provisioningState":"Succeeded"}}
      - step: RawStep_147
        method: PUT
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_dns000001/providers/Microsoft.Network/dnsZones/books.com/NS/nursery?api-version=2018-05-01
        requestBody: >-
          {"etag":"6062e8c0-a0d6-4bee-85c2-92dc960fcb32","properties":{"TTL":3600,"targetResource":{},"NSRecords":[{"nsdname":"ns1-08.azure-dns.com."},{"nsdname":"ns2-08.azure-dns.net."},{"nsdname":"ns3-08.azure-dns.org."},{"nsdname":"ns4-08.azure-dns.info."}]}}
        requestHeaders:
          cache-control: private
          content-length: '588'
          content-type: application/json; charset=utf-8
          date: Mon, 08 Feb 2021 07:42:22 GMT
          etag: ee82384a-1930-438c-b213-5aa438973a33
          server: Microsoft-IIS/10.0
          strict-transport-security: max-age=31536000; includeSubDomains
          transfer-encoding: chunked
          vary: Accept-Encoding
          x-content-type-options: nosniff
          x-ms-ratelimit-remaining-subscription-resource-requests: '11996'
          x-powered-by: ASP.NET
        responseExpected: >-
          {"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_dns000001/providers/Microsoft.Network/dnszones/books.com/NS/nursery","name":"nursery","type":"Microsoft.Network/dnszones/NS","etag":"ee82384a-1930-438c-b213-5aa438973a33","properties":{"fqdn":"nursery.books.com.","TTL":3600,"NSRecords":[{"nsdname":"ns1-08.azure-dns.com."},{"nsdname":"ns2-08.azure-dns.net."},{"nsdname":"ns3-08.azure-dns.org."},{"nsdname":"ns4-08.azure-dns.info."}],"targetResource":{},"provisioningState":"Succeeded"}}
      - step: RawStep_148
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_dns000001/providers/Microsoft.Network/dnsZones/books.com?api-version=2018-05-01
        requestHeaders:
          cache-control: private
          content-length: '612'
          content-type: application/json; charset=utf-8
          date: Mon, 08 Feb 2021 07:42:23 GMT
          etag: 00000002-0000-0000-283c-3ce2edfdd601
          server: Microsoft-IIS/10.0
          strict-transport-security: max-age=31536000; includeSubDomains
          transfer-encoding: chunked
          vary: Accept-Encoding
          x-content-type-options: nosniff
          x-ms-ratelimit-remaining-subscription-resource-requests: '499'
          x-powered-by: ASP.NET
        responseExpected: >-
          {"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_dns000001/providers/Microsoft.Network/dnszones/books.com","name":"books.com","type":"Microsoft.Network/dnszones","etag":"00000002-0000-0000-283c-3ce2edfdd601","location":"global","tags":{},"properties":{"maxNumberOfRecordSets":10000,"maxNumberOfRecordsPerRecordSet":null,"nameServers":["ns1-07.azure-dns.com.","ns2-07.azure-dns.net.","ns3-07.azure-dns.org.","ns4-07.azure-dns.info."],"numberOfRecordSets":3,"serveRecordsBelowDelegation":null,"zoneType":"Public"}}
      - step: RawStep_149
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_dns000001/providers/Microsoft.Network/dnsZones/books.com/NS/nursery?api-version=2018-05-01
        requestHeaders:
          cache-control: private
          content-length: '588'
          content-type: application/json; charset=utf-8
          date: Mon, 08 Feb 2021 07:42:25 GMT
          etag: ee82384a-1930-438c-b213-5aa438973a33
          server: Microsoft-IIS/10.0
          strict-transport-security: max-age=31536000; includeSubDomains
          transfer-encoding: chunked
          vary: Accept-Encoding
          x-content-type-options: nosniff
          x-ms-ratelimit-remaining-subscription-resource-requests: '497'
          x-powered-by: ASP.NET
        responseExpected: >-
          {"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_dns000001/providers/Microsoft.Network/dnszones/books.com/NS/nursery","name":"nursery","type":"Microsoft.Network/dnszones/NS","etag":"ee82384a-1930-438c-b213-5aa438973a33","properties":{"fqdn":"nursery.books.com.","TTL":3600,"NSRecords":[{"nsdname":"ns1-08.azure-dns.com."},{"nsdname":"ns2-08.azure-dns.net."},{"nsdname":"ns3-08.azure-dns.org."},{"nsdname":"ns4-08.azure-dns.info."}],"targetResource":{},"provisioningState":"Succeeded"}}
      - step: RawStep_150
        method: DELETE
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_dns000001/providers/Microsoft.Network/dnsZones/books.com?api-version=2018-05-01
        requestHeaders:
          azure-asyncoperation: >-
            https://management.azure.com:443/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_dns000001/providers/Microsoft.Network/dnsOperationStatuses/delzone6374836694848871708d7a621c?api-version=2018-05-01
          cache-control: private
          content-length: '0'
          date: Mon, 08 Feb 2021 07:42:28 GMT
          location: >-
            https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_dns000001/providers/Microsoft.Network/dnsOperationResults/delzone6374836694848871708d7a621c?api-version=2018-05-01
          server: Microsoft-IIS/10.0
          strict-transport-security: max-age=31536000; includeSubDomains
          x-content-type-options: nosniff
          x-ms-ratelimit-remaining-subscription-resource-requests: '11999'
          x-powered-by: ASP.NET
        statusCode: 202
      - step: RawStep_151
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_dns000001/providers/Microsoft.Network/dnsOperationStatuses/delzone6374836694848871708d7a621c?api-version=2018-05-01
        requestHeaders:
          cache-control: private
          content-length: '22'
          content-type: application/json; charset=utf-8
          date: Mon, 08 Feb 2021 07:42:32 GMT
          server: Microsoft-IIS/10.0
          strict-transport-security: max-age=31536000; includeSubDomains
          transfer-encoding: chunked
          vary: Accept-Encoding
          x-content-type-options: nosniff
          x-ms-ratelimit-remaining-subscription-resource-requests: '499'
          x-powered-by: ASP.NET
        responseExpected: '{"status":"Succeeded"}'
      - step: RawStep_152
        method: DELETE
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_dns000001/providers/Microsoft.Network/dnsZones/nursery.books.com?api-version=2018-05-01
        requestHeaders:
          azure-asyncoperation: >-
            https://management.azure.com:443/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_dns000001/providers/Microsoft.Network/dnsOperationStatuses/delzone63748366956462165570601338?api-version=2018-05-01
          cache-control: private
          content-length: '0'
          date: Mon, 08 Feb 2021 07:42:36 GMT
          location: >-
            https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_dns000001/providers/Microsoft.Network/dnsOperationResults/delzone63748366956462165570601338?api-version=2018-05-01
          server: Microsoft-IIS/10.0
          strict-transport-security: max-age=31536000; includeSubDomains
          x-content-type-options: nosniff
          x-ms-ratelimit-remaining-subscription-resource-requests: '11999'
          x-powered-by: ASP.NET
        statusCode: 202
      - step: RawStep_153
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_dns000001/providers/Microsoft.Network/dnsOperationStatuses/delzone63748366956462165570601338?api-version=2018-05-01
        requestHeaders:
          cache-control: private
          content-length: '22'
          content-type: application/json; charset=utf-8
          date: Mon, 08 Feb 2021 07:42:40 GMT
          server: Microsoft-IIS/10.0
          strict-transport-security: max-age=31536000; includeSubDomains
          transfer-encoding: chunked
          vary: Accept-Encoding
          x-content-type-options: nosniff
          x-ms-ratelimit-remaining-subscription-resource-requests: '499'
          x-powered-by: ASP.NET
        responseExpected: '{"status":"Succeeded"}'
