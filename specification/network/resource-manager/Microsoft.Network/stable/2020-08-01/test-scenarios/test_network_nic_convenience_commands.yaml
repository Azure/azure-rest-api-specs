scope: ResourceGroup
testScenarios:
  - description: test_network_nic_convenience_commands
    steps:
      - step: RawStep_2118
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_nic_convenience_test000001?api-version=2020-10-01
        requestHeaders:
          cache-control: no-cache
          content-length: '428'
          content-type: application/json; charset=utf-8
          date: Wed, 24 Feb 2021 12:34:58 GMT
          expires: '-1'
          pragma: no-cache
          strict-transport-security: max-age=31536000; includeSubDomains
          vary: Accept-Encoding
          x-content-type-options: nosniff
        responseExpected: >-
          {"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_nic_convenience_test000001","name":"cli_nic_convenience_test000001","type":"Microsoft.Resources/resourceGroups","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2021-02-24T12:34:56Z"},"properties":{"provisioningState":"Succeeded"}}
      - step: RawStep_2119
        method: GET
        rawUrl: >-
          https://raw.githubusercontent.com/Azure/azure-rest-api-specs/master/arm-compute/quickstart-templates/aliases.json
        requestHeaders:
          accept-ranges: bytes
          access-control-allow-origin: '*'
          cache-control: max-age=300
          connection: keep-alive
          content-length: '2501'
          content-security-policy: default-src 'none'; style-src 'unsafe-inline'; sandbox
          content-type: text/plain; charset=utf-8
          date: Wed, 24 Feb 2021 12:34:59 GMT
          etag: W/"540044b4084c3c314537f1baa1770f248628b2bc9ba0328f1004c33862e049da"
          expires: Wed, 24 Feb 2021 12:39:59 GMT
          source-age: '131'
          strict-transport-security: max-age=31536000
          vary: Authorization,Accept-Encoding
          via: 1.1 varnish
          x-cache: HIT
          x-cache-hits: '1'
          x-content-type-options: nosniff
          x-fastly-request-id: 1388acb3e251807bce4b240752099aa483f1518f
          x-frame-options: deny
          x-github-request-id: 6736:24C0:152B:17F1:603644E0
          x-served-by: cache-sin18026-SIN
          x-timer: S1614170099.077208,VS0,VE1
          x-xss-protection: 1; mode=block
        responseExpected: >-
          {"$schema":"http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json","contentVersion":"1.0.0.0","parameters":{},"variables":{},"resources":[],"outputs":{"aliases":{"type":"object","value":{"Linux":{"CentOS":{"publisher":"OpenLogic","offer":"CentOS","sku":"7.5","version":"latest"},"CoreOS":{"publisher":"CoreOS","offer":"CoreOS","sku":"Stable","version":"latest"},"Debian":{"publisher":"Debian","offer":"debian-10","sku":"10","version":"latest"},"openSUSE-Leap":{"publisher":"SUSE","offer":"openSUSE-Leap","sku":"42.3","version":"latest"},"RHEL":{"publisher":"RedHat","offer":"RHEL","sku":"7-LVM","version":"latest"},"SLES":{"publisher":"SUSE","offer":"SLES","sku":"15","version":"latest"},"UbuntuLTS":{"publisher":"Canonical","offer":"UbuntuServer","sku":"18.04-LTS","version":"latest"}},"Windows":{"Win2019Datacenter":{"publisher":"MicrosoftWindowsServer","offer":"WindowsServer","sku":"2019-Datacenter","version":"latest"},"Win2016Datacenter":{"publisher":"MicrosoftWindowsServer","offer":"WindowsServer","sku":"2016-Datacenter","version":"latest"},"Win2012R2Datacenter":{"publisher":"MicrosoftWindowsServer","offer":"WindowsServer","sku":"2012-R2-Datacenter","version":"latest"},"Win2012Datacenter":{"publisher":"MicrosoftWindowsServer","offer":"WindowsServer","sku":"2012-Datacenter","version":"latest"},"Win2008R2SP1":{"publisher":"MicrosoftWindowsServer","offer":"WindowsServer","sku":"2008-R2-SP1","version":"latest"}}}}}}
      - step: RawStep_2120
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_nic_convenience_test000001/providers/Microsoft.Network/virtualNetworks?api-version=2018-01-01
        requestHeaders:
          cache-control: no-cache
          content-length: '12'
          content-type: application/json; charset=utf-8
          date: Wed, 24 Feb 2021 12:34:59 GMT
          expires: '-1'
          pragma: no-cache
          strict-transport-security: max-age=31536000; includeSubDomains
          vary: Accept-Encoding
          x-content-type-options: nosniff
        responseExpected: '{"value":[]}'
      - step: RawStep_2121
        method: PUT
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_nic_convenience_test000001/providers/Microsoft.Resources/deployments/mock-deployment?api-version=2020-10-01
        requestBody: >-
          {"properties":{"template":{"$schema":"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#","contentVersion":"1.0.0.0","parameters":{"adminPassword":{"type":"securestring","metadata":{"description":"Secure
          adminPassword"}}},"variables":{},"resources":[{"name":"conveniencevm1VNET","type":"Microsoft.Network/virtualNetworks","location":"westus","apiVersion":"2015-06-15","dependsOn":[],"tags":{},"properties":{"addressSpace":{"addressPrefixes":["10.0.0.0/16"]},"subnets":[{"name":"conveniencevm1Subnet","properties":{"addressPrefix":"10.0.0.0/24"}}]}},{"type":"Microsoft.Network/networkSecurityGroups","name":"conveniencevm1NSG","apiVersion":"2015-06-15","location":"westus","tags":{},"dependsOn":[]},{"apiVersion":"2018-01-01","type":"Microsoft.Network/publicIPAddresses","name":"conveniencevm1PublicIP","location":"westus","tags":{},"dependsOn":[],"properties":{"publicIPAllocationMethod":null}},{"apiVersion":"2015-06-15","type":"Microsoft.Network/networkInterfaces","name":"conveniencevm1VMNic","location":"westus","tags":{},"dependsOn":["Microsoft.Network/virtualNetworks/conveniencevm1VNET","Microsoft.Network/networkSecurityGroups/conveniencevm1NSG","Microsoft.Network/publicIpAddresses/conveniencevm1PublicIP"],"properties":{"ipConfigurations":[{"name":"ipconfigconveniencevm1","properties":{"privateIPAllocationMethod":"Dynamic","subnet":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_nic_convenience_test000001/providers/Microsoft.Network/virtualNetworks/conveniencevm1VNET/subnets/conveniencevm1Subnet"},"publicIPAddress":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_nic_convenience_test000001/providers/Microsoft.Network/publicIPAddresses/conveniencevm1PublicIP"}}}],"networkSecurityGroup":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_nic_convenience_test000001/providers/Microsoft.Network/networkSecurityGroups/conveniencevm1NSG"}}},{"apiVersion":"2020-12-01","type":"Microsoft.Compute/virtualMachines","name":"conveniencevm1","location":"westus","tags":{},"dependsOn":["Microsoft.Network/networkInterfaces/conveniencevm1VMNic"],"properties":{"hardwareProfile":{"vmSize":"Standard_DS1_v2"},"networkProfile":{"networkInterfaces":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_nic_convenience_test000001/providers/Microsoft.Network/networkInterfaces/conveniencevm1VMNic"}]},"storageProfile":{"osDisk":{"createOption":"fromImage","name":null,"caching":"ReadWrite","managedDisk":{"storageAccountType":null}},"imageReference":{"publisher":"Canonical","offer":"UbuntuServer","sku":"18.04-LTS","version":"latest"}},"osProfile":{"computerName":"conveniencevm1","adminUsername":"myusername","adminPassword":"[parameters('adminPassword')]"}}}],"outputs":{}},"parameters":{"adminPassword":{"value":"aBcD1234!@#$"}},"mode":"Incremental"}}
        requestHeaders:
          azure-asyncoperation: >-
            https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_nic_convenience_test000001/providers/Microsoft.Resources/deployments/vm_deploy_WI2hLchrDyeN9BaPbV3QpwSNiLoA0BtG/operationStatuses/08585874367840495240?api-version=2020-10-01
          cache-control: no-cache
          content-length: '2914'
          content-type: application/json; charset=utf-8
          date: Wed, 24 Feb 2021 12:35:04 GMT
          expires: '-1'
          pragma: no-cache
          strict-transport-security: max-age=31536000; includeSubDomains
          x-content-type-options: nosniff
          x-ms-ratelimit-remaining-subscription-writes: '1168'
        statusCode: 201
        responseExpected: >-
          {"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_nic_convenience_test000001/providers/Microsoft.Resources/deployments/vm_deploy_WI2hLchrDyeN9BaPbV3QpwSNiLoA0BtG","name":"vm_deploy_WI2hLchrDyeN9BaPbV3QpwSNiLoA0BtG","type":"Microsoft.Resources/deployments","properties":{"templateHash":"15445921600034627564","parameters":{"adminPassword":{"type":"SecureString"}},"mode":"Incremental","provisioningState":"Accepted","timestamp":"2021-02-24T12:35:03.5310483Z","duration":"PT2.1029372S","correlationId":"a6f1d268-1118-4496-bded-fa5e595912bd","providers":[{"namespace":"Microsoft.Network","resourceTypes":[{"resourceType":"virtualNetworks","locations":["westus"]},{"resourceType":"networkSecurityGroups","locations":["westus"]},{"resourceType":"publicIPAddresses","locations":["westus"]},{"resourceType":"networkInterfaces","locations":["westus"]}]},{"namespace":"Microsoft.Compute","resourceTypes":[{"resourceType":"virtualMachines","locations":["westus"]}]}],"dependencies":[{"dependsOn":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_nic_convenience_test000001/providers/Microsoft.Network/virtualNetworks/conveniencevm1VNET","resourceType":"Microsoft.Network/virtualNetworks","resourceName":"conveniencevm1VNET"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_nic_convenience_test000001/providers/Microsoft.Network/networkSecurityGroups/conveniencevm1NSG","resourceType":"Microsoft.Network/networkSecurityGroups","resourceName":"conveniencevm1NSG"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_nic_convenience_test000001/providers/Microsoft.Network/publicIPAddresses/conveniencevm1PublicIP","resourceType":"Microsoft.Network/publicIPAddresses","resourceName":"conveniencevm1PublicIP"}],"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_nic_convenience_test000001/providers/Microsoft.Network/networkInterfaces/conveniencevm1VMNic","resourceType":"Microsoft.Network/networkInterfaces","resourceName":"conveniencevm1VMNic"},{"dependsOn":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_nic_convenience_test000001/providers/Microsoft.Network/networkInterfaces/conveniencevm1VMNic","resourceType":"Microsoft.Network/networkInterfaces","resourceName":"conveniencevm1VMNic"}],"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_nic_convenience_test000001/providers/Microsoft.Compute/virtualMachines/conveniencevm1","resourceType":"Microsoft.Compute/virtualMachines","resourceName":"conveniencevm1"}]}}
      - step: RawStep_2122
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_nic_convenience_test000001/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08585874367840495240?api-version=2020-10-01
        requestHeaders:
          cache-control: no-cache
          content-length: '20'
          content-type: application/json; charset=utf-8
          date: Wed, 24 Feb 2021 12:35:35 GMT
          expires: '-1'
          pragma: no-cache
          strict-transport-security: max-age=31536000; includeSubDomains
          vary: Accept-Encoding
          x-content-type-options: nosniff
        responseExpected: '{"status":"Running"}'
      - step: RawStep_2123
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_nic_convenience_test000001/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08585874367840495240?api-version=2020-10-01
        requestHeaders:
          cache-control: no-cache
          content-length: '22'
          content-type: application/json; charset=utf-8
          date: Wed, 24 Feb 2021 12:36:05 GMT
          expires: '-1'
          pragma: no-cache
          strict-transport-security: max-age=31536000; includeSubDomains
          vary: Accept-Encoding
          x-content-type-options: nosniff
        responseExpected: '{"status":"Succeeded"}'
      - step: RawStep_2124
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_nic_convenience_test000001/providers/Microsoft.Resources/deployments/mock-deployment?api-version=2020-10-01
        requestHeaders:
          cache-control: no-cache
          content-length: '4034'
          content-type: application/json; charset=utf-8
          date: Wed, 24 Feb 2021 12:36:06 GMT
          expires: '-1'
          pragma: no-cache
          strict-transport-security: max-age=31536000; includeSubDomains
          vary: Accept-Encoding
          x-content-type-options: nosniff
        responseExpected: >-
          {"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_nic_convenience_test000001/providers/Microsoft.Resources/deployments/vm_deploy_WI2hLchrDyeN9BaPbV3QpwSNiLoA0BtG","name":"vm_deploy_WI2hLchrDyeN9BaPbV3QpwSNiLoA0BtG","type":"Microsoft.Resources/deployments","properties":{"templateHash":"15445921600034627564","parameters":{"adminPassword":{"type":"SecureString"}},"mode":"Incremental","provisioningState":"Succeeded","timestamp":"2021-02-24T12:35:40.7714383Z","duration":"PT39.3433272S","correlationId":"a6f1d268-1118-4496-bded-fa5e595912bd","providers":[{"namespace":"Microsoft.Network","resourceTypes":[{"resourceType":"virtualNetworks","locations":["westus"]},{"resourceType":"networkSecurityGroups","locations":["westus"]},{"resourceType":"publicIPAddresses","locations":["westus"]},{"resourceType":"networkInterfaces","locations":["westus"]}]},{"namespace":"Microsoft.Compute","resourceTypes":[{"resourceType":"virtualMachines","locations":["westus"]}]}],"dependencies":[{"dependsOn":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_nic_convenience_test000001/providers/Microsoft.Network/virtualNetworks/conveniencevm1VNET","resourceType":"Microsoft.Network/virtualNetworks","resourceName":"conveniencevm1VNET"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_nic_convenience_test000001/providers/Microsoft.Network/networkSecurityGroups/conveniencevm1NSG","resourceType":"Microsoft.Network/networkSecurityGroups","resourceName":"conveniencevm1NSG"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_nic_convenience_test000001/providers/Microsoft.Network/publicIPAddresses/conveniencevm1PublicIP","resourceType":"Microsoft.Network/publicIPAddresses","resourceName":"conveniencevm1PublicIP"}],"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_nic_convenience_test000001/providers/Microsoft.Network/networkInterfaces/conveniencevm1VMNic","resourceType":"Microsoft.Network/networkInterfaces","resourceName":"conveniencevm1VMNic"},{"dependsOn":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_nic_convenience_test000001/providers/Microsoft.Network/networkInterfaces/conveniencevm1VMNic","resourceType":"Microsoft.Network/networkInterfaces","resourceName":"conveniencevm1VMNic"}],"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_nic_convenience_test000001/providers/Microsoft.Compute/virtualMachines/conveniencevm1","resourceType":"Microsoft.Compute/virtualMachines","resourceName":"conveniencevm1"}],"outputs":{},"outputResources":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_nic_convenience_test000001/providers/Microsoft.Compute/virtualMachines/conveniencevm1"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_nic_convenience_test000001/providers/Microsoft.Network/networkInterfaces/conveniencevm1VMNic"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_nic_convenience_test000001/providers/Microsoft.Network/networkSecurityGroups/conveniencevm1NSG"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_nic_convenience_test000001/providers/Microsoft.Network/publicIPAddresses/conveniencevm1PublicIP"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_nic_convenience_test000001/providers/Microsoft.Network/virtualNetworks/conveniencevm1VNET"}]}}
      - step: RawStep_2125
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_nic_convenience_test000001/providers/Microsoft.Compute/virtualMachines/conveniencevm1?$expand=instanceView&api-version=2020-12-01
        requestHeaders:
          cache-control: no-cache
          content-length: '3342'
          content-type: application/json; charset=utf-8
          date: Wed, 24 Feb 2021 12:36:08 GMT
          expires: '-1'
          pragma: no-cache
          server: Microsoft-HTTPAPI/2.0 Microsoft-HTTPAPI/2.0
          strict-transport-security: max-age=31536000; includeSubDomains
          transfer-encoding: chunked
          vary: Accept-Encoding
          x-content-type-options: nosniff
          x-ms-ratelimit-remaining-resource: >-
            Microsoft.Compute/LowCostGet3Min;3993,Microsoft.Compute/LowCostGet30Min;31944
        responseExpected: >-
          {"name":"conveniencevm1","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_nic_convenience_test000001/providers/Microsoft.Compute/virtualMachines/conveniencevm1","type":"Microsoft.Compute/virtualMachines","location":"westus","tags":{},"properties":{"vmId":"edb1d296-9575-4623-9632-251ff2a81dcf","hardwareProfile":{"vmSize":"Standard_DS1_v2"},"storageProfile":{"imageReference":{"publisher":"Canonical","offer":"UbuntuServer","sku":"18.04-LTS","version":"latest","exactVersion":"18.04.202101290"},"osDisk":{"osType":"Linux","name":"conveniencevm1_disk1_fc9a4e1079054eed84df7ac1ee216c34","createOption":"FromImage","caching":"ReadWrite","managedDisk":{"storageAccountType":"Premium_LRS","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_nic_convenience_test000001/providers/Microsoft.Compute/disks/conveniencevm1_disk1_fc9a4e1079054eed84df7ac1ee216c34"},"diskSizeGB":30},"dataDisks":[]},"osProfile":{"computerName":"conveniencevm1","adminUsername":"myusername","linuxConfiguration":{"disablePasswordAuthentication":false,"provisionVMAgent":true,"patchSettings":{"patchMode":"ImageDefault"}},"secrets":[],"allowExtensionOperations":true,"requireGuestProvisionSignal":true},"networkProfile":{"networkInterfaces":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_nic_convenience_test000001/providers/Microsoft.Network/networkInterfaces/conveniencevm1VMNic"}]},"provisioningState":"Succeeded","instanceView":{"computerName":"conveniencevm1","osName":"ubuntu","osVersion":"18.04","vmAgent":{"vmAgentVersion":"2.2.53.1","statuses":[{"code":"ProvisioningState/succeeded","level":"Info","displayStatus":"Ready","message":"Guest
          Agent is
          running","time":"2021-02-24T12:36:03+00:00"}],"extensionHandlers":[]},"disks":[{"name":"conveniencevm1_disk1_fc9a4e1079054eed84df7ac1ee216c34","statuses":[{"code":"ProvisioningState/succeeded","level":"Info","displayStatus":"Provisioning
          succeeded","time":"2021-02-24T12:35:22.3684177+00:00"}]}],"hyperVGeneration":"V1","statuses":[{"code":"ProvisioningState/succeeded","level":"Info","displayStatus":"Provisioning
          succeeded","time":"2021-02-24T12:35:38.1656575+00:00"},{"code":"PowerState/running","level":"Info","displayStatus":"VM
          running"}]}}}
      - step: RawStep_2126
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_nic_convenience_test000001/providers/Microsoft.Network/networkInterfaces/conveniencevm1VMNic?api-version=2018-01-01
        requestHeaders:
          cache-control: no-cache
          content-length: '2678'
          content-type: application/json; charset=utf-8
          date: Wed, 24 Feb 2021 12:36:08 GMT
          etag: W/"94f05cfc-77a3-4f73-a359-21ff23858e86"
          expires: '-1'
          pragma: no-cache
          server: Microsoft-HTTPAPI/2.0 Microsoft-HTTPAPI/2.0
          strict-transport-security: max-age=31536000; includeSubDomains
          transfer-encoding: chunked
          vary: Accept-Encoding
          x-content-type-options: nosniff
          x-ms-arm-service-request-id: 4d9a0f10-9f78-4e94-9df2-d04b8742e404
        responseExpected: >-
          {"name":"conveniencevm1VMNic","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_nic_convenience_test000001/providers/Microsoft.Network/networkInterfaces/conveniencevm1VMNic","etag":"W/\"94f05cfc-77a3-4f73-a359-21ff23858e86\"","location":"westus","tags":{},"properties":{"provisioningState":"Succeeded","resourceGuid":"d00f02d7-7f71-443d-8682-d291f3c6fecf","ipConfigurations":[{"name":"ipconfigconveniencevm1","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_nic_convenience_test000001/providers/Microsoft.Network/networkInterfaces/conveniencevm1VMNic/ipConfigurations/ipconfigconveniencevm1","etag":"W/\"94f05cfc-77a3-4f73-a359-21ff23858e86\"","type":"Microsoft.Network/networkInterfaces/ipConfigurations","properties":{"provisioningState":"Succeeded","privateIPAddress":"10.0.0.4","privateIPAllocationMethod":"Dynamic","publicIPAddress":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_nic_convenience_test000001/providers/Microsoft.Network/publicIPAddresses/conveniencevm1PublicIP"},"subnet":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_nic_convenience_test000001/providers/Microsoft.Network/virtualNetworks/conveniencevm1VNET/subnets/conveniencevm1Subnet"},"primary":true,"privateIPAddressVersion":"IPv4"}}],"dnsSettings":{"dnsServers":[],"appliedDnsServers":[],"internalDomainNameSuffix":"eufcfgd13u0ulngbwwhvvj5wih.dx.internal.cloudapp.net"},"macAddress":"00-22-48-05-D4-DB","enableAcceleratedNetworking":false,"enableIPForwarding":false,"networkSecurityGroup":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_nic_convenience_test000001/providers/Microsoft.Network/networkSecurityGroups/conveniencevm1NSG"},"primary":true,"virtualMachine":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_nic_convenience_test000001/providers/Microsoft.Compute/virtualMachines/conveniencevm1"}},"type":"Microsoft.Network/networkInterfaces"}
      - step: RawStep_2127
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_nic_convenience_test000001/providers/Microsoft.Network/publicIPAddresses/conveniencevm1PublicIP?api-version=2018-01-01
        requestHeaders:
          cache-control: no-cache
          content-length: '1041'
          content-type: application/json; charset=utf-8
          date: Wed, 24 Feb 2021 12:36:09 GMT
          etag: W/"eb499e6e-5444-49d1-b4e5-5bbbe15f970f"
          expires: '-1'
          pragma: no-cache
          server: Microsoft-HTTPAPI/2.0 Microsoft-HTTPAPI/2.0
          strict-transport-security: max-age=31536000; includeSubDomains
          transfer-encoding: chunked
          vary: Accept-Encoding
          x-content-type-options: nosniff
          x-ms-arm-service-request-id: d955883d-c89c-43e6-b4b6-4f6d0429bbe4
        responseExpected: >-
          {"name":"conveniencevm1PublicIP","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_nic_convenience_test000001/providers/Microsoft.Network/publicIPAddresses/conveniencevm1PublicIP","etag":"W/\"eb499e6e-5444-49d1-b4e5-5bbbe15f970f\"","location":"westus","tags":{},"properties":{"provisioningState":"Succeeded","resourceGuid":"b7e73cf8-52f5-4771-bc13-0841f2c0c3e0","ipAddress":"13.88.159.173","publicIPAddressVersion":"IPv4","publicIPAllocationMethod":"Dynamic","idleTimeoutInMinutes":4,"ipTags":[],"ipConfiguration":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_nic_convenience_test000001/providers/Microsoft.Network/networkInterfaces/conveniencevm1VMNic/ipConfigurations/ipconfigconveniencevm1"}},"type":"Microsoft.Network/publicIPAddresses","sku":{"name":"Basic"}}
      - step: RawStep_2128
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_nic_convenience_test000001/providers/Microsoft.Compute/virtualMachines/conveniencevm1?api-version=2020-12-01
        requestHeaders:
          cache-control: no-cache
          content-length: '2029'
          content-type: application/json; charset=utf-8
          date: Wed, 24 Feb 2021 12:36:09 GMT
          expires: '-1'
          pragma: no-cache
          server: Microsoft-HTTPAPI/2.0 Microsoft-HTTPAPI/2.0
          strict-transport-security: max-age=31536000; includeSubDomains
          transfer-encoding: chunked
          vary: Accept-Encoding
          x-content-type-options: nosniff
          x-ms-ratelimit-remaining-resource: >-
            Microsoft.Compute/LowCostGet3Min;3992,Microsoft.Compute/LowCostGet30Min;31943
        responseExpected: >-
          {"name":"conveniencevm1","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_nic_convenience_test000001/providers/Microsoft.Compute/virtualMachines/conveniencevm1","type":"Microsoft.Compute/virtualMachines","location":"westus","tags":{},"properties":{"vmId":"edb1d296-9575-4623-9632-251ff2a81dcf","hardwareProfile":{"vmSize":"Standard_DS1_v2"},"storageProfile":{"imageReference":{"publisher":"Canonical","offer":"UbuntuServer","sku":"18.04-LTS","version":"latest","exactVersion":"18.04.202101290"},"osDisk":{"osType":"Linux","name":"conveniencevm1_disk1_fc9a4e1079054eed84df7ac1ee216c34","createOption":"FromImage","caching":"ReadWrite","managedDisk":{"storageAccountType":"Premium_LRS","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_nic_convenience_test000001/providers/Microsoft.Compute/disks/conveniencevm1_disk1_fc9a4e1079054eed84df7ac1ee216c34"},"diskSizeGB":30},"dataDisks":[]},"osProfile":{"computerName":"conveniencevm1","adminUsername":"myusername","linuxConfiguration":{"disablePasswordAuthentication":false,"provisionVMAgent":true,"patchSettings":{"patchMode":"ImageDefault"}},"secrets":[],"allowExtensionOperations":true,"requireGuestProvisionSignal":true},"networkProfile":{"networkInterfaces":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_nic_convenience_test000001/providers/Microsoft.Network/networkInterfaces/conveniencevm1VMNic"}]},"provisioningState":"Succeeded"}}
      - step: NetworkInterfaces_ListEffectiveNetworkSecurityGroups_2129
        exampleFile: >-
          ../examples/NetworkInterfaces_ListEffectiveNetworkSecurityGroups_2129_Generated.json
        operationId: NetworkInterfaces_ListEffectiveNetworkSecurityGroups
      - step: NetworkInterfaces_GetEffectiveRouteTable_2130
        exampleFile: >-
          ../examples/NetworkInterfaces_GetEffectiveRouteTable_2130_Generated.json
        operationId: NetworkInterfaces_GetEffectiveRouteTable
    variables:
      networkInterfaceName: conveniencevm1VMNic
