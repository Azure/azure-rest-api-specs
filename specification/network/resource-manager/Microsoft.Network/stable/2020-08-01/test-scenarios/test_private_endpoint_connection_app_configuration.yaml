scope: ResourceGroup
testScenarios:
  - description: test_private_endpoint_connection_app_configuration
    steps:
      - step: RawStep_3123
        method: POST
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Resources/deployments/mock-deployment/validate?api-version=2020-10-01
        requestBody: "{\"properties\": {\"parameters\": {\"target_resource_name\": {\"value\": \"clitestappconfig\"}}, \"mode\": \"Incremental\", template:{\r\n    \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n    \"contentVersion\": \"1.0.0.0\",\r\n    \"parameters\": {\r\n        \"target_resource_name\": {\r\n            \"defaultValue\": \"ernestt-appconfig-privatelink\",\r\n            \"type\": \"String\"\r\n        }\r\n    },\r\n    \"variables\": {},\r\n    \"resources\": [\r\n        {\r\n            \"type\": \"Microsoft.AppConfiguration/configurationStores\",\r\n            \"apiVersion\": \"2020-06-01\",\r\n            \"name\": \"[parameters('target_resource_name')]\",\r\n            \"location\": \"westus\",\r\n            \"sku\": {\r\n                \"name\": \"standard\"\r\n            },\r\n            \"properties\": {\r\n                \"encryption\": {}\r\n            }\r\n        }\r\n    ]\r\n}}}"
        requestHeaders:
          cache-control: no-cache
          content-length: '1043'
          content-type: application/json; charset=utf-8
          date: Wed, 24 Feb 2021 12:22:35 GMT
          expires: '-1'
          pragma: no-cache
          strict-transport-security: max-age=31536000; includeSubDomains
          transfer-encoding: chunked
          vary: Accept-Encoding
          x-content-type-options: nosniff
          x-ms-ratelimit-remaining-subscription-writes: '1198'
        responseExpected: >-
          {"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Resources/deployments/appconfiguration_configurationstores_template","name":"appconfiguration_configurationstores_template","type":"Microsoft.Resources/deployments","properties":{"templateHash":"7483349641174567162","parameters":{"target_resource_name":{"type":"String","value":"clitestappconfig"}},"mode":"Incremental","provisioningState":"Succeeded","timestamp":"2021-02-24T12:22:35.8744364Z","duration":"PT0S","correlationId":"1da0b7b5-df6c-49b0-b16d-2a1004c70443","providers":[{"namespace":"Microsoft.AppConfiguration","resourceTypes":[{"resourceType":"configurationStores","locations":["westus"]}]}],"dependencies":[],"validatedResources":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.AppConfiguration/configurationStores/clitestappconfig"}]}}
      - step: RawStep_3124
        method: PUT
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Resources/deployments/mock-deployment?api-version=2020-10-01
        requestBody: "{\"properties\": {\"parameters\": {\"target_resource_name\": {\"value\": \"clitestappconfig\"}}, \"mode\": \"Incremental\", template:{\r\n    \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n    \"contentVersion\": \"1.0.0.0\",\r\n    \"parameters\": {\r\n        \"target_resource_name\": {\r\n            \"defaultValue\": \"ernestt-appconfig-privatelink\",\r\n            \"type\": \"String\"\r\n        }\r\n    },\r\n    \"variables\": {},\r\n    \"resources\": [\r\n        {\r\n            \"type\": \"Microsoft.AppConfiguration/configurationStores\",\r\n            \"apiVersion\": \"2020-06-01\",\r\n            \"name\": \"[parameters('target_resource_name')]\",\r\n            \"location\": \"westus\",\r\n            \"sku\": {\r\n                \"name\": \"standard\"\r\n            },\r\n            \"properties\": {\r\n                \"encryption\": {}\r\n            }\r\n        }\r\n    ]\r\n}}}"
        requestHeaders:
          azure-asyncoperation: >-
            https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Resources/deployments/appconfiguration_configurationstores_template/operationStatuses/08585874375283724586?api-version=2020-10-01
          cache-control: no-cache
          content-length: '801'
          content-type: application/json; charset=utf-8
          date: Wed, 24 Feb 2021 12:22:39 GMT
          expires: '-1'
          pragma: no-cache
          strict-transport-security: max-age=31536000; includeSubDomains
          x-content-type-options: nosniff
          x-ms-ratelimit-remaining-subscription-writes: '1171'
        statusCode: 201
        responseExpected: >-
          {"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Resources/deployments/appconfiguration_configurationstores_template","name":"appconfiguration_configurationstores_template","type":"Microsoft.Resources/deployments","properties":{"templateHash":"7483349641174567162","parameters":{"target_resource_name":{"type":"String","value":"clitestappconfig"}},"mode":"Incremental","provisioningState":"Accepted","timestamp":"2021-02-24T12:22:38.7510898Z","duration":"PT1.6459344S","correlationId":"b49a05c9-4721-4305-842c-c2de1471a7ae","providers":[{"namespace":"Microsoft.AppConfiguration","resourceTypes":[{"resourceType":"configurationStores","locations":["westus"]}]}],"dependencies":[]}}
      - step: RawStep_3125
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08585874375283724586?api-version=2020-10-01
        requestHeaders:
          cache-control: no-cache
          content-length: '22'
          content-type: application/json; charset=utf-8
          date: Wed, 24 Feb 2021 12:23:10 GMT
          expires: '-1'
          pragma: no-cache
          strict-transport-security: max-age=31536000; includeSubDomains
          vary: Accept-Encoding
          x-content-type-options: nosniff
        responseExpected: '{"status":"Succeeded"}'
      - step: RawStep_3126
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Resources/deployments/mock-deployment?api-version=2020-10-01
        requestHeaders:
          cache-control: no-cache
          content-length: '1049'
          content-type: application/json; charset=utf-8
          date: Wed, 24 Feb 2021 12:23:10 GMT
          expires: '-1'
          pragma: no-cache
          strict-transport-security: max-age=31536000; includeSubDomains
          vary: Accept-Encoding
          x-content-type-options: nosniff
        responseExpected: >-
          {"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Resources/deployments/appconfiguration_configurationstores_template","name":"appconfiguration_configurationstores_template","type":"Microsoft.Resources/deployments","properties":{"templateHash":"7483349641174567162","parameters":{"target_resource_name":{"type":"String","value":"clitestappconfig"}},"mode":"Incremental","provisioningState":"Succeeded","timestamp":"2021-02-24T12:22:59.9988557Z","duration":"PT22.8937003S","correlationId":"b49a05c9-4721-4305-842c-c2de1471a7ae","providers":[{"namespace":"Microsoft.AppConfiguration","resourceTypes":[{"resourceType":"configurationStores","locations":["westus"]}]}],"dependencies":[],"outputResources":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.AppConfiguration/configurationStores/clitestappconfig"}]}}
      - step: RawStep_3127
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2020-10-01
        requestHeaders:
          cache-control: no-cache
          content-length: '429'
          content-type: application/json; charset=utf-8
          date: Wed, 24 Feb 2021 12:23:12 GMT
          expires: '-1'
          pragma: no-cache
          strict-transport-security: max-age=31536000; includeSubDomains
          vary: Accept-Encoding
          x-content-type-options: nosniff
        responseExpected: >-
          {"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","type":"Microsoft.Resources/resourceGroups","location":"westus2","tags":{"product":"azurecli","cause":"automation","date":"2021-02-24T12:22:31Z"},"properties":{"provisioningState":"Succeeded"}}
      - step: Create_virtualNetworks_cli-vnet-000002
        resourceName: virtualNetworks_cli-vnet-000002
        exampleFile: ../examples/Create_virtualNetworks_cli-vnet-000002_Generated.json
        operationId: VirtualNetworks_CreateOrUpdate
      - step: Subnets_Get_3129
        exampleFile: ../examples/Subnets_Get_4_Generated.json
        operationId: Subnets_Get
      - step: Create_subnets_cli-subnet-000003
        resourceName: subnets_cli-subnet-000003
        exampleFile: >-
          ../examples/Create_subnets_appgw_private_endpoint_subnet_Generated.json
        operationId: Subnets_CreateOrUpdate
      - step: RawStep_3131
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.AppConfiguration/configurationStores/clitestappconfig/privateLinkResources?api-version=2020-06-01
        requestHeaders:
          cache-control: no-cache
          content-length: '536'
          content-type: application/json; charset=utf-8
          date: Wed, 24 Feb 2021 12:23:28 GMT
          expires: '-1'
          pragma: no-cache
          server: nginx/1.17.10
          strict-transport-security: max-age=31536000; includeSubDomains
          transfer-encoding: chunked
          vary: Accept-Encoding,Accept-Encoding
          x-content-type-options: nosniff
        responseExpected: >-
          {"value":[{"id":"subscriptions/0b1f6471-1bf0-4dda-aec3-cb9272f09590/resourceGroups/clitest.rg000001/providers/Microsoft.AppConfiguration/configurationStores/clitestappconfig/privateLinkResources/configurationStores","name":"configurationStores","type":"Microsoft.AppConfiguration/configurationStores/privateLinkResources","properties":{"groupId":"configurationStores","requiredMembers":["configurationStores"],"requiredZoneNames":["privatelink.azconfig.io"]}}],"nextLink":null}
      - step: RawStep_3132
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2020-10-01
        requestHeaders:
          cache-control: no-cache
          content-length: '429'
          content-type: application/json; charset=utf-8
          date: Wed, 24 Feb 2021 12:23:29 GMT
          expires: '-1'
          pragma: no-cache
          strict-transport-security: max-age=31536000; includeSubDomains
          vary: Accept-Encoding
          x-content-type-options: nosniff
        responseExpected: >-
          {"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","type":"Microsoft.Resources/resourceGroups","location":"westus2","tags":{"product":"azurecli","cause":"automation","date":"2021-02-24T12:22:31Z"},"properties":{"provisioningState":"Succeeded"}}
      - step: Create_privateEndpoints_cli-pe-000004
        resourceName: privateEndpoints_cli-pe-000004
        exampleFile: ../examples/Create_privateEndpoints_cli-pe-000004_Generated.json
        operationId: PrivateEndpoints_CreateOrUpdate
      - step: RawStep_3134
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.AppConfiguration/configurationStores/clitestappconfig/privateEndpointConnections?api-version=2020-06-01
        requestHeaders:
          cache-control: no-cache
          content-length: '797'
          content-type: application/json; charset=utf-8
          date: Wed, 24 Feb 2021 12:23:48 GMT
          expires: '-1'
          pragma: no-cache
          server: nginx/1.17.10
          strict-transport-security: max-age=31536000; includeSubDomains
          transfer-encoding: chunked
          vary: Accept-Encoding,Accept-Encoding
          x-content-type-options: nosniff
        responseExpected: >-
          {"value":[{"type":"Microsoft.AppConfiguration/configurationStores/privateEndpointConnections","properties":{"provisioningState":"Succeeded","privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/cli-pe-000004"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.AppConfiguration/configurationStores/clitestappconfig/privateEndpointConnections/cli-pec-000005","name":"cli-pec-000005"}],"nextLink":null}
      - step: RawStep_3135
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.AppConfiguration/configurationStores/clitestappconfig/privateEndpointConnections/cli-pec-000005?api-version=2020-06-01
        requestHeaders:
          cache-control: no-cache
          content-length: '769'
          content-type: application/json; charset=utf-8
          date: Wed, 24 Feb 2021 12:23:49 GMT
          expires: '-1'
          pragma: no-cache
          server: nginx/1.17.10
          strict-transport-security: max-age=31536000; includeSubDomains
          transfer-encoding: chunked
          vary: Accept-Encoding,Accept-Encoding
          x-content-type-options: nosniff
        responseExpected: >-
          {"type":"Microsoft.AppConfiguration/configurationStores/privateEndpointConnections","properties":{"provisioningState":"Succeeded","privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/cli-pe-000004"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.AppConfiguration/configurationStores/clitestappconfig/privateEndpointConnections/cli-pec-000005","name":"cli-pec-000005"}
      - step: RawStep_3136
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.AppConfiguration/configurationStores/clitestappconfig/privateEndpointConnections/cli-pec-000005?api-version=2020-06-01
        requestHeaders:
          cache-control: no-cache
          content-length: '769'
          content-type: application/json; charset=utf-8
          date: Wed, 24 Feb 2021 12:23:50 GMT
          expires: '-1'
          pragma: no-cache
          server: nginx/1.17.10
          strict-transport-security: max-age=31536000; includeSubDomains
          transfer-encoding: chunked
          vary: Accept-Encoding,Accept-Encoding
          x-content-type-options: nosniff
        responseExpected: >-
          {"type":"Microsoft.AppConfiguration/configurationStores/privateEndpointConnections","properties":{"provisioningState":"Succeeded","privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/cli-pe-000004"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.AppConfiguration/configurationStores/clitestappconfig/privateEndpointConnections/cli-pec-000005","name":"cli-pec-000005"}
      - step: RawStep_3137
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.AppConfiguration/configurationStores/clitestappconfig/privateEndpointConnections/cli-pec-000005?api-version=2020-06-01
        requestHeaders:
          cache-control: no-cache
          content-length: '769'
          content-type: application/json; charset=utf-8
          date: Wed, 24 Feb 2021 12:23:51 GMT
          expires: '-1'
          pragma: no-cache
          server: nginx/1.17.10
          strict-transport-security: max-age=31536000; includeSubDomains
          transfer-encoding: chunked
          vary: Accept-Encoding,Accept-Encoding
          x-content-type-options: nosniff
        responseExpected: >-
          {"type":"Microsoft.AppConfiguration/configurationStores/privateEndpointConnections","properties":{"provisioningState":"Succeeded","privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/cli-pe-000004"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.AppConfiguration/configurationStores/clitestappconfig/privateEndpointConnections/cli-pec-000005","name":"cli-pec-000005"}
      - step: RawStep_3138
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.AppConfiguration/configurationStores/clitestappconfig/privateEndpointConnections/cli-pec-000005?api-version=2020-06-01
        requestHeaders:
          cache-control: no-cache
          content-length: '769'
          content-type: application/json; charset=utf-8
          date: Wed, 24 Feb 2021 12:23:51 GMT
          expires: '-1'
          pragma: no-cache
          server: nginx/1.17.10
          strict-transport-security: max-age=31536000; includeSubDomains
          transfer-encoding: chunked
          vary: Accept-Encoding,Accept-Encoding
          x-content-type-options: nosniff
        responseExpected: >-
          {"type":"Microsoft.AppConfiguration/configurationStores/privateEndpointConnections","properties":{"provisioningState":"Succeeded","privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/cli-pe-000004"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.AppConfiguration/configurationStores/clitestappconfig/privateEndpointConnections/cli-pec-000005","name":"cli-pec-000005"}
      - step: RawStep_3139
        method: PUT
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.AppConfiguration/configurationStores/clitestappconfig/privateEndpointConnections/cli-pec-000005?api-version=2020-06-01
        requestBody: >-
          {"type":"Microsoft.AppConfiguration/configurationStores/privateEndpointConnections","properties":{"provisioningState":"Succeeded","privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/cli-pe-000004"},"privateLinkServiceConnectionState":{"status":"Approved","description":"You
          are
          approved!"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.AppConfiguration/configurationStores/clitestappconfig/privateEndpointConnections/cli-pec-000005","name":"cli-pec-000005"}
        requestHeaders:
          azure-asyncoperation: >-
            https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.AppConfiguration/locations/westus/operationsStatus/998cea8a-6c6a-bcd3-2bee-b71d279950c6?api-version=2020-06-01
          cache-control: no-cache
          content-length: '555'
          content-type: application/json; charset=utf-8
          date: Wed, 24 Feb 2021 12:23:52 GMT
          expires: '-1'
          pragma: no-cache
          server: nginx/1.17.10
          strict-transport-security: max-age=31536000; includeSubDomains
          x-content-type-options: nosniff
          x-ms-ratelimit-remaining-subscription-writes: '1183'
        statusCode: 201
        responseExpected: >-
          {"type":"Microsoft.AppConfiguration/configurationStores/privateEndpointConnections","properties":{"provisioningState":"Updating","privateEndpoint":null,"privateLinkServiceConnectionState":{"status":"Approved","description":"You
          are
          approved!"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.AppConfiguration/configurationStores/clitestappconfig/privateEndpointConnections/cli-pec-000005","name":"cli-pec-000005"}
      - step: RawStep_3140
        method: PUT
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.AppConfiguration/configurationStores/clitestappconfig/privateEndpointConnections/cli-pec-000005?api-version=2020-06-01
        requestBody: >-
          {"type":"Microsoft.AppConfiguration/configurationStores/privateEndpointConnections","properties":{"provisioningState":"Succeeded","privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/cli-pe-000004"},"privateLinkServiceConnectionState":{"status":"Rejected","description":"You
          are
          rejected!"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.AppConfiguration/configurationStores/clitestappconfig/privateEndpointConnections/cli-pec-000005","name":"cli-pec-000005"}
        requestHeaders:
          azure-asyncoperation: >-
            https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.AppConfiguration/locations/westus/operationsStatus/bb3a7c23-7031-4763-8719-9aad8dd204be?api-version=2020-06-01
          cache-control: no-cache
          content-length: '555'
          content-type: application/json; charset=utf-8
          date: Wed, 24 Feb 2021 12:24:04 GMT
          expires: '-1'
          pragma: no-cache
          server: nginx/1.17.10
          strict-transport-security: max-age=31536000; includeSubDomains
          x-content-type-options: nosniff
          x-ms-ratelimit-remaining-subscription-writes: '1172'
        statusCode: 201
        responseExpected: >-
          {"type":"Microsoft.AppConfiguration/configurationStores/privateEndpointConnections","properties":{"provisioningState":"Updating","privateEndpoint":null,"privateLinkServiceConnectionState":{"status":"Rejected","description":"You
          are
          rejected!"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.AppConfiguration/configurationStores/clitestappconfig/privateEndpointConnections/cli-pec-000005","name":"cli-pec-000005"}
      - step: RawStep_3141
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.AppConfiguration/configurationStores/clitestappconfig/privateEndpointConnections?api-version=2020-06-01
        requestHeaders:
          cache-control: no-cache
          content-length: '801'
          content-type: application/json; charset=utf-8
          date: Wed, 24 Feb 2021 12:24:16 GMT
          expires: '-1'
          pragma: no-cache
          server: nginx/1.17.10
          strict-transport-security: max-age=31536000; includeSubDomains
          transfer-encoding: chunked
          vary: Accept-Encoding,Accept-Encoding
          x-content-type-options: nosniff
        responseExpected: >-
          {"value":[{"type":"Microsoft.AppConfiguration/configurationStores/privateEndpointConnections","properties":{"provisioningState":"Succeeded","privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/cli-pe-000004"},"privateLinkServiceConnectionState":{"status":"Rejected","description":"You
          are
          rejected!"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.AppConfiguration/configurationStores/clitestappconfig/privateEndpointConnections/cli-pec-000005","name":"cli-pec-000005"}],"nextLink":null}
      - step: RawStep_3142
        method: DELETE
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.AppConfiguration/configurationStores/clitestappconfig/privateEndpointConnections/cli-pec-000005?api-version=2020-06-01
        requestHeaders:
          azure-asyncoperation: >-
            https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.AppConfiguration/locations/westus/operationsStatus/1ce4d59a-76d1-e77f-ac36-a2f2d71184ca?api-version=2020-06-01
          cache-control: no-cache
          content-length: '238'
          content-type: application/json; charset=utf-8
          date: Wed, 24 Feb 2021 12:24:17 GMT
          expires: '-1'
          pragma: no-cache
          server: nginx/1.17.10
          strict-transport-security: max-age=31536000; includeSubDomains
          x-content-type-options: nosniff
          x-ms-ratelimit-remaining-subscription-deletes: '14997'
        statusCode: 202
        responseExpected: >-
          {"type":"Microsoft.AppConfiguration/configurationStores/privateEndpointConnections","properties":{"provisioningState":"Deleting","privateEndpoint":null,"privateLinkServiceConnectionState":null},"id":null,"name":"cli-pec-000005"}
    variables:
      virtualNetworkName: cli-vnet-000002
      subnetName: cli-subnet-000003
      privateEndpointName: cli-pe-000004
