scope: ResourceGroup
testScenarios:
  - description: test_dns_alias
    steps:
      - step: RawStep_138
        method: PUT
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_dns_alias000001/providers/Microsoft.Network/dnsZones/mytestzone1.com?api-version=2018-05-01
        requestBody: '{"location":"global","properties":{"zoneType":"Public"}}'
        requestHeaders:
          cache-control: private
          content-length: '624'
          content-type: application/json; charset=utf-8
          date: Mon, 08 Feb 2021 07:42:31 GMT
          etag: 00000002-0000-0000-53db-7af4edfdd601
          server: Microsoft-IIS/10.0
          strict-transport-security: max-age=31536000; includeSubDomains
          x-content-type-options: nosniff
          x-ms-ratelimit-remaining-subscription-resource-requests: '11997'
          x-powered-by: ASP.NET
        statusCode: 201
        responseExpected: >-
          {"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_dns_alias000001/providers/Microsoft.Network/dnszones/mytestzone1.com","name":"mytestzone1.com","type":"Microsoft.Network/dnszones","etag":"00000002-0000-0000-53db-7af4edfdd601","location":"global","tags":{},"properties":{"maxNumberOfRecordSets":10000,"maxNumberOfRecordsPerRecordSet":null,"nameServers":["ns1-03.azure-dns.com.","ns2-03.azure-dns.net.","ns3-03.azure-dns.org.","ns4-03.azure-dns.info."],"numberOfRecordSets":2,"serveRecordsBelowDelegation":null,"zoneType":"Public"}}
      - step: RawStep_139
        method: PUT
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_dns_alias000001/providers/Microsoft.Network/trafficmanagerprofiles/tm1?api-version=2018-04-01
        requestBody: >-
          {"location":"global","properties":{"profileStatus":"Enabled","trafficRoutingMethod":"Geographic","dnsConfig":{"relativeName":"mytesttrafficmanager12","ttl":30},"monitorConfig":{"protocol":"HTTP","port":80,"path":"/"}}}
        requestHeaders:
          cache-control: private
          content-length: '712'
          content-type: application/json; charset=utf-8
          date: Mon, 08 Feb 2021 07:42:35 GMT
          server: Microsoft-IIS/10.0
          strict-transport-security: max-age=31536000; includeSubDomains
          x-aspnet-version: 4.0.30319
          x-content-type-options: nosniff
          x-ms-ratelimit-remaining-subscription-resource-requests: '10798'
          x-powered-by: ASP.NET
        statusCode: 201
        responseExpected: >-
          {"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_dns_alias000001/providers/Microsoft.Network/trafficManagerProfiles/tm1","name":"tm1","type":"Microsoft.Network/trafficManagerProfiles","location":"global","properties":{"profileStatus":"Enabled","trafficRoutingMethod":"Geographic","dnsConfig":{"relativeName":"mytesttrafficmanager12","fqdn":"mytesttrafficmanager12.trafficmanager.net","ttl":30},"monitorConfig":{"profileMonitorStatus":"Inactive","protocol":"HTTP","port":80,"path":"/","intervalInSeconds":30,"toleratedNumberOfFailures":3,"timeoutInSeconds":10},"endpoints":[],"trafficViewEnrollmentStatus":"Disabled"}}
      - step: RawStep_140
        method: PUT
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_dns_alias000001/providers/Microsoft.Network/dnsZones/mytestzone1.com/A/a1?api-version=2018-05-01
        requestBody: >-
          {"properties":{"TTL":3600,"targetResource":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_dns_alias000001/providers/Microsoft.Network/trafficManagerProfiles/tm1"}}}
        requestHeaders:
          cache-control: private
          content-length: '634'
          content-type: application/json; charset=utf-8
          date: Mon, 08 Feb 2021 07:42:42 GMT
          etag: 2cca77bf-beda-44dc-87fe-8a2d4076fa22
          server: Microsoft-IIS/10.0
          strict-transport-security: max-age=31536000; includeSubDomains
          x-content-type-options: nosniff
          x-ms-ratelimit-remaining-subscription-resource-requests: '11989'
          x-powered-by: ASP.NET
        statusCode: 201
        responseExpected: >-
          {"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_dns_alias000001/providers/Microsoft.Network/dnszones/mytestzone1.com/A/a1","name":"a1","type":"Microsoft.Network/dnszones/A","etag":"2cca77bf-beda-44dc-87fe-8a2d4076fa22","properties":{"fqdn":"a1.mytestzone1.com.","TTL":30,"targetResource":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_dns_alias000001/providers/Microsoft.Network/trafficManagerProfiles/tm1"},"provisioningState":"Succeeded"}}
      - step: RawStep_141
        method: PUT
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_dns_alias000001/providers/Microsoft.Network/dnsZones/mytestzone1.com/A/a1?api-version=2018-05-01
        requestBody: >-
          {"etag":"2cca77bf-beda-44dc-87fe-8a2d4076fa22","properties":{"TTL":30}}
        requestHeaders:
          cache-control: private
          content-length: '436'
          content-type: application/json; charset=utf-8
          date: Mon, 08 Feb 2021 07:42:51 GMT
          etag: d8d40aba-8de7-47c8-8f91-671f5fbfce32
          server: Microsoft-IIS/10.0
          strict-transport-security: max-age=31536000; includeSubDomains
          transfer-encoding: chunked
          vary: Accept-Encoding
          x-content-type-options: nosniff
          x-ms-ratelimit-remaining-subscription-resource-requests: '11987'
          x-powered-by: ASP.NET
        responseExpected: >-
          {"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_dns_alias000001/providers/Microsoft.Network/dnszones/mytestzone1.com/A/a1","name":"a1","type":"Microsoft.Network/dnszones/A","etag":"d8d40aba-8de7-47c8-8f91-671f5fbfce32","properties":{"fqdn":"a1.mytestzone1.com.","TTL":30,"ARecords":[],"targetResource":{},"provisioningState":"Succeeded"}}
