{
  "parameters": {
    "api-version": "2024-04-01",
    "mobileNetworkName": "testMobileNetwork",
    "parameters": {
      "location": "eastus",
      "properties": {
        "pccRules": [
          {
            "ruleName": "default-rule",
            "rulePrecedence": 255,
            "ruleQosPolicy": {
              "5qi": 9,
              "allocationAndRetentionPriorityLevel": 9,
              "maximumBitRate": {
                "downlink": "1 Gbps",
                "uplink": "500 Mbps"
              },
              "preemptionCapability": "NotPreempt",
              "preemptionVulnerability": "Preemptable"
            },
            "serviceDataFlowTemplates": [
              {
                "direction": "Uplink",
                "ports": [],
                "remoteIpList": [
                  "10.3.4.0/24"
                ],
                "templateName": "IP-to-server",
                "protocol": [
                  "ip"
                ]
              }
            ],
            "trafficControl": "Enabled"
          }
        ],
        "servicePrecedence": 255,
        "serviceQosPolicy": {
          "5qi": 9,
          "allocationAndRetentionPriorityLevel": 9,
          "maximumBitRate": {
            "downlink": "1 Gbps",
            "uplink": "500 Mbps"
          },
          "preemptionCapability": "NotPreempt",
          "preemptionVulnerability": "Preemptable"
        }
      }
    },
    "resourceGroupName": "rg1",
    "serviceName": "TestService",
    "subscriptionId": "00000000-0000-0000-0000-000000000000"
  },
  "responses": {
    "200": {
      "body": {
        "name": "testPolicy",
        "type": "Microsoft.MobileNetwork/service",
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg1/providers/Microsoft.MobileNetwork/mobileNetworks/testMobileNetwork/services/TestService",
        "location": "eastus",
        "properties": {
          "pccRules": [
            {
              "ruleName": "default-rule",
              "rulePrecedence": 255,
              "ruleQosPolicy": {
                "5qi": 9,
                "allocationAndRetentionPriorityLevel": 9,
                "maximumBitRate": {
                  "downlink": "1 Gbps",
                  "uplink": "500 Mbps"
                },
                "preemptionCapability": "NotPreempt",
                "preemptionVulnerability": "Preemptable"
              },
              "serviceDataFlowTemplates": [
                {
                  "direction": "Uplink",
                  "ports": [],
                  "remoteIpList": [
                    "10.3.4.0/24"
                  ],
                  "templateName": "IP-to-server",
                  "protocol": [
                    "ip"
                  ]
                }
              ],
              "trafficControl": "Enabled"
            }
          ],
          "provisioningState": "Succeeded",
          "servicePrecedence": 255,
          "serviceQosPolicy": {
            "5qi": 9,
            "allocationAndRetentionPriorityLevel": 9,
            "maximumBitRate": {
              "downlink": "1 Gbps",
              "uplink": "500 Mbps"
            },
            "preemptionCapability": "NotPreempt",
            "preemptionVulnerability": "Preemptable"
          }
        },
        "systemData": {
          "createdAt": "2020-01-01T17:18:19.1234567Z",
          "createdBy": "user1",
          "createdByType": "User",
          "lastModifiedAt": "2020-01-02T17:18:19.1234567Z",
          "lastModifiedBy": "user2",
          "lastModifiedByType": "User"
        },
        "tags": {}
      }
    },
    "201": {
      "body": {
        "name": "testPolicy",
        "type": "Microsoft.MobileNetwork/service",
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg1/providers/Microsoft.MobileNetwork/mobileNetworks/testMobileNetwork/services/TestService",
        "location": "eastus",
        "properties": {
          "pccRules": [
            {
              "ruleName": "default-rule",
              "rulePrecedence": 255,
              "ruleQosPolicy": {
                "5qi": 9,
                "allocationAndRetentionPriorityLevel": 9,
                "maximumBitRate": {
                  "downlink": "1 Gbps",
                  "uplink": "500 Mbps"
                },
                "preemptionCapability": "NotPreempt",
                "preemptionVulnerability": "Preemptable"
              },
              "serviceDataFlowTemplates": [
                {
                  "direction": "Uplink",
                  "ports": [],
                  "remoteIpList": [
                    "10.3.4.0/24"
                  ],
                  "templateName": "IP-to-server",
                  "protocol": [
                    "ip"
                  ]
                }
              ],
              "trafficControl": "Enabled"
            }
          ],
          "provisioningState": "Created",
          "servicePrecedence": 255,
          "serviceQosPolicy": {
            "5qi": 9,
            "allocationAndRetentionPriorityLevel": 9,
            "maximumBitRate": {
              "downlink": "1 Gbps",
              "uplink": "500 Mbps"
            },
            "preemptionCapability": "NotPreempt",
            "preemptionVulnerability": "Preemptable"
          }
        },
        "systemData": {
          "createdAt": "2020-01-01T17:18:19.1234567Z",
          "createdBy": "user1",
          "createdByType": "User",
          "lastModifiedAt": "2020-01-02T17:18:19.1234567Z",
          "lastModifiedBy": "user2",
          "lastModifiedByType": "User"
        },
        "tags": {}
      },
      "headers": {
        "Azure-AsyncOperation": "https://management.azure.com/providers/Microsoft.MobileNetwork/locations/testLocation/operationStatuses/testOperation?api-version=2024-04-01"
      }
    }
  },
  "operationId": "Services_CreateOrUpdate",
  "title": "Create service"
}