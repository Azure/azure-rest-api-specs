{
  "swagger": "2.0",
  "info": {
    "title": "ACS Call Settings API",
    "version": "2024-09-15-preview",
    "description": "API to manage call settings for Azure resources.",
    "x-typespec-generated": [
      {
        "emitter": "@azure-tools/typespec-autorest"
      }
    ]
  },
  "securityDefinitions": {
    "azure_auth": {
      "type": "oauth2",
      "flow": "implicit",
      "authorizationUrl": "https://login.microsoftonline.com/common/oauth2/authorize",
      "scopes": {
        "user_impersonation": "impersonate your user account"
      },
      "description": "Azure Active Directory OAuth2 Flow"
    },
    "apiKey": {
      "type": "apiKey",
      "name": "access_key",
      "in": "header",
      "description": "An authentication string containing a signature generated using HMAC-SHA256 scheme."
    }
  },
  "security": [
    {
      "azure_auth": [
        "user_impersonation"
      ]
    },
    {
      "apiKey": []
    }
  ],
  "schemes": [
    "https"
  ],
  "x-ms-parameterized-host": {
    "hostTemplate": "{endpoint}",
    "useSchemePrefix": false,
    "parameters": [
      {
        "name": "endpoint",
        "in": "path",
        "required": true,
        "type": "string",
        "format": "uri",
        "x-ms-skip-url-encoding": true
      }
    ]
  },
  "produces": [
    "application/json"
  ],
  "consumes": [
    "application/json"
  ],
  "tags": [
    {
      "name": "CallSettings"
    }
  ],
  "paths": {
    "/call-settings/{id}": {
      "get": {
        "operationId": "ParticipantCallSettingsGet",
        "tags": [
          "CallSettings"
        ],
        "summary": "Retrieve participant call settings.",
        "description": "Retrieves call settings for given participant.",
        "parameters": [
          {
            "$ref": "#/parameters/Azure.Core.Foundations.ApiVersionParameter"
          },
          {
            "name": "id",
            "in": "path",
            "description": "Raw id of the participant",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "The request has succeeded.",
            "schema": {
              "$ref": "#/definitions/ParticipantCallSettings"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/Azure.Core.Foundations.ErrorResponse"
            },
            "headers": {
              "x-ms-error-code": {
                "type": "string",
                "description": "String error code indicating what went wrong."
              }
            }
          }
        },
        "x-ms-examples": {
          "ParticipantCallSettingsGet": {
            "$ref": "./examples/ParticipantCallSettingsGet.json"
          }
        }
      },
      "patch": {
        "operationId": "ParticipantCallSettingsUpdate",
        "tags": [
          "CallSettings"
        ],
        "summary": "Update participant call settings.",
        "description": "Updates call settings for given participant.",
        "consumes": [
          "application/merge-patch+json"
        ],
        "parameters": [
          {
            "$ref": "#/parameters/Azure.Core.Foundations.ApiVersionParameter"
          },
          {
            "name": "id",
            "in": "path",
            "description": "Raw id of the participant",
            "required": true,
            "type": "string"
          },
          {
            "name": "callSettings",
            "in": "body",
            "description": "The callSettings of participant.",
            "required": true,
            "schema": {
              "$ref": "#/definitions/ParticipantCallSettingsCreateOrUpdate"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The request has succeeded.",
            "schema": {
              "$ref": "#/definitions/ParticipantCallSettings"
            }
          },
          "201": {
            "description": "The request has succeeded and a new resource has been created as a result.",
            "schema": {
              "$ref": "#/definitions/ParticipantCallSettings"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/Azure.Core.Foundations.ErrorResponse"
            },
            "headers": {
              "x-ms-error-code": {
                "type": "string",
                "description": "String error code indicating what went wrong."
              }
            }
          }
        },
        "x-ms-examples": {
          "ParticipantCallSettingsUpdate": {
            "$ref": "./examples/ParticipantCallSettingsUpdate.json"
          }
        }
      },
      "delete": {
        "operationId": "ParticipantCallSettingsDelete",
        "tags": [
          "CallSettings"
        ],
        "summary": "Delete participant call settings.",
        "description": "Deletes call settings for given participant.",
        "parameters": [
          {
            "$ref": "#/parameters/Azure.Core.Foundations.ApiVersionParameter"
          },
          {
            "name": "id",
            "in": "path",
            "description": "Raw id of the participant",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "204": {
            "description": "There is no content to send for this request, but the headers may be useful. "
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/Azure.Core.Foundations.ErrorResponse"
            },
            "headers": {
              "x-ms-error-code": {
                "type": "string",
                "description": "String error code indicating what went wrong."
              }
            }
          }
        },
        "x-ms-examples": {
          "ParticipantCallSettingsDelete": {
            "$ref": "./examples/ParticipantCallSettingsDelete.json"
          }
        }
      }
    },
    "/call-settings/global": {
      "get": {
        "operationId": "GlobalCallSettingsGet",
        "tags": [
          "CallSettings"
        ],
        "summary": "Retrieve global call settings.",
        "description": "Retrieves current global call settings with no specific scope.",
        "parameters": [
          {
            "$ref": "#/parameters/Azure.Core.Foundations.ApiVersionParameter"
          }
        ],
        "responses": {
          "200": {
            "description": "The request has succeeded.",
            "schema": {
              "$ref": "#/definitions/GlobalCallSettings"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/Azure.Core.Foundations.ErrorResponse"
            },
            "headers": {
              "x-ms-error-code": {
                "type": "string",
                "description": "String error code indicating what went wrong."
              }
            }
          }
        },
        "x-ms-examples": {
          "GlobalCallSettingsGet": {
            "$ref": "./examples/GlobalCallSettingsGet.json"
          }
        }
      },
      "patch": {
        "operationId": "GlobalCallSettingsUpdate",
        "tags": [
          "CallSettings"
        ],
        "summary": "Update global call settings.",
        "description": "Update current global call settings with no specific scope.",
        "consumes": [
          "application/merge-patch+json"
        ],
        "parameters": [
          {
            "$ref": "#/parameters/Azure.Core.Foundations.ApiVersionParameter"
          },
          {
            "name": "callSettings",
            "in": "body",
            "description": "The global callSettings.",
            "required": true,
            "schema": {
              "$ref": "#/definitions/GlobalCallSettingsCreateOrUpdate"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The request has succeeded.",
            "schema": {
              "$ref": "#/definitions/GlobalCallSettings"
            }
          },
          "201": {
            "description": "The request has succeeded and a new resource has been created as a result.",
            "schema": {
              "$ref": "#/definitions/GlobalCallSettings"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/Azure.Core.Foundations.ErrorResponse"
            },
            "headers": {
              "x-ms-error-code": {
                "type": "string",
                "description": "String error code indicating what went wrong."
              }
            }
          }
        },
        "x-ms-examples": {
          "GlobalCallSettingsUpdate": {
            "$ref": "./examples/GlobalCallSettingsUpdate.json"
          }
        }
      },
      "delete": {
        "operationId": "GlobalCallSettingsDelete",
        "tags": [
          "CallSettings"
        ],
        "summary": "Retrieve global call settings.",
        "description": "Retrieves current global call settings with no specific scope.",
        "parameters": [
          {
            "$ref": "#/parameters/Azure.Core.Foundations.ApiVersionParameter"
          }
        ],
        "responses": {
          "204": {
            "description": "There is no content to send for this request, but the headers may be useful. "
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/Azure.Core.Foundations.ErrorResponse"
            },
            "headers": {
              "x-ms-error-code": {
                "type": "string",
                "description": "String error code indicating what went wrong."
              }
            }
          }
        },
        "x-ms-examples": {
          "GlobalCallSettingsDelete": {
            "$ref": "./examples/GlobalCallSettingsDelete.json"
          }
        }
      }
    }
  },
  "definitions": {
    "AutoRecordingSettings": {
      "type": "object",
      "description": "Configuration for recording settings.",
      "properties": {
        "enabled": {
          "type": "boolean",
          "description": "Whether to enable auto-recording."
        },
        "content": {
          "$ref": "#/definitions/ContentType",
          "description": "Type of content to record (e.g., audio)."
        },
        "channel": {
          "$ref": "#/definitions/ChannelType",
          "description": "Recording channel configuration (e.g., mixed)."
        },
        "format": {
          "$ref": "#/definitions/FormatType",
          "description": "Format of the recording (e.g., wav)."
        },
        "pauseOnStart": {
          "type": "boolean",
          "description": "Whether to pause recording on start."
        },
        "storageKind": {
          "$ref": "#/definitions/StorageKindType",
          "description": "Type of storage to use for recordings (e.g., azureBlobStorage)."
        },
        "destinationContainerUrl": {
          "type": "string",
          "format": "uri",
          "description": "URL of the Azure Blob Storage container where the recordings should be saved."
        }
      },
      "required": [
        "enabled",
        "content",
        "channel",
        "format",
        "pauseOnStart",
        "storageKind",
        "destinationContainerUrl"
      ]
    },
    "AutoRecordingSettingsCreateOrUpdate": {
      "type": "object",
      "description": "Configuration for recording settings.",
      "properties": {
        "enabled": {
          "type": "boolean",
          "description": "Whether to enable auto-recording."
        },
        "content": {
          "$ref": "#/definitions/ContentType",
          "description": "Type of content to record (e.g., audio)."
        },
        "channel": {
          "$ref": "#/definitions/ChannelType",
          "description": "Recording channel configuration (e.g., mixed)."
        },
        "format": {
          "$ref": "#/definitions/FormatType",
          "description": "Format of the recording (e.g., wav)."
        },
        "pauseOnStart": {
          "type": "boolean",
          "description": "Whether to pause recording on start."
        },
        "storageKind": {
          "$ref": "#/definitions/StorageKindType",
          "description": "Type of storage to use for recordings (e.g., azureBlobStorage)."
        },
        "destinationContainerUrl": {
          "type": "string",
          "format": "uri",
          "description": "URL of the Azure Blob Storage container where the recordings should be saved."
        }
      }
    },
    "Azure.Core.Foundations.Error": {
      "type": "object",
      "description": "The error object.",
      "properties": {
        "code": {
          "type": "string",
          "description": "One of a server-defined set of error codes."
        },
        "message": {
          "type": "string",
          "description": "A human-readable representation of the error."
        },
        "target": {
          "type": "string",
          "description": "The target of the error."
        },
        "details": {
          "type": "array",
          "description": "An array of details about specific errors that led to this reported error.",
          "items": {
            "$ref": "#/definitions/Azure.Core.Foundations.Error"
          },
          "x-ms-identifiers": []
        },
        "innererror": {
          "$ref": "#/definitions/Azure.Core.Foundations.InnerError",
          "description": "An object containing more specific information than the current object about the error."
        }
      },
      "required": [
        "code",
        "message"
      ]
    },
    "Azure.Core.Foundations.ErrorResponse": {
      "type": "object",
      "description": "A response containing error details.",
      "properties": {
        "error": {
          "$ref": "#/definitions/Azure.Core.Foundations.Error",
          "description": "The error object."
        }
      },
      "required": [
        "error"
      ]
    },
    "Azure.Core.Foundations.InnerError": {
      "type": "object",
      "description": "An object containing more specific information about the error. As per Microsoft One API guidelines - https://github.com/Microsoft/api-guidelines/blob/vNext/Guidelines.md#7102-error-condition-responses.",
      "properties": {
        "code": {
          "type": "string",
          "description": "One of a server-defined set of error codes."
        },
        "innererror": {
          "$ref": "#/definitions/Azure.Core.Foundations.InnerError",
          "description": "Inner error."
        }
      }
    },
    "ChannelType": {
      "type": "string",
      "description": "Type of media channel.",
      "enum": [
        "mixed",
        "unmixed"
      ],
      "x-ms-enum": {
        "name": "ChannelType",
        "modelAsString": true,
        "values": [
          {
            "name": "mixed",
            "value": "mixed"
          },
          {
            "name": "unmixed",
            "value": "unmixed"
          }
        ]
      }
    },
    "ContentType": {
      "type": "string",
      "description": "Type of recording content.",
      "enum": [
        "audio",
        "audioVideo"
      ],
      "x-ms-enum": {
        "name": "ContentType",
        "modelAsString": true,
        "values": [
          {
            "name": "audio",
            "value": "audio"
          },
          {
            "name": "audioVideo",
            "value": "audioVideo"
          }
        ]
      }
    },
    "FormatType": {
      "type": "string",
      "description": "Media format of the recording.",
      "enum": [
        "mp3",
        "mp4",
        "wav"
      ],
      "x-ms-enum": {
        "name": "FormatType",
        "modelAsString": true,
        "values": [
          {
            "name": "mp3",
            "value": "mp3"
          },
          {
            "name": "mp4",
            "value": "mp4"
          },
          {
            "name": "wav",
            "value": "wav"
          }
        ]
      }
    },
    "GlobalCallSettings": {
      "type": "object",
      "description": "Global level call settings",
      "properties": {
        "id": {
          "type": "string",
          "description": "Fixed id",
          "enum": [
            "global"
          ],
          "x-ms-enum": {
            "modelAsString": false
          }
        },
        "autoRecordingSettings": {
          "$ref": "#/definitions/AutoRecordingSettings",
          "description": "Global recording settings"
        }
      },
      "required": [
        "id",
        "autoRecordingSettings"
      ]
    },
    "GlobalCallSettingsCreateOrUpdate": {
      "type": "object",
      "description": "Global level call settings",
      "properties": {
        "id": {
          "type": "string",
          "description": "Fixed id",
          "enum": [
            "global"
          ],
          "x-ms-enum": {
            "modelAsString": false
          }
        },
        "autoRecordingSettings": {
          "$ref": "#/definitions/AutoRecordingSettingsCreateOrUpdate",
          "description": "Global recording settings"
        }
      }
    },
    "ParticipantCallSettings": {
      "type": "object",
      "description": "Participant level call settings",
      "properties": {
        "id": {
          "type": "string",
          "description": "Raw id of the participant"
        },
        "autoRecordingSettings": {
          "$ref": "#/definitions/AutoRecordingSettings",
          "description": "Recording settings for the participant"
        }
      },
      "required": [
        "id",
        "autoRecordingSettings"
      ]
    },
    "ParticipantCallSettingsCreateOrUpdate": {
      "type": "object",
      "description": "Participant level call settings",
      "properties": {
        "id": {
          "type": "string",
          "description": "Raw id of the participant"
        },
        "autoRecordingSettings": {
          "$ref": "#/definitions/AutoRecordingSettingsCreateOrUpdate",
          "description": "Recording settings for the participant"
        }
      }
    },
    "StorageKindType": {
      "type": "string",
      "description": "Type of storage for recording.",
      "enum": [
        "AzureBlobStorage",
        "AzureCommunicationServices"
      ],
      "x-ms-enum": {
        "name": "StorageKindType",
        "modelAsString": true,
        "values": [
          {
            "name": "AzureBlobStorage",
            "value": "AzureBlobStorage"
          },
          {
            "name": "AzureCommunicationServices",
            "value": "AzureCommunicationServices"
          }
        ]
      }
    }
  },
  "parameters": {
    "Azure.Core.Foundations.ApiVersionParameter": {
      "name": "api-version",
      "in": "query",
      "description": "The API version to use for this operation.",
      "required": true,
      "type": "string",
      "minLength": 1,
      "x-ms-parameter-location": "method",
      "x-ms-client-name": "apiVersion"
    }
  }
}
