{
  "parameters": {
    "accountName": "ddb1",
    "api-version": "2025-05-01-preview",
    "createUpdateParameters": {
      "kind": "GlobalDocumentDB",
      "location": "westus",
      "properties": {
        "apiProperties": {
          "serverVersion": "3.2"
        },
        "backupPolicy": {
          "type": "Continuous",
          "continuousModeProperties": {
            "tier": "Continuous30Days"
          }
        },
        "consistencyPolicy": {
          "defaultConsistencyLevel": "BoundedStaleness",
          "maxIntervalInSeconds": 10,
          "maxStalenessPrefix": 200
        },
        "createMode": "Restore",
        "databaseAccountOfferType": "Standard",
        "enableAnalyticalStorage": true,
        "enableFreeTier": false,
        "enableMaterializedViews": false,
        "keyVaultKeyUri": "https://myKeyVault.vault.azure.net",
        "locations": [
          {
            "failoverPriority": 0,
            "isZoneRedundant": false,
            "locationName": "southcentralus"
          }
        ],
        "minimalTlsVersion": "Tls",
        "restoreParameters": {
          "databasesToRestore": [
            {
              "collectionNames": [
                "collection1",
                "collection2"
              ],
              "databaseName": "db1"
            },
            {
              "collectionNames": [
                "collection3",
                "collection4"
              ],
              "databaseName": "db2"
            }
          ],
          "restoreMode": "PointInTime",
          "restoreSource": "/subscriptions/subid/providers/Microsoft.DocumentDB/locations/westus/restorableDatabaseAccounts/1a97b4bb-f6a0-430e-ade1-638d781830cc",
          "restoreTimestampInUtc": "2021-03-11T22:05:09Z",
          "restoreWithTtlDisabled": false,
          "sourceBackupLocation": "westus"
        }
      },
      "tags": {}
    },
    "resourceGroupName": "rg1",
    "subscriptionId": "subid"
  },
  "responses": {
    "200": {
      "body": {
        "name": "ddb1",
        "type": "Microsoft.DocumentDB/databaseAccounts",
        "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.DocumentDB/databaseAccounts/ddb1",
        "kind": "GlobalDocumentDB",
        "location": "West US",
        "properties": {
          "analyticalStorageConfiguration": null,
          "apiProperties": {},
          "backupPolicy": {
            "type": "Continuous",
            "continuousModeProperties": {
              "tier": "Continuous30Days"
            }
          },
          "capacityMode": "Provisioned",
          "consistencyPolicy": {
            "defaultConsistencyLevel": "Session",
            "maxIntervalInSeconds": 5,
            "maxStalenessPrefix": 100
          },
          "createMode": "Restore",
          "databaseAccountOfferType": "Standard",
          "disableKeyBasedMetadataWriteAccess": false,
          "enableAnalyticalStorage": false,
          "enableFreeTier": false,
          "enableMaterializedViews": false,
          "failoverPolicies": [
            {
              "failoverPriority": 0,
              "id": "ddb1-southcentralus",
              "locationName": "South Central US"
            }
          ],
          "instanceId": "d9b26648-2f53-4541-b3d8-3044f4f9810d",
          "ipRules": [],
          "keysMetadata": {
            "primaryMasterKey": {
              "generationTime": "2022-02-25T20:30:11Z"
            },
            "primaryReadonlyMasterKey": {
              "generationTime": "2022-02-25T20:30:11Z"
            },
            "secondaryMasterKey": {
              "generationTime": "2022-02-25T20:30:11Z"
            },
            "secondaryReadonlyMasterKey": {
              "generationTime": "2022-02-25T20:30:11Z"
            }
          },
          "locations": [
            {
              "failoverPriority": 0,
              "id": "ddb1-southcentralus",
              "isZoneRedundant": false,
              "locationName": "South Central US",
              "provisioningState": "Initializing"
            }
          ],
          "minimalTlsVersion": "Tls",
          "networkAclBypass": "None",
          "networkAclBypassResourceIds": [],
          "provisioningState": "Initializing",
          "readLocations": [
            {
              "failoverPriority": 0,
              "id": "ddb1-southcentralus",
              "isZoneRedundant": false,
              "locationName": "South Central US",
              "provisioningState": "Initializing"
            }
          ],
          "writeLocations": [
            {
              "failoverPriority": 0,
              "id": "ddb1-southcentralus",
              "isZoneRedundant": false,
              "locationName": "South Central US",
              "provisioningState": "Initializing"
            }
          ]
        },
        "systemData": {
          "createdAt": "2021-03-12T22:05:09Z"
        },
        "tags": {}
      }
    }
  },
  "operationId": "DatabaseAccounts_CreateOrUpdate",
  "title": "CosmosDBRestoreDatabaseAccountCreateUpdate.json"
}