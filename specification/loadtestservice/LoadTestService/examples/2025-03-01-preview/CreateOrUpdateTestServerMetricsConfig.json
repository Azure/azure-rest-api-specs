{
  "operationId": "LoadTestAdministration_CreateOrUpdateServerMetricsConfig",
  "title": "Add or update server metrics configuration for a load test.",
  "parameters": {
    "testId": "edc6e529-d009-4b99-b763-ca492e3a2823",
    "api-version": "2025-03-01-preview",
    "body": {
      "metrics": {
        "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/samplerg/providers/microsoft.insights/components/appcomponentresource/providers/microsoft.insights/metricdefinitions/requests/duration": {
          "resourceId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/samplerg/providers/microsoft.insights/components/appcomponentresource",
          "metricNamespace": "microsoft.insights/components",
          "displayDescription": "sample description",
          "name": "requests/duration",
          "aggregation": "Average",
          "unit": null,
          "resourceType": "microsoft.insights/components"
        }
      }
    }
  },
  "responses": {
    "200": {
      "body": {
        "testId": "12316678-1234-1234-1234-122451189012",
        "metrics": {
          "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/samplerg/providers/microsoft.insights/components/appcomponentresource/providers/microsoft.insights/metricdefinitions/requests/duration": {
            "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/samplerg/providers/microsoft.insights/components/appcomponentresource/providers/microsoft.insights/metricdefinitions/requests/duration",
            "resourceId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/samplerg/providers/microsoft.insights/components/appcomponentresource",
            "metricNamespace": "microsoft.insights/components",
            "displayDescription": "sample description",
            "name": "requests/duration",
            "aggregation": "Average",
            "unit": null,
            "resourceType": "microsoft.insights/components"
          }
        },
        "createdDateTime": "2021-12-05T16:43:46.072Z",
        "createdBy": "user@contoso.com",
        "lastModifiedDateTime": "2021-12-05T16:43:46.072Z",
        "lastModifiedBy": "user@contoso.com"
      }
    },
    "201": {
      "body": {
        "testId": "12316678-1234-1234-1234-122451189012",
        "metrics": {
          "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/samplerg/providers/microsoft.insights/components/appcomponentresource/providers/microsoft.insights/metricdefinitions/requests/duration": {
            "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/samplerg/providers/microsoft.insights/components/appcomponentresource/providers/microsoft.insights/metricdefinitions/requests/duration",
            "resourceId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/samplerg/providers/microsoft.insights/components/appcomponentresource",
            "metricNamespace": "microsoft.insights/components",
            "displayDescription": "sample description",
            "name": "requests/duration",
            "aggregation": "Average",
            "unit": null,
            "resourceType": "microsoft.insights/components"
          }
        },
        "createdDateTime": "2021-12-05T16:43:46.072Z",
        "createdBy": "user@contoso.com",
        "lastModifiedDateTime": "2021-12-05T16:43:46.072Z",
        "lastModifiedBy": "user@contoso.com"
      }
    }
  }
}
