{
  "swagger": "2.0",
  "info": {
    "title": "Anomaly Detector Client",
    "description": "The Anomaly Detector API detects anomalies automatically in time series data. It supports two kinds of mode, one is for stateless using, another is for stateful using. In stateless mode, there are three functionalities. Entire Detect is for detecting the whole series with model trained by the time series, Last Detect is detecting last point with model trained by points before. ChangePoint Detect is for detecting trend changes in time series. In stateful mode, user can store time series, the stored time series will be used for detection anomalies. Under this mode, user can still use the above three functionalities by only giving a time range without preparing time series in client side. Besides the above three functionalities, stateful model also provide group based detection and labeling service. By leveraging labeling service user can provide labels for each detection result, these labels will be used for retuning or regenerating detection models. Inconsistency detection is a kind of group based detection, this detection will find inconsistency ones in a set of time series. By using anomaly detector service, business customers can discover incidents and establish a logic flow for root cause analysis.",
    "version": "2.0-preview"
  },
  "paths": {
    "/rootCauseAnalysis/dataSets": {
      "post": {
        "tags": [
          "RootCauseAnalysisDataSet"
        ],
        "summary": "Create a root cause analysis data set",
        "operationId": "CreateRootCauseAnalysisDataSet",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "description": "create a root cause analysis data set request",
            "schema": {
              "description": "create a root cause analysis data set request"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Success",
            "headers": {
              "Location": {
                "description": "Location of the newly created resource.",
                "type": "string"
              }
            }
          },
          "default": {
            "description": "Client error or server error (4xx or 5xx)",
            "schema": {
              "$ref": "#/definitions/ErrorCode"
            }
          }
        },
        "x-ms-examples": {
          "Create a root cause analysis data set": {
            "$ref": "./examples/CreateRootCauseAnalysisDataSet.json"
          }
        }
      },
      "get": {
        "tags": [
          "RootCauseAnalysisDataSet"
        ],
        "summary": "List root cause analysis data set",
        "operationId": "ListRootCauseAnalysisDataSet",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "name",
            "description": "Root cause analysis data set name",
            "type": "string"
          },
          {
            "in": "query",
            "name": "$skip",
            "description": "For paging, skipped number",
            "type": "integer",
            "format": "int32"
          },
          {
            "in": "query",
            "name": "$maxpagesize",
            "description": "The maximum number of items in one page",
            "type": "integer",
            "format": "int32"
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/RootCauseAnalysisDataSetList"
            }
          },
          "default": {
            "description": "Client error or server error (4xx or 5xx)",
            "schema": {
              "$ref": "#/definitions/ErrorCode"
            }
          }
        },
        "x-ms-pageable": {
          "nextLinkName": "@nextLink"
        },
        "x-ms-examples": {
          "List root cause analysis data set": {
            "$ref": "./examples/ListRootCauseAnalysisDataSet.json"
          }
        }
      }
    },
    "/rootCauseAnalysis/dataSets/{dataSetId}": {
      "get": {
        "tags": [
          "RootCauseAnalysisDataSet"
        ],
        "summary": "Get a root cause analysis data set by its id",
        "operationId": "GetRootCauseAnalysisDataSet",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "dataSetId",
            "description": "The root cause analysis data set unique id",
            "required": true,
            "type": "string",
            "format": "uuid"
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "schema": { }
          },
          "default": {
            "description": "Client error or server error (4xx or 5xx)",
            "schema": {
              "$ref": "#/definitions/ErrorCode"
            }
          }
        },
        "x-ms-examples": {
          "Get a root cause analysis data set by its id": {
            "$ref": "./examples/GetRootCauseAnalysisDataSet.json"
          }
        }
      },
      "delete": {
        "tags": [
          "RootCauseAnalysisDataSet"
        ],
        "summary": "Delete a root cause analysis data set",
        "operationId": "DeleteRootCauseAnalysisADataSet",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "dataSetId",
            "description": "The root cause analysis data set unique id",
            "required": true,
            "type": "string",
            "format": "uuid"
          }
        ],
        "responses": {
          "204": {
            "description": "The resource is deleted successfully or does not exist."
          },
          "default": {
            "description": "Client error or server error (4xx or 5xx)",
            "schema": {
              "$ref": "#/definitions/ErrorCode"
            }
          }
        },
        "x-ms-examples": {
          "Delete a root cause analysis data set": {
            "$ref": "./examples/DeleteRootCauseAnalysisADataSet.json"
          }
        }
      }
    },
    "/rootCauseAnalysis/dataSets/{dataSetId}/data": {
      "put": {
        "tags": [
          "RootCauseAnalysisDataSet"
        ],
        "summary": "Upload data to root cause analysis data set",
        "operationId": "UploadRootCauseAnalysisData",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "dataSetId",
            "description": "The root cause analysis data set unique id",
            "required": true,
            "type": "string",
            "format": "uuid"
          },
          {
            "in": "body",
            "name": "body",
            "description": "Data to be uploaded to perform root cause analysis",
            "schema": {
              "description": "Data to be uploaded to perform root cause analysis"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Success",
            "headers": {
              "Location": {
                "description": "Location of the newly created resource.",
                "type": "string"
              }
            }
          },
          "default": {
            "description": "Client error or server error (4xx or 5xx)",
            "schema": {
              "$ref": "#/definitions/ErrorCode"
            }
          }
        },
        "x-ms-examples": {
          "Upload data to root cause analysis data set": {
            "$ref": "./examples/UploadRootCauseAnalysisData.json"
          }
        }
      },
      "delete": {
        "tags": [
          "RootCauseAnalysisDataSet"
        ],
        "summary": "Delete root cause analysis data",
        "operationId": "DeleteRootCauseAnalysisData",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "dataSetId",
            "description": "The root cause analysis data set unique id",
            "required": true,
            "type": "string",
            "format": "uuid"
          },
          {
            "in": "query",
            "name": "startDateTime",
            "description": "Start time of data to be deleted",
            "type": "string",
            "format": "date-time"
          },
          {
            "in": "query",
            "name": "endDateTime",
            "description": "End time of data to be deleted",
            "type": "string",
            "format": "date-time"
          },
          {
            "in": "query",
            "name": "partitionIdentity",
            "description": "Partition identity of the data to be deleted",
            "type": "string"
          }
        ],
        "responses": {
          "204": {
            "description": "The resource is deleted successfully or does not exist."
          },
          "default": {
            "description": "Client error or server error (4xx or 5xx)",
            "schema": {
              "$ref": "#/definitions/ErrorCode"
            }
          }
        },
        "x-ms-examples": {
          "Delete root cause analysis data": {
            "$ref": "./examples/DeleteRootCauseAnalysisData.json"
          }
        }
      },
      "get": {
        "tags": [
          "RootCauseAnalysisDataSet"
        ],
        "summary": "List root cause analysis data in a specified data set",
        "operationId": "ListRootCauseAnalysisData",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "dataSetId",
            "description": "The root cause analysis data set unique id",
            "required": true,
            "type": "string",
            "format": "uuid"
          },
          {
            "in": "query",
            "name": "startDateTime",
            "description": "Start time of data",
            "type": "string",
            "format": "date-time"
          },
          {
            "in": "query",
            "name": "endDateTime",
            "description": "End time of data",
            "type": "string",
            "format": "date-time"
          },
          {
            "in": "query",
            "name": "partitionIdentity",
            "description": "Partition identity of data",
            "type": "string"
          },
          {
            "in": "query",
            "name": "$skip",
            "description": "For paging, skipped number",
            "type": "integer",
            "format": "int32"
          },
          {
            "in": "query",
            "name": "$maxpagesize",
            "description": "The maximum number of items in one page",
            "type": "integer",
            "format": "int32"
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/RootCauseAnalysisDataMetaListResponse"
            }
          },
          "default": {
            "description": "Client error or server error (4xx or 5xx)",
            "schema": {
              "$ref": "#/definitions/ErrorCode"
            }
          }
        },
        "x-ms-pageable": {
          "nextLinkName": "@nextLink"
        },
        "x-ms-examples": {
          "List root cause analysis data in a specified data set": {
            "$ref": "./examples/ListRootCauseAnalysisData.json"
          }
        }
      }
    },
    "/rootCauseAnalysis/instances": {
      "post": {
        "tags": [
          "RootCauseAnalysisInstance"
        ],
        "summary": "Create an instance for root cause analysis",
        "operationId": "CreateRootCauseAnalysisInstance",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "description": "Create a root cause analysis instance request",
            "schema": {
              "description": "Create a root cause analysis instance request"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Success",
            "headers": {
              "Location": {
                "description": "Location of the newly created resource.",
                "type": "string"
              }
            }
          },
          "default": {
            "description": "Client error or server error (4xx or 5xx)",
            "schema": {
              "$ref": "#/definitions/ErrorCode"
            }
          }
        },
        "x-ms-examples": {
          "Create an instance for root cause analysis": {
            "$ref": "./examples/CreateRootCauseAnalysisInstance.json"
          }
        }
      },
      "get": {
        "tags": [
          "RootCauseAnalysisInstance"
        ],
        "summary": "Get instance list for root cause analysis",
        "operationId": "ListRootCauseAnalysisInstance",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "name",
            "description": "Filter instance by name",
            "type": "string"
          },
          {
            "in": "query",
            "name": "$skip",
            "description": "For paging, skipped number",
            "type": "integer",
            "format": "int32"
          },
          {
            "in": "query",
            "name": "$maxpagesize",
            "description": "The maximum number of items in one page",
            "type": "integer",
            "format": "int32"
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/RootCauseAnalysisInstanceResponseList"
            }
          },
          "default": {
            "description": "Client error or server error (4xx or 5xx)",
            "schema": {
              "$ref": "#/definitions/ErrorCode"
            }
          }
        },
        "x-ms-pageable": {
          "nextLinkName": "@nextLink"
        },
        "x-ms-examples": {
          "Get instance list for root cause analysis": {
            "$ref": "./examples/ListRootCauseAnalysisInstance.json"
          }
        }
      }
    },
    "/rootCauseAnalysis/instances/{instanceId}": {
      "get": {
        "tags": [
          "RootCauseAnalysisInstance"
        ],
        "summary": "Query an instance information for root cause analysis",
        "operationId": "GetRootCauseAnalysisInstance",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "instanceId",
            "description": "Instance unique id",
            "required": true,
            "type": "string",
            "format": "uuid"
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "schema": { }
          },
          "default": {
            "description": "Client error or server error (4xx or 5xx)",
            "schema": {
              "$ref": "#/definitions/ErrorCode"
            }
          }
        },
        "x-ms-examples": {
          "Query an instance information for root cause analysis": {
            "$ref": "./examples/GetRootCauseAnalysisInstance.json"
          }
        }
      },
      "delete": {
        "tags": [
          "RootCauseAnalysisInstance"
        ],
        "summary": "Delete an instance for root cause analysis",
        "operationId": "DeleteRootCauseAnalysisInstance",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "instanceId",
            "description": "Instance unique id",
            "required": true,
            "type": "string",
            "format": "uuid"
          }
        ],
        "responses": {
          "204": {
            "description": "The resource is deleted successfully or does not exist."
          },
          "default": {
            "description": "Client error or server error (4xx or 5xx)",
            "schema": {
              "$ref": "#/definitions/ErrorCode"
            }
          }
        },
        "x-ms-examples": {
          "Delete an instance for root cause analysis": {
            "$ref": "./examples/DeleteRootCauseAnalysisInstance.json"
          }
        }
      }
    },
    "/rootCauseAnalysis/instances/{instanceId}/models": {
      "post": {
        "tags": [
          "RootCauseAnalysisModel"
        ],
        "summary": "Trigger a model training task for root cause analysis",
        "operationId": "CreateRootCauseAnalysisTrainingTask",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "instanceId",
            "description": "Instance unique id",
            "required": true,
            "type": "string",
            "format": "uuid"
          },
          {
            "in": "body",
            "name": "body",
            "schema": { }
          }
        ],
        "responses": {
          "201": {
            "description": "Success",
            "headers": {
              "Location": {
                "description": "Location of the newly created resource.",
                "type": "string"
              }
            }
          },
          "default": {
            "description": "Client error or server error (4xx or 5xx)",
            "schema": {
              "$ref": "#/definitions/ErrorCode"
            }
          }
        },
        "x-ms-examples": {
          "Trigger a model training task for root cause analysis": {
            "$ref": "./examples/CreateRootCauseAnalysisTrainingTask.json"
          }
        }
      },
      "get": {
        "tags": [
          "RootCauseAnalysisModel"
        ],
        "summary": "Query training task state list for root cause analysis",
        "operationId": "ListRootCauseAnalysisTrainingStates",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "instanceId",
            "description": "Instance unique id",
            "required": true,
            "type": "string",
            "format": "uuid"
          },
          {
            "in": "query",
            "name": "name",
            "description": "Filter model by name",
            "type": "string"
          },
          {
            "in": "query",
            "name": "$skip",
            "description": "For paging, skipped number",
            "type": "integer",
            "format": "int32"
          },
          {
            "in": "query",
            "name": "$maxpagesize",
            "description": "The maximum number of items in one page",
            "type": "integer",
            "format": "int32"
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/RootCauseAnalysisTrainingResponseList"
            }
          },
          "default": {
            "description": "Client error or server error (4xx or 5xx)",
            "schema": {
              "$ref": "#/definitions/ErrorCode"
            }
          }
        },
        "x-ms-pageable": {
          "nextLinkName": "@nextLink"
        },
        "x-ms-examples": {
          "Query training task state list for root cause analysis": {
            "$ref": "./examples/ListRootCauseAnalysisTrainingStates.json"
          }
        }
      }
    },
    "/rootCauseAnalysis/instances/{instanceId}/models/{modelId}": {
      "delete": {
        "tags": [
          "RootCauseAnalysisModel"
        ],
        "summary": "Delete a model for root cause analysis",
        "operationId": "DeleteRootCauseAnalysisModel",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "instanceId",
            "description": "Instance unique id",
            "required": true,
            "type": "string",
            "format": "uuid"
          },
          {
            "in": "path",
            "name": "modelId",
            "description": "Model unique id",
            "required": true,
            "type": "string",
            "format": "uuid"
          }
        ],
        "responses": {
          "204": {
            "description": "The resource is deleted successfully or does not exist."
          },
          "default": {
            "description": "Client error or server error (4xx or 5xx)",
            "schema": {
              "$ref": "#/definitions/ErrorCode"
            }
          }
        },
        "x-ms-examples": {
          "Delete a model for root cause analysis": {
            "$ref": "./examples/DeleteRootCauseAnalysisModel.json"
          }
        }
      },
      "get": {
        "tags": [
          "RootCauseAnalysisModel"
        ],
        "summary": "Query an training task state for root cause analysis",
        "operationId": "GetRootCauseAnalysisTrainingState",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "instanceId",
            "description": "Instance unique id",
            "required": true,
            "type": "string",
            "format": "uuid"
          },
          {
            "in": "path",
            "name": "modelId",
            "description": "Model unique id",
            "required": true,
            "type": "string",
            "format": "uuid"
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "schema": { }
          },
          "default": {
            "description": "Client error or server error (4xx or 5xx)",
            "schema": {
              "$ref": "#/definitions/ErrorCode"
            }
          }
        },
        "x-ms-examples": {
          "Query an training task state for root cause analysis": {
            "$ref": "./examples/GetRootCauseAnalysisTrainingState.json"
          }
        }
      }
    },
    "/rootCauseAnalysis/instances/{instanceId}/models/{modelId}/inferences": {
      "post": {
        "tags": [
          "RootCauseAnalysisModel"
        ],
        "summary": "Trigger an inference task for root cause analysis",
        "operationId": "CreateRootCauseAnalysisInferenceTask",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "instanceId",
            "description": "Instance unique id",
            "required": true,
            "type": "string",
            "format": "uuid"
          },
          {
            "in": "path",
            "name": "modelId",
            "description": "Model unique id",
            "required": true,
            "type": "string",
            "format": "uuid"
          },
          {
            "in": "body",
            "name": "body",
            "description": "Inference request of root cause analysis",
            "schema": {
              "description": "Inference request of root cause analysis"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Success",
            "headers": {
              "Location": {
                "description": "Location of the newly created resource.",
                "type": "string"
              }
            }
          },
          "default": {
            "description": "Client error or server error (4xx or 5xx)",
            "schema": {
              "$ref": "#/definitions/ErrorCode"
            }
          }
        },
        "x-ms-examples": {
          "Trigger an inference task for root cause analysis": {
            "$ref": "./examples/CreateRootCauseAnalysisInferenceTask.json"
          }
        }
      }
    },
    "/rootCauseAnalysis/instances/{instanceId}/models/{modelId}/inferences/{inferenceId}": {
      "get": {
        "tags": [
          "RootCauseAnalysisModel"
        ],
        "summary": "Query an inference task state for root cause analysis",
        "operationId": "GetRootCauseAnalysisInferenceState",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "instanceId",
            "description": "Instance unique id",
            "required": true,
            "type": "string",
            "format": "uuid"
          },
          {
            "in": "path",
            "name": "modelId",
            "description": "Model unique id",
            "required": true,
            "type": "string",
            "format": "uuid"
          },
          {
            "in": "path",
            "name": "inferenceId",
            "description": "Inference unique id",
            "required": true,
            "type": "string",
            "format": "uuid"
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "schema": { }
          },
          "default": {
            "description": "Client error or server error (4xx or 5xx)",
            "schema": {
              "$ref": "#/definitions/ErrorCode"
            }
          }
        },
        "x-ms-examples": {
          "Query an inference task state for root cause analysis": {
            "$ref": "./examples/GetRootCauseAnalysisInferenceState.json"
          }
        }
      }
    }
  },
  "definitions": {
    "RootCauseAnalysisMeasure": {
      "required": [
        "name"
      ],
      "type": "object",
      "properties": {
        "name": {
          "description": "Root cause analysis measure name",
          "type": "string"
        }
      }
    },
    "CreateRootCauseAnalysisDatasetRequest": {
      "required": [
        "kind",
        "name"
      ],
      "type": "object",
      "properties": {
        "kind": {
          "description": "Root cause analysis kind",
          "enum": [
            "multidimensional"
          ],
          "type": "string",
          "x-ms-enum": {
            "name": "RootCauseAnalysisType",
            "modelAsString": true
          }
        },
        "name": {
          "description": "Root cause analysis data set name",
          "type": "string"
        }
      },
      "discriminator": "kind",
      "example": {
  "granularity": "daily",
  "customInterval": 0,
  "dimensionKeys": [
    "region",
    "OS"
  ],
  "aggregateValue": "__SUM__",
  "measures": [
    {
      "name": "error rate"
    },
    {
      "name": "error count"
    },
    {
      "name": "total call count"
    }
  ],
  "name": "Sample Multidimensional Root Cause Analysis Dataset Name",
  "kind": "multidimensional"
}
    },
    "RootCauseAnalysisDataSetDetail": {
      "required": [
        "$type",
        "dataSetId"
      ],
      "type": "object",
      "allOf": [
        {
          "$ref": "#/definitions/CreateRootCauseAnalysisDatasetRequest"
        }
      ],
      "properties": {
        "$type": {
          "type": "string"
        },
        "dataSetId": {
          "format": "uuid",
          "description": "Root cause analysis data set unique ID",
          "type": "string"
        }
      },
      "x-ms-discriminator-value": "multidimensional"
    },
    "MultiDimRCADataSetDetail": {
      "required": [
        "aggregateValue",
        "customInterval",
        "dataSetId",
        "dimensionKeys",
        "granularity",
        "kind",
        "measures",
        "name"
      ],
      "type": "object",
      "allOf": [
        {
          "$ref": "#/definitions/RootCauseAnalysisDataSetDetail"
        }
      ],
      "properties": {
        "granularity": {
          "description": "Multidimensional root cause data set granularity",
          "enum": [
            "yearly",
            "monthly",
            "weekly",
            "daily",
            "hourly",
            "minutely",
            "secondly",
            "microsecond",
            "none"
          ],
          "type": "string",
          "x-ms-enum": {
            "name": "Granularity",
            "modelAsString": true
          }
        },
        "customInterval": {
          "format": "int32",
          "description": "Multidimensional root cause data set customized granularity interval in seconds",
          "type": "integer"
        },
        "dimensionKeys": {
          "description": "Multidimensional root cause data set dimension keys",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "aggregateValue": {
          "description": "Multidimensional root cause analysis measure aggregate value",
          "type": "string"
        },
        "measures": {
          "description": "Measure list to do multidimensional root cause analysis",
          "type": "array",
          "items": {
            "$ref": "#/definitions/RootCauseAnalysisMeasure"
          }
        },
        "dataSetId": {
          "format": "uuid",
          "description": "Root cause analysis data set unique ID",
          "type": "string"
        },
        "kind": {
          "description": "Root cause analysis type",
          "enum": [
            "multidimensional"
          ],
          "type": "string",
          "x-ms-enum": {
            "name": "RootCauseAnalysisType",
            "modelAsString": true
          }
        },
        "name": {
          "description": "Root cause analysis data set name",
          "type": "string"
        }
      },
      "x-ms-discriminator-value": "multidimensional"
    },
    "CreateMultiDimRCADatasetRequest": {
      "required": [
        "aggregateValue",
        "customInterval",
        "dimensionKeys",
        "granularity",
        "measures"
      ],
      "type": "object",
      "allOf": [
        {
          "$ref": "#/definitions/CreateRootCauseAnalysisDatasetRequest"
        }
      ],
      "properties": {
        "granularity": {
          "description": "Root cause analysis data set granularity",
          "enum": [
            "yearly",
            "monthly",
            "weekly",
            "daily",
            "hourly",
            "minutely",
            "secondly",
            "microsecond",
            "none"
          ],
          "type": "string",
          "x-ms-enum": {
            "name": "Granularity",
            "modelAsString": true
          }
        },
        "customInterval": {
          "format": "int32",
          "description": "Root cause analysis data set customized granularity interval in seconds",
          "type": "integer"
        },
        "dimensionKeys": {
          "description": "Root cause analysis data set dimension keys",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "aggregateValue": {
          "description": "Root cause analysis measure aggregate value",
          "type": "string"
        },
        "measures": {
          "description": "Measure list to do root cause analysis",
          "type": "array",
          "items": {
            "$ref": "#/definitions/RootCauseAnalysisMeasure"
          }
        }
      },
      "x-ms-discriminator-value": "multidimensional"
    },
    "ErrorCode": {
      "type": "object",
      "properties": {
        "message": {
          "description": "Human-readable error message",
          "type": "string"
        },
        "code": {
          "description": "Error code",
          "type": "string"
        }
      }
    },
    "RootCauseAnalysisDataSetList": {
      "required": [
        "value"
      ],
      "type": "object",
      "properties": {
        "@nextLink": {
          "description": "Link of next page, only provided when there are next pages",
          "type": "string"
        },
        "value": {
          "description": "Response values",
          "type": "array",
          "items": { }
        }
      }
    },
    "MultiDimRCADataPartition": {
      "required": [
        "data",
        "partitionIdentity",
        "timestamp"
      ],
      "type": "object",
      "properties": {
        "partitionIdentity": {
          "description": "Multidimensional root cause analysis data partition unique ID",
          "type": "string"
        },
        "timestamp": {
          "format": "date-time",
          "description": "Multidimensional root cause analysis date time of the data",
          "type": "string"
        },
        "data": {
          "description": "Multidimensional root cause data detail, the first few columns should be the dimension value. the last few columns should be the measure values",
          "type": "array",
          "items": {
            "type": "array",
            "items": {
              "type": "object"
            }
          }
        }
      }
    },
    "RootCauseAnalysisUploadDataRequest": {
      "required": [
        "$type"
      ],
      "type": "object",
      "properties": {
        "$type": {
          "type": "string"
        }
      },
      "discriminator": "$type",
      "example": {
  "value": [
    {
      "partitionIdentity": "PartitionIdentity1",
      "timestamp": "2021-12-01T00:00:00Z",
      "data": [
        [
          "CN",
          "__SUM__",
          "0.38",
          "3800",
          "10000"
        ],
        [
          "CN",
          "ios",
          "0.30",
          "3000",
          "10000"
        ],
        [
          "CN",
          "Android",
          "0.006",
          "60",
          "10000"
        ],
        [
          "US",
          "__SUM__",
          "0.6",
          "6000",
          "10000"
        ],
        [
          "JP",
          "__SUM__",
          "0.001",
          "10",
          "10000"
        ],
        [
          "DE",
          "__SUM__",
          "0.0002",
          "20",
          "10000"
        ],
        [
          "CA",
          "__SUM__",
          "0.006",
          "60",
          "10000"
        ],
        [
          "__SUM__",
          "__SUM__",
          "1",
          "10000",
          "10000"
        ]
      ]
    },
    {
      "partitionIdentity": "PartitionIdentity2",
      "timestamp": "2021-11-30T00:00:00Z",
      "data": [
        [
          "CN",
          "__SUM__",
          "0.03",
          "30",
          "1000"
        ],
        [
          "CN",
          "ios",
          "0.02",
          "20",
          "1000"
        ],
        [
          "CN",
          "Android",
          "0.01",
          "10",
          "1000"
        ],
        [
          "US",
          "__SUM__",
          "0.3",
          "300",
          "1000"
        ],
        [
          "JP",
          "__SUM__",
          "0.1",
          "10",
          "1000"
        ],
        [
          "DE",
          "__SUM__",
          "0.01",
          "10",
          "1000"
        ],
        [
          "CA",
          "__SUM__",
          "0.01",
          "10",
          "1000"
        ],
        [
          "__SUM__",
          "__SUM__",
          "1",
          "1000",
          "1000"
        ]
      ]
    },
    {
      "partitionIdentity": "PartitionIdentity3",
      "timestamp": "2021-11-29T00:00:00Z",
      "data": [
        [
          "CN",
          "__SUM__",
          "0.3",
          "300",
          "1000"
        ],
        [
          "CN",
          "ios",
          "0.30",
          "300",
          "1000"
        ],
        [
          "CN",
          "Android",
          "0",
          "0",
          "1000"
        ],
        [
          "US",
          "__SUM__",
          "0.4",
          "400",
          "1000"
        ],
        [
          "JP",
          "__SUM__",
          "0.01",
          "10",
          "1000"
        ],
        [
          "DE",
          "__SUM__",
          "0.01",
          "10",
          "1000"
        ],
        [
          "CA",
          "__SUM__",
          "0.01",
          "10",
          "1000"
        ],
        [
          "__SUM__",
          "__SUM__",
          "1",
          "1000",
          "1000"
        ]
      ]
    },
    {
      "partitionIdentity": "PartitionIdentity4",
      "timestamp": "2021-11-28T00:00:00Z",
      "data": [
        [
          "CN",
          "__SUM__",
          "0.3",
          "302",
          "1000"
        ],
        [
          "CN",
          "ios",
          "0.30",
          "302",
          "1000"
        ],
        [
          "CN",
          "Android",
          "0",
          "0",
          "1000"
        ],
        [
          "US",
          "__SUM__",
          "0.4",
          "401",
          "1000"
        ],
        [
          "JP",
          "__SUM__",
          "0.009",
          "9",
          "1000"
        ],
        [
          "DE",
          "__SUM__",
          "0.011",
          "11",
          "1000"
        ],
        [
          "CA",
          "__SUM__",
          "0.01",
          "1",
          "1000"
        ],
        [
          "__SUM__",
          "__SUM__",
          "1",
          "1000",
          "1000"
        ]
      ]
    },
    {
      "partitionIdentity": "PartitionIdentity5",
      "timestamp": "2021-11-27T00:00:00Z",
      "data": [
        [
          "CN",
          "__SUM__",
          "0.299",
          "299",
          "1000"
        ],
        [
          "CN",
          "ios",
          "0.31",
          "310",
          "1000"
        ],
        [
          "CN",
          "Android",
          "0。001",
          "1",
          "1000"
        ],
        [
          "US",
          "__SUM__",
          "0.401",
          "401",
          "1000"
        ],
        [
          "JP",
          "__SUM__",
          "0.01",
          "10",
          "1000"
        ],
        [
          "DE",
          "__SUM__",
          "0.01",
          "10",
          "1000"
        ],
        [
          "CA",
          "__SUM__",
          "0.01",
          "1",
          "100"
        ],
        [
          "__SUM__",
          "__SUM__",
          "1",
          "1000",
          "1000"
        ]
      ]
    }
  ]
}
    },
    "MultiDimRCAUploadDataRequest": {
      "required": [
        "value"
      ],
      "type": "object",
      "allOf": [
        {
          "$ref": "#/definitions/RootCauseAnalysisUploadDataRequest"
        }
      ],
      "properties": {
        "value": {
          "description": "Multidimensional root cause analysis data",
          "type": "array",
          "items": {
            "$ref": "#/definitions/MultiDimRCADataPartition"
          }
        }
      },
      "x-ms-discriminator-value": "data"
    },
    "RootCauseAnalysisDataMeta": {
      "required": [
        "$type"
      ],
      "type": "object",
      "properties": {
        "$type": {
          "type": "string"
        }
      },
      "discriminator": "$type"
    },
    "MultiDimRCADataMeta": {
      "required": [
        "dataSize",
        "lastModifiedDateTime",
        "partitionIdentity",
        "timestamp"
      ],
      "type": "object",
      "allOf": [
        {
          "$ref": "#/definitions/RootCauseAnalysisDataMeta"
        }
      ],
      "properties": {
        "partitionIdentity": {
          "description": "Multidimensional root cause analysis partition identity",
          "type": "string"
        },
        "dataSize": {
          "format": "int32",
          "description": "Multidimensional root cause analysis data size in the partition identity",
          "type": "integer"
        },
        "timestamp": {
          "format": "date-time",
          "description": "Multidimensional root cause date time of the data",
          "type": "string"
        },
        "lastModifiedDateTime": {
          "format": "date-time",
          "description": "Multidimensional root cause data last time updated",
          "type": "string"
        }
      },
      "x-ms-discriminator-value": "data"
    },
    "RootCauseAnalysisDataMetaListResponse": {
      "required": [
        "value"
      ],
      "type": "object",
      "properties": {
        "@nextLink": {
          "description": "Link of next page, only provided when there are next pages",
          "type": "string",
          "readOnly": true
        },
        "value": {
          "description": "Response values",
          "type": "array",
          "items": { }
        }
      }
    },
    "MultiDimRCATargetMeasure": {
      "required": [
        "dataSetId",
        "measureName"
      ],
      "type": "object",
      "properties": {
        "dataSetId": {
          "format": "uuid",
          "description": "Target dataset id for root cause analysis instance",
          "type": "string"
        },
        "measureName": {
          "description": "Target measure name for root cause analysis instance",
          "type": "string"
        }
      }
    },
    "RootCauseAnalysisDataScope": {
      "required": [
        "$type"
      ],
      "type": "object",
      "properties": {
        "$type": {
          "type": "string"
        }
      },
      "discriminator": "$type"
    },
    "MultiDimRCADataScope": {
      "required": [
        "dataSetId",
        "measureNames"
      ],
      "type": "object",
      "allOf": [
        {
          "$ref": "#/definitions/RootCauseAnalysisDataScope"
        }
      ],
      "properties": {
        "dataSetId": {
          "format": "uuid",
          "description": "Data set id for root cause analysis instance",
          "type": "string"
        },
        "measureNames": {
          "description": "Measure name list for root cause analysis instance",
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      },
      "x-ms-discriminator-value": "data"
    },
    "RootCauseAnalysisInstanceRequest": {
      "required": [
        "kind",
        "name"
      ],
      "type": "object",
      "properties": {
        "kind": {
          "description": "Root cause analysis kind",
          "enum": [
            "multidimensional"
          ],
          "type": "string",
          "x-ms-enum": {
            "name": "RootCauseAnalysisType",
            "modelAsString": true
          }
        },
        "name": {
          "description": "Instance name",
          "type": "string"
        }
      },
      "discriminator": "kind",
      "example": {
  "targetMeasure": {
    "dataSetId": "01234567-8901-2345-6789-012345678901",
    "measureName": "error rate"
  },
  "dataSets": [
    {
      "dataSetId": "01234567-8901-2345-6789-012345678901",
      "measureNames": [
        "error count",
        "total call count"
      ]
    }
  ],
  "name": "Sample Root Cause Analysis Instance Name",
  "kind": "multidimensional"
}
    },
    "MultiDimRCAInstanceRequest": {
      "required": [
        "dataSets",
        "targetMeasure"
      ],
      "type": "object",
      "allOf": [
        {
          "$ref": "#/definitions/RootCauseAnalysisInstanceRequest"
        }
      ],
      "properties": {
        "targetMeasure": {
          "$ref": "#/definitions/MultiDimRCATargetMeasure"
        },
        "dataSets": {
          "description": "Data sets for instance",
          "type": "array",
          "items": {
            "$ref": "#/definitions/MultiDimRCADataScope"
          }
        }
      },
      "x-ms-discriminator-value": "multidimensional"
    },
    "RootCauseAnalysisInstanceResponse": {
      "required": [
        "instanceId",
        "kind",
        "name"
      ],
      "type": "object",
      "properties": {
        "kind": {
          "description": "Root cause analysis type",
          "enum": [
            "multidimensional"
          ],
          "type": "string",
          "x-ms-enum": {
            "name": "RootCauseAnalysisType",
            "modelAsString": true
          }
        },
        "instanceId": {
          "format": "uuid",
          "description": "Instance unique ID for root cause analysis",
          "type": "string"
        },
        "name": {
          "description": "Instance name for root cause analysis",
          "type": "string"
        }
      },
      "discriminator": "kind"
    },
    "MultiRCADimInstanceResponse": {
      "required": [
        "dataSets",
        "targetMeasure"
      ],
      "type": "object",
      "allOf": [
        {
          "$ref": "#/definitions/RootCauseAnalysisInstanceResponse"
        }
      ],
      "properties": {
        "targetMeasure": {
          "$ref": "#/definitions/MultiDimRCATargetMeasure"
        },
        "dataSets": {
          "description": "Data sets for root cause analysis",
          "type": "array",
          "items": {
            "$ref": "#/definitions/MultiDimRCADataScope"
          }
        }
      },
      "x-ms-discriminator-value": "multidimensional"
    },
    "RootCauseAnalysisInstanceResponseList": {
      "required": [
        "value"
      ],
      "type": "object",
      "properties": {
        "@nextLink": {
          "description": "Link of next page, only provided when there are next pages",
          "type": "string",
          "readOnly": true
        },
        "value": {
          "description": "Response values",
          "type": "array",
          "items": { }
        }
      }
    },
    "MultiDimRCATrainingParameter": {
      "required": [
        "endDateTime",
        "startDateTime"
      ],
      "type": "object",
      "properties": {
        "startDateTime": {
          "format": "date-time",
          "description": "Start time of data used to train model",
          "type": "string"
        },
        "endDateTime": {
          "format": "date-time",
          "description": "End time of data used to train model",
          "type": "string"
        }
      }
    },
    "RootCauseAnalysisTrainingRequest": {
      "required": [
        "$type",
        "name"
      ],
      "type": "object",
      "properties": {
        "$type": {
          "type": "string"
        },
        "name": {
          "description": "Model name",
          "type": "string"
        }
      },
      "discriminator": "$type",
      "example": {
  "parameter": {
    "startDateTime": "2021-10-01T00:00:00Z",
    "endDateTime": "2021-11-30T00:00:00Z"
  },
  "name": "Sample Root Cause Analysis Model Name"
}
    },
    "MultiDimRCATrainingRequest": {
      "required": [
        "parameter"
      ],
      "type": "object",
      "allOf": [
        {
          "$ref": "#/definitions/RootCauseAnalysisTrainingRequest"
        }
      ],
      "properties": {
        "parameter": {
          "$ref": "#/definitions/MultiDimRCATrainingParameter"
        }
      },
      "x-ms-discriminator-value": "multidimensional"
    },
    "MultiDimRCATrainingTaskInfo": {
      "required": [
        "bestEpoch",
        "bestValidationLoss",
        "dataSize",
        "edgeSize",
        "epochs",
        "latencyInSecond",
        "trainLoss",
        "validationLoss"
      ],
      "type": "object",
      "properties": {
        "epochs": {
          "description": "Train epochs",
          "type": "array",
          "items": {
            "format": "int32",
            "type": "integer"
          }
        },
        "trainLoss": {
          "description": "Train loss for each epoch",
          "type": "array",
          "items": {
            "format": "double",
            "type": "number"
          }
        },
        "validationLoss": {
          "description": "Validation loss for each epoch",
          "type": "array",
          "items": {
            "format": "double",
            "type": "number"
          }
        },
        "latencyInSecond": {
          "description": "Latency in second for each epoch",
          "type": "array",
          "items": {
            "format": "double",
            "type": "number"
          }
        },
        "bestEpoch": {
          "format": "int32",
          "description": "Best epoch",
          "type": "integer"
        },
        "bestValidationLoss": {
          "format": "double",
          "description": "Best validation loss",
          "type": "number"
        },
        "dataSize": {
          "description": "Data size for each epoch",
          "type": "array",
          "items": {
            "format": "int32",
            "type": "integer"
          }
        },
        "edgeSize": {
          "format": "int32",
          "description": "Edge size",
          "type": "integer"
        }
      }
    },
    "RootCauseAnalysisTrainingResponse": {
      "required": [
        "createdDateTime",
        "instanceId",
        "kind",
        "lastModifiedDateTime",
        "modelId",
        "name",
        "status",
        "taskId"
      ],
      "type": "object",
      "properties": {
        "kind": {
          "description": "kind of root cause analysis",
          "enum": [
            "multidimensional"
          ],
          "type": "string",
          "x-ms-enum": {
            "name": "RootCauseAnalysisType",
            "modelAsString": true
          }
        },
        "taskId": {
          "format": "uuid",
          "description": "Training task unique id for root cause analysis",
          "type": "string"
        },
        "instanceId": {
          "format": "uuid",
          "description": "Instance unique id for root cause analysis",
          "type": "string"
        },
        "modelId": {
          "format": "uuid",
          "description": "Model unique id for root cause analysis",
          "type": "string"
        },
        "name": {
          "description": "Model name for root cause analysis",
          "type": "string"
        },
        "status": {
          "description": "Training task status for root cause analysis",
          "enum": [
            "scheduled",
            "running",
            "succeeded",
            "failed",
            "canceled"
          ],
          "type": "string",
          "x-ms-enum": {
            "name": "RootCauseAnalysisTrainingStatus",
            "modelAsString": true
          }
        },
        "createdDateTime": {
          "format": "date-time",
          "description": "Training task created date time",
          "type": "string"
        },
        "lastModifiedDateTime": {
          "format": "date-time",
          "description": "Training task state modified date time",
          "type": "string"
        },
        "error": {
          "$ref": "#/definitions/ErrorCode"
        }
      },
      "discriminator": "kind"
    },
    "MultiDimRCATrainingResponse": {
      "required": [
        "parameter"
      ],
      "type": "object",
      "allOf": [
        {
          "$ref": "#/definitions/RootCauseAnalysisTrainingResponse"
        }
      ],
      "properties": {
        "parameter": {
          "$ref": "#/definitions/MultiDimRCATrainingParameter"
        },
        "taskInfo": {
          "$ref": "#/definitions/MultiDimRCATrainingTaskInfo"
        }
      },
      "x-ms-discriminator-value": "multidimensional"
    },
    "RootCauseAnalysisTrainingResponseList": {
      "required": [
        "value"
      ],
      "type": "object",
      "properties": {
        "@nextLink": {
          "description": "Link of next page, only provided when there are next pages",
          "type": "string",
          "readOnly": true
        },
        "value": {
          "description": "Response values",
          "type": "array",
          "items": { }
        }
      }
    },
    "MultiDimRCAInferenceParameter": {
      "required": [
        "dimensionScope",
        "timestamp"
      ],
      "type": "object",
      "properties": {
        "timestamp": {
          "format": "date-time",
          "description": "Timestamp of issue to be analyzed",
          "type": "string"
        },
        "dimensionScope": {
          "description": "Dimension scope used to narrow down the search",
          "type": "object",
          "additionalProperties": {
            "type": "string"
          }
        }
      }
    },
    "RootCauseAnalysisInferenceRequest": {
      "required": [
        "$type"
      ],
      "type": "object",
      "properties": {
        "$type": {
          "type": "string"
        }
      },
      "discriminator": "$type",
      "example": {
  "parameter": {
    "timestamp": "2021-12-01T00:00:00Z",
    "dimensionScope": {}
  }
}
    },
    "MultiDimRCAInferenceRequest": {
      "required": [
        "parameter"
      ],
      "type": "object",
      "allOf": [
        {
          "$ref": "#/definitions/RootCauseAnalysisInferenceRequest"
        }
      ],
      "properties": {
        "parameter": {
          "$ref": "#/definitions/MultiDimRCAInferenceParameter"
        }
      },
      "x-ms-discriminator-value": "multidimensional"
    },
    "MultiDimRootCauseMeasure": {
      "required": [
        "contributionScore",
        "dataSetId",
        "name",
        "trendType"
      ],
      "type": "object",
      "properties": {
        "dataSetId": {
          "format": "uuid",
          "description": "data set unique id of the root cause measure",
          "type": "string"
        },
        "name": {
          "description": "name of the root cause measure",
          "type": "string"
        },
        "trendType": {
          "description": "trend type of the measure",
          "enum": [
            "rise",
            "drop"
          ],
          "type": "string",
          "x-ms-enum": {
            "name": "MultiDimRootCauseMeasureTrendType",
            "modelAsString": true
          }
        },
        "contributionScore": {
          "format": "double",
          "description": "contribution score of the measure",
          "type": "number"
        }
      }
    },
    "MultiDimRootCause": {
      "required": [
        "dimension",
        "measures",
        "score"
      ],
      "type": "object",
      "properties": {
        "dimension": {
          "description": "dimension combination of the root cause",
          "type": "object",
          "additionalProperties": {
            "type": "string"
          }
        },
        "score": {
          "format": "double",
          "description": "score of the root cause",
          "type": "number"
        },
        "measures": {
          "description": "root cause measures",
          "type": "array",
          "items": {
            "$ref": "#/definitions/MultiDimRootCauseMeasure"
          }
        }
      }
    },
    "MultiDimRCAInferenceResult": {
      "required": [
        "rootCauses"
      ],
      "type": "object",
      "properties": {
        "rootCauses": {
          "description": "root causes",
          "type": "array",
          "items": {
            "$ref": "#/definitions/MultiDimRootCause"
          }
        }
      }
    },
    "RootCauseAnalysisInferenceResponse": {
      "required": [
        "createdDateTime",
        "inferenceId",
        "instanceId",
        "kind",
        "lastModifiedDateTime",
        "modelId",
        "status"
      ],
      "type": "object",
      "properties": {
        "kind": {
          "description": "kind of root cause analysis",
          "enum": [
            "multidimensional"
          ],
          "type": "string",
          "x-ms-enum": {
            "name": "RootCauseAnalysisType",
            "modelAsString": true
          }
        },
        "inferenceId": {
          "format": "uuid",
          "description": "Inference unique id for root cause analysis",
          "type": "string"
        },
        "instanceId": {
          "format": "uuid",
          "description": "Instance unique id for root cause analysis",
          "type": "string"
        },
        "modelId": {
          "format": "uuid",
          "description": "Model unique id for root cause analysis",
          "type": "string"
        },
        "status": {
          "description": "Inference task status for root cause analysis",
          "enum": [
            "scheduled",
            "running",
            "succeeded",
            "failed",
            "canceled"
          ],
          "type": "string",
          "x-ms-enum": {
            "name": "RootCauseAnalysisInferenceStatus",
            "modelAsString": true
          }
        },
        "createdDateTime": {
          "format": "date-time",
          "description": "Inference task created date time",
          "type": "string"
        },
        "lastModifiedDateTime": {
          "format": "date-time",
          "description": "Inference task state modified date time",
          "type": "string"
        },
        "error": {
          "$ref": "#/definitions/ErrorCode"
        }
      },
      "discriminator": "kind"
    },
    "MultiDimRCAInferenceResponse": {
      "required": [
        "parameter"
      ],
      "type": "object",
      "allOf": [
        {
          "$ref": "#/definitions/RootCauseAnalysisInferenceResponse"
        }
      ],
      "properties": {
        "parameter": {
          "$ref": "#/definitions/MultiDimRCAInferenceParameter"
        },
        "result": {
          "$ref": "#/definitions/MultiDimRCAInferenceResult"
        }
      },
      "x-ms-discriminator-value": "multidimensional"
    }
  },
  "securityDefinitions": {
    "apiKeyHeader": {
      "type": "apiKey",
      "name": "Ocp-Apim-Subscription-Key",
      "in": "header"
    }
  },
  "security": [
    {
      "apiKeyHeader": [ ]
    }
  ],
  "parameters": {
    "Endpoint": {
      "name": "Endpoint",
      "description": "Supported Cognitive Services endpoints (protocol and hostname, for example: https://westus2.api.cognitive.microsoft.com).",
      "x-ms-parameter-location": "client",
      "required": true,
      "type": "string",
      "in": "path",
      "x-ms-skip-url-encoding": true
    }
  },
  "x-ms-parameterized-host": {
    "hostTemplate": "{Endpoint}/anomalydetector/v2.0-preview",
    "useSchemePrefix": false,
    "parameters": [
      {
        "$ref": "#/parameters/Endpoint"
      }
    ]
  }
}