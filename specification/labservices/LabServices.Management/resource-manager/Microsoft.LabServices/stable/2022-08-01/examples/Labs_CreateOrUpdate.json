{
  "parameters": {
    "api-version": "2022-08-01",
    "body": {
      "location": "westus",
      "properties": {
        "description": "This is a test lab.",
        "autoShutdownProfile": {
          "disconnectDelay": "PT5M",
          "idleDelay": "PT5M",
          "noConnectDelay": "PT5M",
          "shutdownOnDisconnect": "Enabled",
          "shutdownOnIdle": "UserAbsence",
          "shutdownWhenNotConnected": "Enabled"
        },
        "connectionProfile": {
          "clientRdpAccess": "Public",
          "clientSshAccess": "Public",
          "webRdpAccess": "None",
          "webSshAccess": "None"
        },
        "labPlanId": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.LabServices/labPlans/testlabplan",
        "networkProfile": {
          "subnetId": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.Network/virtualNetworks/test-vnet/subnets/default"
        },
        "securityProfile": {
          "openAccess": "Disabled"
        },
        "state": "Draft",
        "title": "Test Lab",
        "virtualMachineProfile": {
          "additionalCapabilities": {
            "installGpuDrivers": "Disabled"
          },
          "adminUser": {
            "username": "test-user"
          },
          "createOption": "TemplateVM",
          "imageReference": {
            "offer": "WindowsServer",
            "publisher": "Microsoft",
            "sku": "2019-Datacenter",
            "version": "2019.0.20190410"
          },
          "sku": {
            "name": "Medium"
          },
          "usageQuota": "PT10H",
          "useSharedPassword": "Disabled"
        }
      }
    },
    "labName": "testlab",
    "resourceGroupName": "testrg123",
    "subscriptionId": "34adfa4f-cedf-4dc0-ba29-b6d1a69ab345"
  },
  "responses": {
    "200": {
      "body": {
        "name": "testlabplan",
        "type": "Microsoft.LabServices/Lab",
        "id": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.LabServices/labs/testlab",
        "location": "westus",
        "properties": {
          "description": "This is a test lab.",
          "autoShutdownProfile": {
            "disconnectDelay": "PT5M",
            "idleDelay": "PT5M",
            "noConnectDelay": "PT5M",
            "shutdownOnDisconnect": "Enabled",
            "shutdownOnIdle": "UserAbsence",
            "shutdownWhenNotConnected": "Enabled"
          },
          "connectionProfile": {
            "clientRdpAccess": "Public",
            "clientSshAccess": "Public",
            "webRdpAccess": "None",
            "webSshAccess": "None"
          },
          "labPlanId": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.LabServices/labPlans/testlabplan",
          "networkProfile": {
            "subnetId": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.Network/virtualNetworks/test-vnet/subnets/default"
          },
          "provisioningState": "Succeeded",
          "securityProfile": {
            "openAccess": "Disabled",
            "registrationCode": "fAkEcodE"
          },
          "state": "Draft",
          "title": "Test Lab",
          "virtualMachineProfile": {
            "additionalCapabilities": {
              "installGpuDrivers": "Disabled"
            },
            "adminUser": {
              "username": "test-user"
            },
            "createOption": "TemplateVM",
            "imageReference": {
              "offer": "WindowsServer",
              "publisher": "Microsoft",
              "sku": "2019-Datacenter",
              "version": "2019.0.20190410"
            },
            "osType": "Windows",
            "sku": {
              "name": "Medium",
              "capacity": 20
            },
            "usageQuota": "PT10H",
            "useSharedPassword": "Disabled"
          }
        },
        "systemData": {
          "createdAt": "2020-05-01T10:00:00Z",
          "createdBy": "identity123",
          "createdByType": "User",
          "lastModifiedAt": "2020-06-01T09:12:28Z",
          "lastModifiedBy": "identity123",
          "lastModifiedByType": "User"
        }
      }
    },
    "201": {
      "body": {
        "name": "testlabplan",
        "type": "Microsoft.LabServices/Lab",
        "id": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.LabServices/labs/testlab",
        "location": "westus",
        "properties": {
          "description": "This is a test lab.",
          "autoShutdownProfile": {
            "disconnectDelay": "PT5M",
            "idleDelay": "PT5M",
            "noConnectDelay": "PT5M",
            "shutdownOnDisconnect": "Enabled",
            "shutdownOnIdle": "UserAbsence",
            "shutdownWhenNotConnected": "Enabled"
          },
          "connectionProfile": {
            "clientRdpAccess": "Public",
            "clientSshAccess": "Public",
            "webRdpAccess": "None",
            "webSshAccess": "None"
          },
          "labPlanId": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.LabServices/labPlans/testlabplan",
          "networkProfile": {
            "subnetId": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.Network/virtualNetworks/test-vnet/subnets/default"
          },
          "provisioningState": "Creating",
          "securityProfile": {
            "openAccess": "Disabled",
            "registrationCode": "fAkEcodE"
          },
          "state": "Draft",
          "title": "Test Lab",
          "virtualMachineProfile": {
            "additionalCapabilities": {
              "installGpuDrivers": "Disabled"
            },
            "adminUser": {
              "username": "test-user"
            },
            "createOption": "TemplateVM",
            "imageReference": {
              "offer": "WindowsServer",
              "publisher": "Microsoft",
              "sku": "2019-Datacenter",
              "version": "2019.0.20190410"
            },
            "osType": "Windows",
            "sku": {
              "name": "Medium",
              "capacity": 20
            },
            "usageQuota": "PT10H",
            "useSharedPassword": "Disabled"
          }
        },
        "systemData": {
          "createdAt": "2020-05-01T10:00:00Z",
          "createdBy": "identity123",
          "createdByType": "User",
          "lastModifiedAt": "2020-06-01T09:12:28Z",
          "lastModifiedBy": "identity123",
          "lastModifiedByType": "User"
        }
      },
      "headers": {
        "Location": "https://management.azure.com/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/providers/Microsoft.LabServices/operationresults/a64149d8-84cb-4566-ab8e-b4ee1a074174"
      }
    },
    "202": {
      "body": {
        "name": "testlabplan",
        "type": "Microsoft.LabServices/Lab",
        "id": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.LabServices/labs/testlab",
        "location": "westus",
        "properties": {
          "description": "This is a test lab.",
          "autoShutdownProfile": {
            "disconnectDelay": "PT5M",
            "idleDelay": "PT5M",
            "noConnectDelay": "PT5M",
            "shutdownOnDisconnect": "Enabled",
            "shutdownOnIdle": "UserAbsence",
            "shutdownWhenNotConnected": "Enabled"
          },
          "connectionProfile": {
            "clientRdpAccess": "Public",
            "clientSshAccess": "Public",
            "webRdpAccess": "None",
            "webSshAccess": "None"
          },
          "labPlanId": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.LabServices/labPlans/testlabplan",
          "networkProfile": {
            "subnetId": "/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/resourceGroups/testrg123/providers/Microsoft.Network/virtualNetworks/test-vnet/subnets/default"
          },
          "provisioningState": "Updating",
          "securityProfile": {
            "openAccess": "Disabled",
            "registrationCode": "fAkEcodE"
          },
          "state": "Draft",
          "title": "Test Lab",
          "virtualMachineProfile": {
            "additionalCapabilities": {
              "installGpuDrivers": "Disabled"
            },
            "adminUser": {
              "username": "test-user"
            },
            "createOption": "TemplateVM",
            "imageReference": {
              "offer": "WindowsServer",
              "publisher": "Microsoft",
              "sku": "2019-Datacenter",
              "version": "2019.0.20190410"
            },
            "osType": "Windows",
            "sku": {
              "name": "Medium",
              "capacity": 20
            },
            "usageQuota": "PT10H",
            "useSharedPassword": "Disabled"
          }
        },
        "systemData": {
          "createdAt": "2020-05-01T10:00:00Z",
          "createdBy": "identity123",
          "createdByType": "User",
          "lastModifiedAt": "2020-06-01T09:12:28Z",
          "lastModifiedBy": "identity123",
          "lastModifiedByType": "User"
        }
      },
      "headers": {
        "Location": "https://management.azure.com/subscriptions/34adfa4f-cedf-4dc0-ba29-b6d1a69ab345/providers/Microsoft.LabServices/operationresults/a64149d8-84cb-4566-ab8e-b4ee1a074174"
      }
    }
  },
  "operationId": "Labs_CreateOrUpdate",
  "title": "putLab"
}